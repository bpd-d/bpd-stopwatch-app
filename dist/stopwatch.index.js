!function(e){function t(t){for(var r,o,c=t[0],u=t[1],l=t[2],f=0,m=[];f<c.length;f++)o=c[f],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);m.length;)m.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==i[u]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={0:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;a.push([62,1]),n()}({56:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(33),a=(n(56),n(6)),o=n(7),c=n(3);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s="SET_NAVBAR_TITLE",f="SET_NAVBAR_BG",m=new WeakMap,d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m.set(this,{writable:!0,value:void 0}),function(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}(this,m,t)}var t,n,r;return t=e,(n=[{key:"getActions",value:function(){var e,t=this;return u(e={},s,(function(e){return function(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}(t,m).setNavbarTitle(e)})),u(e,f,(function(e){return e})),e}}])&&l(t.prototype,n),r&&l(t,r),e}();var p="exercise",b="break",v="cooldown",h="warmup",y="draft",g="publish",w="new",E="development",O=[{id:"9996",name:"Warmup",duration:"5",type:h,removable:!1,editable:!1},{id:"9997",name:"Exercise",duration:"30",type:p,removable:!1,editable:!1},{id:"9998",name:"Break",duration:"60",type:b,removable:!1,editable:!1},{id:"9999",name:"Cooldown",duration:"90",type:v,removable:!1,editable:!1}],N="An error occured",j="Training is empty",S="Training name is not provided",k="Training has no rounds",A="Round is empty",x="Round has no actions",T="Round name is missing",I="Action is empty",P="Action name is not provided",C="Action type is not provided",D="Action duration is not correct";function _(e){return"Round "+e}var R={darkMode:!1,soundEnabled:!1,isWelcome:!1,simpleView:!1,countdownView:"simple"};function $(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){window.$cui.alert("common-info-dialog","Info",{title:e,message:t})}function F(e){window.$cui.toast(e)}function G(e){return Object(c.e)(e)?e.reduce((function(e,t){return e+Number.parseInt(t.duration)}),0):0}function L(e){return B(e,(function(e,t){switch(t){case"hour":return"".concat(e,"h");case"minute":return"".concat(e,"m");default:return"".concat(e,"s")}}))}function B(e,t){if(e<60)return t(e,"second");if(e<3600){var n=e%60;return t(Math.floor(e/60),"minute")+B(n,t)}var r=e%3600;return t(Math.floor(e/3600),"hours")+B(r,t)}function W(e){return e<0||e>59?"Error":e<10?"0"+e:""+e}function V(e){window.$cui&&window.$cui.getUtils().setLightMode(e?"dark":"light")}function Y(e,t){return Math.floor(100*e/t)}function z(e){return e.rounds.reduce((function(e,t){return[e[0]+t.actions.length,e[1]+G(t.actions)]}),[0,0])}function H(e){return"action-background-"+e}function q(e){switch(e){case"warmup":return"cui-text-success";case"break":return"cui-text-error";case"exercise":return"cui-text-accent";case"cooldown":return"cui-text-secondar";default:return""}}function Q(e,t,n,r){if(!e||null===e||t<0)return e;var i=null!=r?r:1,a=e.length;if(a<2||t>=a)return $(e);var o=e.splice(t,i),c=a-i,u=n;return u<=0?[].concat($(o),$(e)):u>=c?[].concat($(e),$(o)):(e.splice.apply(e,[u,0].concat($(o))),$(e))}function X(e,t){var n=[];if(e.warmup&&n.push(e.warmup),e.exercise)for(var r=0;r<t;r++)n.push(e.exercise),e.break&&r<t-1&&n.push(e.break);return e.cooldown&&n.push(e.cooldown),n}function J(e){Object(c.e)(e)?document.title="".concat("bpd Stopwatch"," - ").concat(e):document.title="bpd Stopwatch"}function K(e){window.$push.perform(s,e)}function Z(e){return e?Array.isArray(e)?e:[e]:[]}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var te=new WeakMap,ne=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),te.set(this,{writable:!0,value:void 0}),function(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}(this,te,t)}var t,n,r;return t=e,(n=[{key:"getRoute",value:function(e){return Object(c.e)(e)?function(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}(this,te)[e]:void 0}},{key:"getUrl",value:function(e){var t=this.getRoute(e);return Object(c.e)(t)?t.url:void 0}},{key:"getIcon",value:function(e){var t=this.getRoute(e);return Object(c.e)(t)?t.icon:void 0}},{key:"getName",value:function(e){var t=this.getRoute(e);return Object(c.e)(t)?t.name:void 0}},{key:"renderUrl",value:function(e,t){var n=this.getUrl(e);return Object(c.e)(t)?(Object(c.d)(t,(function(e,t){n=n.replace(":"+e,t)})),n):n}}])&&ee(t.prototype,n),r&&ee(t,r),e}())({home:{url:"/",name:"Home",icon:"home",description:"Home page"},about:{url:"/about",name:"About",icon:"info",description:"Information about the project"},settings:{url:"/settings",name:"Settings",icon:"settings",description:"User options to change"},actions:{url:"/actions",name:"Actions",icon:"dumbbell",description:"Define activies to be used in trainings"},help:{url:"/help",name:"Help",icon:"emoji_smile",description:"Get information about app features"},devtools:{url:"/dev",name:"Dev Tools",icon:"wrench",description:"Developer settings"},newTraining:{url:"/trainings/edit/new",name:"New Training"},editTraining:{url:"/trainings/edit/:id",name:"Edit Training"},perform:{url:"/trainings/perform/:id",name:"Perform Training"}});function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e){return r.createElement("ul",{className:"cui-list cui-hover"},e.list&&e.list.map((function(t,n){return r.createElement("li",{key:t.id,className:"stopwatch-content-width cui-corner-round"},r.createElement(oe,{data:t,onDelete:e.onDelete,index:n}))})))}function oe(e){var t,n,i=Object(o.f)();return r.useEffect((function(){var e=window.$flow.subscribe("DELETE_TRAINING").finish((function(e){window.$flow.perform("GET_TRAININGS")}));return function(){window.$flow.unsubscribe("DELETE_TRAINING",e.id)}})),r.createElement("div",{className:"cui-flex cui-middle cui-animation-fade-in cui-padding-bottom cui-padding-top"},r.createElement("div",{className:"cui-flex-grow",onClick:function(){i.push(ne.renderUrl("perform",{id:e.data.id}))}},r.createElement("div",{className:"cui-flex cui-middle cui-nowrap"},r.createElement("div",{className:"training-list-item-icon"},r.createElement("span",{className:"cui-text-bold"},e.data.name[0].toUpperCase())),r.createElement("div",{className:"cui-flex-grow cui-margin-left"},r.createElement("span",null,e.data.name),r.createElement("div",{className:"cui-text-muted cui-text-truncate cui-overflow-hidden"},r.createElement("span",null,(t=e.data,(n=re(function(e){return e.rounds.reduce((function(e,t){return[e[0]+t.actions.length,e[1]+G(t.actions)]}),[0,0])}(t),2))[0],L(n[1]))))))),r.createElement("div",{className:"cui-flex-shrink"},r.createElement("div",null,r.createElement(a.b,{to:ne.renderUrl("editTraining",{id:e.data.id}),className:"cui-icon-button","cui-icon":"edit","cui-tooltip":"Edit training"}))))}function ce(){return r.createElement("div",{className:"triangle-wrap"},r.createElement("div",{className:"triangle cui-background-default"}," "))}function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var i=ye(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?he(e):t}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(c,e);var t,n,i,o=be(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),ge(he(t=o.call(this,e)),"list",void 0),ge(he(t),"subscription",void 0),ge(he(t),"onDeleteSubscription",void 0),ge(he(t),"state",void 0),t.state={list:[]},t.updateList=t.updateList.bind(he(t)),t.onDeleteTrainingComplete=t.onDeleteTrainingComplete.bind(he(t)),t.deleteTraining=t.deleteTraining.bind(he(t)),t}return t=c,(n=[{key:"componentDidMount",value:function(){J("Home"),this.subscription=window.$flow.subscribe("GET_ALL_TRAININGS"),this.subscription.finish(this.updateList),this.onDeleteSubscription=window.$flow.subscribe("DELETE_TRAINING",{finish:this.onDeleteTrainingComplete}),window.$flow.perform("GET_ALL_TRAININGS")}},{key:"componentWillUnmount",value:function(){window.$flow.unsubscribe("GET_ALL_TRAININGS",this.subscription.id),window.$flow.unsubscribe("DELETE_TRAINING",this.onDeleteSubscription.id)}},{key:"deleteTraining",value:function(e){var t=fe(this.state.list),n=t.findIndex((function(t){return t.id===e}));n>-1?window.$cui.alert("delete-training-dialog","YesNoCancel",{title:"Delete training",message:"Do you really want to delete training: "+t[n].name+"?",onYes:function(){window.$flow.perform("DELETE_TRAINING",e)}}):M("Delete training","We cannot remove this training. Identified doesn't match.")}},{key:"onDeleteTrainingComplete",value:function(e){e?window.$flow.perform("GET_ALL_TRAININGS"):M("Delete training","Service could not remove training")}},{key:"updateList",value:function(e){this.setState(se(se({},this.state),{},{list:e}))}},{key:"render",value:function(){return r.createElement("div",{className:"stopwatch-page-layout"},r.createElement("div",{className:"stopwatch-page-top "},r.createElement("div",{className:"cui-container cui-center cui-background-default cui-padding-large-vertical"},r.createElement("div",null,r.createElement("span",{className:"cui-icon stopwatch-icon","cui-icon":"stopwatch_7"}),r.createElement("h1",{className:"cui-h1 cui-text-center cui-margin-small-top stopwatch-title"},"Stopwatch"))),r.createElement(ce,null)),r.createElement("div",{className:"stopwatch-page-bottom"},r.createElement("div",{className:"stopwatch-home-list cui-overflow-y-auto"},this.state.list.length>0?r.createElement(ae,{list:this.state.list,onDelete:this.deleteTraining}):r.createElement(Ee,null))),r.createElement("div",{className:"cui-position-float cui-position-bottom cui-position-center cui-margin-large-bottom app-float-bottom z-index-100"},r.createElement(a.b,{to:ne.renderUrl("newTraining"),className:"cui-icon-button cui-large cui-background-default cui-box-shadow","cui-icon":"plus"})))}}])&&de(t.prototype,n),i&&de(t,i),c}(r.Component);function Ee(){return r.createElement("div",{className:"cui-container cui-center"},r.createElement("p",{className:"cui-text-muted cui-text-center"},"There are no trainings recorded. ",r.createElement(a.b,{className:"cui-link cui-accent",to:ne.renderUrl("newTraining")},"Add new")," training to start your execises!"))}function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ae(e);if(t){var i=Ae(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(c,e);var t,n,i,o=Se(c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),o.call(this,e)}return t=c,(n=[{key:"render",value:function(){return r.createElement("div",{className:"cui-section cui-flex-center cui-height-viewport-1-2"},r.createElement("div",{className:"cui-card cui-large"},r.createElement("div",{className:"cui-card-header cui-text-error"},r.createElement("span",{className:"cui-card-title"},"Error")),r.createElement("div",{className:"cui-card-body"},"It appears that page you looking for does not exist. Try to look for it again or go back to our Home page"),r.createElement("div",{className:"cui-card-footer cui-flex cui-right"},r.createElement(a.b,{to:"/",className:"cui-link"},"Go Home"))))}}])&&Ne(t.prototype,n),i&&Ne(t,i),c}(r.Component);function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Re(e);if(t){var i=Re(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return De(this,n)}}function De(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?_e(e):t}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(c,e);var t,n,i,o=Ce(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).onClick=t.onClick.bind(_e(t)),t}return t=c,(n=[{key:"onClick",value:function(){this.props.shouldClose&&window.$cui.get("#app-offcanvas").emit("close")}},{key:"render",value:function(){return r.createElement(a.c,{exact:!0,activeClassName:"cui-active",className:this.props.class,to:this.props.url,onClick:this.onClick},this.props.isIcon?r.createElement(Me,{name:this.props.name,icon:this.props.icon}):this.props.name)}}])&&Ie(t.prototype,n),i&&Ie(t,i),c}(r.Component);function Ue(e){var t;return e.route?r.createElement($e,{class:e.class,isIcon:e.isIcon,shouldClose:e.shouldClose,icon:e.route.icon,name:e.route.name,url:null!==(t=e.url)&&void 0!==t?t:e.route.url}):r.createElement("span",{className:"cui-text-error"},"Unknown")}function Me(e){return r.createElement("span",{className:"cui-flex cui-middle"},r.createElement("span",{"cui-icon":e.icon}),r.createElement("span",{className:"cui-margin-small-left"},e.name))}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function We(e){var t=Object(o.g)(),n=Le(r.useState({currentSite:"",darkMode:!1,soundEnabled:!1}),2),i=(n[0],n[1],Le(r.useState(""),2)),c=i[0],u=i[1],l=function(e){var t=Fe(r.useState(e),2),n=t[0],i=t[1];function a(e){i(e)}return r.useEffect((function(){var e=window.$push.subscribe(s,{finish:a});return function(){window.$push.unsubscribe(s,e.id)}})),n}(""),f=Object(o.f)();return r.useEffect((function(){var e=t.pathname.split("/");return u(e.length>1?e[1].toLocaleUpperCase():""),function(){}}),[t]),r.createElement("nav",{className:"cui-navbar cui-sticky cui-box-shadow-remove stopwatch-layout-navigation"},r.createElement("div",{className:"cui-navbar-left cui-width-1-1 cui-width-auto--m cui-flex cui-middle cui-between",id:"navbar-left"},r.createElement("ul",null,c&&r.createElement(r.Fragment,null,r.createElement("li",null,r.createElement("a",{"cui-icon":"chevron_small_left",onClick:function(){f.goBack()}})),r.createElement("li",null,r.createElement(a.b,{className:"cui-icon",to:ne.renderUrl("home"),"cui-icon":"stopwatch_small_1"})),r.createElement("li",null,r.createElement("span",null,l)))),r.createElement("a",{className:"cui-icon cui-padding cui-button cui-hidden--m","cui-icon":"menu","cui-open":"target: #app-offcanvas"})),r.createElement("ul",{className:"cui-navbar-right cui-unhidden--m"},r.createElement("li",null,r.createElement($e,{class:"cui-navbar-item",url:ne.renderUrl("home"),name:ne.getName("home")})),r.createElement("li",null,r.createElement($e,{class:"cui-navbar-item",url:ne.renderUrl("actions"),name:ne.getName("actions")})),r.createElement("li",null,r.createElement($e,{class:"cui-navbar-item",url:ne.renderUrl("settings"),name:ne.getName("settings")})),r.createElement("li",null,r.createElement($e,{class:"cui-navbar-item",url:ne.renderUrl("help"),name:ne.getName("help")})),r.createElement("li",null,r.createElement($e,{class:"cui-navbar-item",url:ne.renderUrl("about"),name:ne.getName("about")}))))}function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe(e);if(t){var i=Qe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qe(this,n)}}function qe(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(o,e);var t,n,i,a=He(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),a.call(this,e)}return t=o,(n=[{key:"render",value:function(){return r.createElement("div",{className:"cui-off-canvas",id:"app-offcanvas","cui-off-canvas":"escClose: y; outClose: y"},r.createElement("div",{className:"cui-off-canvas-container cui-card off-canvas-layout cui-flex cui-flex-direction-column"},r.createElement("div",{className:"cui-card-header cui-flex cui-middle cui-right cui-width-1-1"},r.createElement("a",{href:"#",className:"cui-icon","cui-icon":"close","cui-close":""})),r.createElement("div",{className:"off-canvas-content cui-card-body cui-flex-grow cui-flex cui-middle cui-width-1-1"},r.createElement("div",{className:"cui-width-1-1"},r.createElement("h3",{className:"cui-h3 cui-text-center"},"Menu"),r.createElement("ul",{className:"cui-list cui-highlight cui-accent cui-margin-top"},r.createElement("li",null,r.createElement(Ue,{route:ne.getRoute("home"),shouldClose:!0,isIcon:!0})),r.createElement("li",null,r.createElement(Ue,{route:ne.getRoute("actions"),shouldClose:!0,isIcon:!0})),r.createElement("li",null,r.createElement(Ue,{route:ne.getRoute("settings"),shouldClose:!0,isIcon:!0})),r.createElement("li",null,r.createElement(Ue,{route:ne.getRoute("help"),shouldClose:!0,isIcon:!0})),r.createElement("li",null,r.createElement(Ue,{route:ne.getRoute("about"),shouldClose:!0,isIcon:!0})))))))}}])&&Ye(t.prototype,n),i&&Ye(t,i),o}(r.Component);function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var et="GET_ALL",tt="SET_ACTION",nt="REMOVE_ACTION",rt="CLEAR_ACTIONS",it=new WeakMap,at=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),it.set(this,{writable:!0,value:void 0}),function(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}(this,it,t)}var t,n,r;return t=e,(n=[{key:"getActions",value:function(){var e,t=this;return Je(e={},et,(function(){return Ze(t,it).getAllActions()})),Je(e,tt,(function(e){return Ze(t,it).setAction(e)})),Je(e,nt,(function(e){return Ze(t,it).removeAction(e)})),Je(e,rt,(function(){return Ze(t,it).clearActions(),!0})),e}}])&&Ke(t.prototype,n),r&&Ke(t,r),e}();function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function ut(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}function lt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pt(e);if(t){var i=pt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mt(this,n)}}function mt(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?dt(e):t}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t,n){return t&&vt(e.prototype,t),n&&vt(e,n),e}var yt=function(){function e(){bt(this,e)}return ht(e,[{key:"validate",value:function(e){var t={status:!0};try{var n=this.performValidation(e);n&&n.length>0&&(t.status=!1,t.errors=n)}catch(e){var r="An error occured during validation";console.error(r),console.error(e),t.status=!1,t.errors=[r+": "+e.message]}return t}}]),e}(),gt=function(e){lt(n,e);var t=ft(n);function n(){return bt(this,n),t.call(this)}return ht(n,[{key:"performValidation",value:function(e){if(!Object(c.e)(e))return[j];var t=[];return Object(c.e)(e.name)||t.push(S),Object(c.e)(e.rounds)||t.push(k),t}}]),n}(yt),wt=function(e){lt(n,e);var t=ft(n);function n(){return bt(this,n),t.call(this)}return ht(n,[{key:"performValidation",value:function(e){if(!Object(c.e)(e))return[A];var t=[];return Object(c.e)(e.name)||t.push(T),Object(c.e)(e.actions)||t.push(x),t}}]),n}(yt),Et=function(e){lt(n,e);var t=ft(n);function n(){return bt(this,n),t.call(this)}return ht(n,[{key:"performValidation",value:function(e){if(!Object(c.e)(e))return[I];var t=[];return Object(c.e)(e.name)||t.push(P),Object(c.e)(e.type)||t.push(C),Object(c.e)(e.duration)||t.push(D),t}}]),n}(yt),Ot=new WeakMap,Nt=new WeakMap,jt=new WeakMap,St=function(e){lt(n,e);var t=ft(n);function n(){var e;return bt(this,n),e=t.call(this),Ot.set(dt(e),{writable:!0,value:void 0}),Nt.set(dt(e),{writable:!0,value:void 0}),jt.set(dt(e),{writable:!0,value:void 0}),ut(dt(e),Ot,new gt),ut(dt(e),jt,new wt),ut(dt(e),Nt,new Et),e}return ht(n,[{key:"performValidation",value:function(e){var t=ct(this,Ot).validate(e);if(t.status)try{t=this.validateRounds(e.rounds)}catch(e){return[N]}return t.errors}},{key:"validateRounds",value:function(e){for(var t=null,n=e.length,r=0;r<n&&(!(t=ct(this,jt).validate(e[r])).status||(t=this.validateActions(e[r].actions)).status);r++);return t}},{key:"validateActions",value:function(e){for(var t=null,n=e.length,r=0;r<n;r++)if(!(t=ct(this,Nt).validate(e[r])).status)return;return t}}]),n}(yt);function kt(e){var t;return r.useEffect((function(){}),[e]),r.createElement("div",{className:"cui-dialog ".concat(null!==(t=e.className)&&void 0!==t?t:""),"cui-dialog":"escClose: Y",id:e.id},r.createElement("div",{className:"cui-dialog-container"},r.createElement("div",{className:"cui-dialog-header"},r.createElement("span",{className:"cui-dialog-title"},e.title),r.createElement("a",{className:"cui-icon","cui-icon":"close","cui-close":""})),r.createElement("div",{className:"cui-dialog-body"},e.body),e.footer&&r.createElement("div",{className:"cui-dialog-footer"},e.footer)))}function At(e){return r.createElement(r.Fragment,null,e.errors&&e.errors.length>0&&r.createElement("ul",{className:"cui-list"},e.errors.map((function(e,t){return r.createElement("li",{key:t,className:"cui-animation-fade-in"},r.createElement("span",{className:"cui-text-error"},e))}))))}function xt(e){var t;return r.createElement("span",{className:"cui-icon "+(null!==(t=e.className)&&void 0!==t?t:""),"cui-icon":"stopwatch_".concat(e.type)})}function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return It(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pt(e){var t="radio-group"+e.id,n="radio-"+e.id,i=Tt(r.useState([]),2),a=i[0],o=i[1];function u(t){if(e.onChange&&t.target.checked){var n=a.find((function(e){return e.id===t.target.id}));Object(c.e)(n)&&n.name!==e.value&&e.onChange(n.name)}}function l(t){return e.value===t}function s(e,t){return{name:e,checked:l(e),id:n+t}}return r.useEffect((function(){return o([s(h,0),s(p,1),s(b,2),s(v,3)]),function(){}}),[e.value]),r.createElement("div",{id:e.id,className:"cui-flex-grid cui-child-width-1-4"},a.map((function(e){return r.createElement("div",{key:e.id},r.createElement("div",{className:"cui-radio-custom cui-width-1-1"},r.createElement("input",{type:"radio",id:e.id,name:t,checked:e.checked,onChange:u}),r.createElement("label",{htmlFor:e.id,className:"cui-content cui-padding-small cui-width-1-1"},r.createElement("div",{className:"cui-flex cui-center"},r.createElement(xt,{type:e.name})),r.createElement("div",{className:"cui-flex cui-center"},r.createElement("span",{className:"cui-text-small"},e.name)))))})))}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){_t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $t(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ut(e){var t=Rt(r.useState({id:void 0,name:"",duration:"5",removable:!0,editable:!1,type:p}),2),n=t[0],i=t[1],a=Rt(r.useState([]),2),o=a[0],c=a[1];function u(e){e.target.value;var t=e.target.name;switch(t){case"name":case"duration":case"type":i(Dt(Dt({},n),{},_t({},t,e.target.value)));break;case"removable":case"editable":i(Dt(Dt({},n),{},_t({},t,e.target.checked)))}}return r.useEffect((function(){return e.action&&(i(Dt({},e.action)),c([])),function(){}}),[e.action]),r.createElement(kt,{title:"Add new",id:"add-action-dialog",body:r.createElement(r.Fragment,null,r.createElement("div",{className:"cui-form"},r.createElement("label",{className:"cui-form-label"},"Name"),r.createElement("input",{className:"cui-input stopwatch-input-width",type:"text",name:"name",value:n.name,placeholder:"Name",onChange:u})),r.createElement("div",{className:"cui-form cui-margin-top"},r.createElement("label",{className:"cui-form-label"},"Duration"),r.createElement("input",{className:"cui-input stopwatch-input-width",type:"number",min:"0",max:"100",name:"duration",value:n.duration,placeholder:"Duration",onChange:u})),r.createElement("div",{className:"cui-form cui-margin-top"},r.createElement("label",{className:"cui-form-label"},"Type"),r.createElement("div",{className:"stopwatch-input-width cui-margin-top"},r.createElement(Pt,{id:"add-action",value:n.type,onChange:function(e){i(Dt(Dt({},n),{},{type:e}))}}))),r.createElement("div",{className:"cui-form cui-flex cui-middle cui-reverse cui-margin-top"},r.createElement("input",{type:"checkbox",className:"cui-checkbox",id:"checkbox-1-2",name:"editable",checked:n.editable,onChange:u}),r.createElement("label",{htmlFor:"checkbox-1-2"}," Editable")),r.createElement("div",{className:"cui-form cui-flex cui-middle cui-reverse cui-margin-top"},r.createElement("input",{type:"checkbox",className:"cui-checkbox",id:"checkbox-1-1",name:"removable",checked:n.removable,onChange:u}),r.createElement("label",{htmlFor:"checkbox-1-1"}," Removable")),r.createElement(At,{errors:o})),footer:r.createElement("div",{className:"cui-flex cui-right"},r.createElement("button",{className:"cui-button cui-margin-small-right","cui-close":""},"Cancel"),r.createElement("button",{className:"cui-button cui-accent",onClick:function(){if(e.onSave){var t=Dt({},n),r=(new Et).validate(t);if(r.status){var i=window.$cui.get("#add-action-dialog");e.onSave(t),i.emit("close")}c(r.errors)}}},"Save"))})}function Mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ft(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gt(e){var t=Mt(r.useState(""),2),n=t[0],i=t[1];function a(t){i(t),Object(c.e)(e.onUpdate)&&e.onUpdate(t)}return r.createElement("div",{className:"cui-input-mix "+e.className},r.createElement("input",{type:"text",className:"cui-input",placeholder:"Filter",value:n,onChange:function(e){a(e.target.value)}}),Object(c.e)(n)&&r.createElement("a",{className:"cui-icon","cui-icon":"close",onClick:function(){return a("")}}))}function Lt(e){return r.createElement("span",{className:"cui-margin-small-left cui-unhidden--m"},e.label)}function Bt(e){var t,n,i=null!==(t=e.cancelLabel)&&void 0!==t?t:"Cancel",a=null!==(n=e.confirmLabel)&&void 0!==n?n:"OK";return r.createElement("div",{className:"cui-dropdown cui-section drop-max-width","cui-drop":"outClose: Y; autoClose: Y",id:e.id},r.createElement("p",null,e.message),r.createElement("div",{className:"cui-flex cui-right cui-margin-top"},r.createElement("button",{className:"cui-button cui-small",onClick:function(){window.$cui.get("#"+e.id).emit("close"),e.onCancel&&e.onCancel()}},i),r.createElement("button",{className:"cui-button cui-accent cui-small cui-margin-small-left",onClick:function(){window.$cui.get("#"+e.id).emit("close"),e.onConfirm()}},a)))}function Wt(e){return r.createElement("div",{className:"cui-container cui-flex-grid cui-flex-grid-match cui-child-width-1-1 cui-child-width-1-3--m cui-animatio-fade-in"},Object(c.e)(e.actions)&&e.actions.map((function(t,n){return function(t){if(!Object(c.e)(e.filter))return!0;var n=t.toLowerCase().match(e.filter.toLowerCase());return Object(c.e)(n)}(t.name)&&r.createElement("div",{key:n},r.createElement("div",{className:"cui-card cui-default cui-animation-fade-in "+H(t.type)},r.createElement("div",{className:"cui-card-header cui-flex cui-between cui-nowrap cui-middle"},r.createElement("span",{className:"cui-card-title cui-text-truncate cui-overflow-hidden"},t.name),r.createElement(xt,{className:"cui-padding-small",type:t.type})),r.createElement("div",{className:"cui-card-body cui-flex cui-middle cui-nowrap action-card-height"},r.createElement("div",{className:"cui-flex-grow cui-overflow-hidden"},r.createElement("div",{className:"cui-text-truncate"},r.createElement("span",null,t.duration," seconds"))),r.createElement("div",{className:"cui-flex-shrink"},r.createElement("ul",{className:"cui-icon-nav"},t.editable&&r.createElement("li",null,r.createElement("a",{className:"cui-icon","cui-icon":"edit",onClick:function(){!function(t,n){switch(t){case"edit":e.onEdit(n);break;case"delete":e.onDelete(n)}}("edit",t)}},r.createElement(Lt,{label:"Edit"}))),t.removable&&r.createElement("li",null," ",r.createElement("div",{className:"cui-drop-trigger"},r.createElement("a",{className:"cui-icon","cui-icon":"trash"},r.createElement(Lt,{label:"Delete"})),r.createElement(Bt,{message:"Do you really want to delete this action?",cancelLabel:"No",confirmLabel:"Yes",id:"action-delete-drop",onConfirm:function(){e.onDelete(t)}}))))))))})))}function Vt(e){return r.createElement("div",{className:"stopwatch-page-header cui-margin-bottom"},r.createElement("div",{className:"cui-container cui-center cui-background-default"},r.createElement("div",{className:"cui-padding-large-vertical"},e.icon&&r.createElement("div",{className:"cui-flex-center cui-margin-bottom"},r.createElement("span",{"cui-icon":e.icon})),r.createElement("h1",{className:"cui-h1 cui-text-center cui-margin-remove-bottom cui-anim-fade-in"},e.title),r.createElement("p",{className:"cui-text-center cui-text-muted cui-scale-y-in cui-animation-delay cui-margin-large-bottom"},e.description))),r.createElement(ce,null))}function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){Ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xt(e){var t=ne.getRoute(e.routeName),n=qt(r.useState(t.name),2),i=n[0],a=n[1];function o(e){Object(c.e)(e)&&(J(t.name),K(t.name),a(e))}return r.useEffect((function(){J(t.name),K(t.name)}),[]),r.createElement(r.Fragment,null,r.createElement(Vt,{title:i,icon:t.icon,description:t.description}),r.createElement("div",{className:"stopwatch-content-width cui-margin-top"},Z(e.children).map((function(e){return"string"==typeof e.type?r.cloneElement(e,zt({},e.props)):r.cloneElement(e,zt({setPageTitle:o},e.props))}))))}function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){Zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function en(e){return function(e){if(Array.isArray(e))return rn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||nn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||nn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(e,t){if(e){if("string"==typeof e)return rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rn(e,t):void 0}}function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var an={id:void 0,name:"",type:"exercise",duration:"5",removable:!0,editable:!0};function on(){var e=tn(r.useState({actions:en(O),current:null}),2),t=e[0],n=e[1],i=ne.getRoute("actions"),a=tn(r.useState(""),2),o=a[0],c=a[1];function u(e){n(Kt(Kt({},t),{},{actions:[].concat(en(O),en(e))}))}function l(e){n(Kt(Kt({},t),{},{current:e||Kt({},an)})),window.$cui.get("#add-action-dialog").emit("open")}return r.useEffect((function(){J(i.name);var e=window.$actionsFlow.subscribe(et,{finish:u}),t=window.$actionsFlow.subscribe(tt),n=window.$actionsFlow.subscribe(nt);return window.$actionsFlow.perform(et),function(){window.$actionsFlow.unsubscribe(et,e.id),window.$actionsFlow.unsubscribe(tt,t.id),window.$actionsFlow.unsubscribe(nt,n.id)}}),[t.actions]),r.createElement(r.Fragment,null,r.createElement(Xt,{routeName:"actions"},r.createElement("div",{key:"search-input",className:"cui-container cui-flex cui-middle cui-middle cui-center cui-right--s"},r.createElement(Gt,{value:o,onUpdate:function(e){c(e)},className:"cui-width-1-1 cui-width-1-3--m cui-width-1-4--l"})),r.createElement(Wt,{key:"actions-grid",filter:o,actions:t.actions,onEdit:l,onDelete:function(e){window.$actionsFlow.perform(nt,e)}}),r.createElement("div",{key:"btn-bar",className:"cui-position-float cui-position-bottom cui-position-center cui-margin-large-bottom app-float-bottom z-index-100"},r.createElement("button",{className:"cui-icon-button cui-large cui-background-default cui-box-shadow","cui-icon":"plus",onClick:function(){l()}}))),r.createElement(Ut,{action:t.current,onSave:function(e){window.$actionsFlow.perform(tt,e)}}))}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var sn="GET_ALL_TRAININGS",fn="ADD_TRAINING",mn="UPDATE_TRAINING",dn="DELETE_TRAINING",pn="GET_TRAINING",bn="CLEAR_TRAININGS",vn="GET_DRAFT",hn="SET_DRAFT",yn="CLEAR_DRAFT",gn="GET_FOR_EDIT",wn=new WeakMap,En=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),wn.set(this,{writable:!0,value:void 0}),function(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}(this,wn,t)}var t,n,r;return t=e,(n=[{key:"getActions",value:function(){var e,t=this;return cn(e={},sn,(function(){return ln(t,wn).getAllTrainings()})),cn(e,fn,(function(e){return ln(t,wn).addTraining(e)})),cn(e,mn,(function(e){return ln(t,wn).updateTraining(e)})),cn(e,dn,(function(e){return ln(t,wn).deleteTraining(e)})),cn(e,pn,(function(e){return ln(t,wn).getTraining(e)})),cn(e,vn,(function(){return ln(t,wn).getDraft()})),cn(e,hn,(function(e){return ln(t,wn).setDraft(e)})),cn(e,yn,(function(){return ln(t,wn).clearDraft()})),cn(e,gn,(function(e){var n=ln(t,wn).getDraft();return Object(c.e)(n)&&n.id===e?n:Object(c.e)(e)||!Object(c.e)(n.id)?ln(t,wn).getTraining(e):void 0})),cn(e,bn,(function(){return ln(t,wn).clearTrainings(),!0})),e}}])&&un(t.prototype,n),r&&un(t,r),e}();var On=Object(o.i)((function(e){var t=e.history;return r.createElement("button",{className:"cui-button cui-accent",onClick:function(){return t.goBack()}},"Go Back")}));function Nn(e){var t;return r.createElement("div",{className:e.classes},r.createElement("div",null,r.createElement("h2",{className:"cui-h2 cui-text-center cui-text-error"},e.message),r.createElement("div",{className:""},r.createElement("div",{className:"cui-flex cui-center"},r.createElement(a.b,{to:"/",className:"cui-button cui-margin-small-right"},"Go Home"),null!==(t=e.goBack)&&void 0!==t?t:r.createElement(On,null)))))}function jn(e){return r.useEffect((function(){}),[e.items]),r.createElement("ul",{className:"cui-list cui-inline"},e.items&&e.items.length>0&&e.items.map((function(e,t){return r.createElement(Sn,{key:e.icon,icon:e.icon,label:e.label,onClick:e.onClick,modifiers:e.modifiers})})))}function Sn(e){var t,n="cui-button cui-rounded "+(null!==(t=e.modifiers)&&void 0!==t?t:"");return r.createElement("li",{className:"cui-padding-small-horizontal"},r.createElement("a",{className:n,"cui-icon":e.icon,onClick:e.onClick},r.createElement(Lt,{label:e.label})))}function kn(e){return r.createElement("div",{className:"cui-flex cui-middle"},r.createElement("div",{className:"cui-flex-center cui-margin-right"},r.createElement(xt,{type:e.action.type})),r.createElement("div",{className:"cui-flex-grow"},r.createElement("div",{className:""},e.action.name),r.createElement("div",{className:"cui-text-muted"},"Lasts ",e.action.duration," seconds")))}function An(e){return r.createElement("div",{className:"cui-drop-trigger cui-block"},r.createElement("a",{className:"cui-link cui-block"},r.createElement(xn,{action:e.value})),r.createElement("div",{className:"cui-dropdown drop-height","cui-drop":"outClose: Y;",id:e.id},r.createElement("ul",{className:"cui-drop-nav drop-max-width"},e.actions&&e.actions.map((function(t){return r.createElement("li",{key:t.id},r.createElement("a",{className:"cui-overflow-hidden cui-text-truncate",onClick:function(){!function(t){!e.onSelect||e.value&&e.value.id===t.id||e.onSelect(t),window.$cui.get("#"+e.id).emit("close")}(t)}},r.createElement(kn,{action:t})))})))))}function xn(e){return r.createElement("div",{className:"cui-flex cui-middle cui-width-1-1"},r.createElement("div",{className:"cui-flex-grow"},e.action?r.createElement(kn,{action:e.action}):r.createElement("span",{className:"cui-inline-block cui-padding-small"},"No action selected")),r.createElement("span",{"cui-icon":"chevron_small_down"}))}function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cn(e){return function(e){if(Array.isArray(e))return Rn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||_n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _n(e,t){if(e){if("string"==typeof e)return Rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(e,t):void 0}}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $n(e){var t=Dn(Object(r.useState)({actions:[],selected:null,errors:[],name:""}),2),n=t[0],i=t[1];function a(t,r){var a;i(In(In({},n),{},{actions:t,selected:null!==(a=n.selected)&&void 0!==a?a:e.definedActions[0],errors:[],name:r||n.name}))}return r.useEffect((function(){var t=e.round&&e.round.name?e.round.name:_(e.currentCount);return a(Object(c.e)(e.round)?e.round.actions:[],t),function(){}}),[e.round,e.definedActions,e.currentCount]),r.createElement(kt,{id:"edit-round-dialog",title:"Edit Round",body:r.createElement(r.Fragment,null,r.createElement("div",{className:""},r.createElement("div",{className:"cui-form"},r.createElement("label",{htmlFor:"",className:"cui-form-label"},"Round name"),r.createElement("input",{type:"text",className:"cui-input",placeholder:"Round name",value:n.name,onChange:function(e){var t=e.target.value,r=[];Object(c.e)(t)||r.push("Name cannot be empty"),i(In(In({},n),{},{errors:r,name:t}))}})),r.createElement("div",{className:"cui-margin-top"},"Actions"),r.createElement("ul",{className:"cui-list cui-margin-top edit-round-dialog-body"},n.actions&&n.actions.map((function(e,t){return r.createElement("li",{key:e.id+t,className:"animation-fade-in"},r.createElement("div",{className:"cui-flex cui-middle"},r.createElement("div",{className:"cui-flex-grow"},r.createElement(kn,{action:e})),r.createElement("ul",{className:"cui-icon-nav"},r.createElement("li",null,r.createElement("a",{className:"cui-icon","cui-icon":"swap",onClick:function(){!function(e){if(Object(c.a)(n.selected,n.actions)){var t=Cn(n.actions);t[e]=n.selected,i(In(In({},n),{},{actions:t}))}}(t)}})),r.createElement("li",null,r.createElement("a",{className:"cui-icon","cui-icon":"trash",onClick:function(){!function(e){var t=Cn(n.actions);t.splice(e,1),a(t)}(t)}})))))}))),r.createElement("div",{className:"cui-flex cui-middle cui-nowrap cui-margin-top"},r.createElement("div",{className:"cui-flex-grow"},r.createElement(An,{value:n.selected,actions:e.definedActions,onSelect:function(e){e&&i(In(In({},n),{},{selected:e}))},name:"actioonaa",id:"round-select-drop"})),r.createElement("div",{className:"cui-padding-horizontal"},r.createElement("button",{"cui-icon":"plus",className:"cui-icon cui-icon-button",onClick:function(){n.selected&&a([].concat(Cn(n.actions),[n.selected]))}}))),r.createElement(At,{errors:n.errors}))),footer:r.createElement("div",{className:"cui-flex cui-right"},r.createElement("button",{className:"cui-button cui-margin-small-right","cui-close":""},"Cancel"),r.createElement("button",{className:"cui-button cui-accent",onClick:function(){if(e.onSave){var t={actions:Cn(n.actions),name:n.name},r=(new wt).validate(t);if(r.status)return e.onSave(t,e.index),void i(In(In({},n),{},{name:_(e.currentCount+1),selected:null,actions:[]}));i(In(In({},n),{},{errors:r.errors}))}}},"Save"))})}function Un(e){return r.createElement("div",{className:"cui-flex cui-middle cui-nowrap"},r.createElement("div",{className:"cui-flex-grow"},r.createElement("div",null,r.createElement("span",{className:"cui-text-bold"},e.round.name)),r.createElement("div",{className:"cui-text-muted cui-text-small cui-text-no-wrap"},r.createElement("span",null,e.round.actions.length," actions, ",L(G(e.round.actions))))),r.createElement("ul",{className:"cui-icon-nav cui-flex-shrink"},!e.isFirst&&r.createElement("li",null,r.createElement("a",{className:"cui-icon","cui-icon":"chevron_up",onClick:function(){e.onMoveUp(e.round,e.index)},"cui-tooltip":"Move up"})),!e.isLast&&r.createElement("li",null,r.createElement("a",{className:"cui-icon","cui-icon":"chevron_down",onClick:function(){e.onMoveDown(e.round,e.index)},"cui-tooltip":"Move down"})),r.createElement("li",null,r.createElement("a",{className:"cui-icon","cui-icon":"copy",onClick:function(){e.onClone(e.round,e.index)},"cui-tooltip":"Clone"})),r.createElement("li",null,r.createElement("a",{className:"cui-icon","cui-icon":"edit",onClick:function(){e.onEdit(e.round,e.index)},"cui-tooltip":"Edit"})),r.createElement("li",null,r.createElement("div",{className:"cui-drop-trigger"},r.createElement("a",{className:"cui-icon","cui-icon":"trash"}),r.createElement(Bt,{id:"delete-confirm-drop",message:"Do you really want to delete this round?",cancelLabel:"No",confirmLabel:"Yes",onConfirm:function(){e.onDelete(e.round,e.index)}})))))}function Mn(e){return r.createElement("div",{className:"cui-flex cui-right cui-middle"},r.createElement("button",{className:"cui-button",onClick:e.onCancel},"Cancel"),r.createElement("button",{className:"cui-button cui-accent cui-margin-small-left",onClick:e.onConfirm},e.confirmLabel))}function Fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(n),!0).forEach((function(t){Ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vn(e){var t=r.useMemo((function(){return function(e){return e.reduce((function(e,t){var n,r=null!==(n=t.type)&&void 0!==n?n:"Unknown";return e[r]?e[r].push(t):e[r]=[t],e}),{})}(e.actions)}),[e.actions]),n=Bn(r.useState({warmup:t.warmup?t.warmup[0]:null,exercise:t.exercise?t.exercise[0]:null,break:t.break?t.break[0]:null,cooldown:t.cooldown?t.cooldown[0]:null}),2),i=n[0],a=n[1],o=Bn(r.useState(1),2),c=o[0],u=o[1];return r.useEffect((function(){return a({warmup:t.warmup?t.warmup[0]:null,break:t.break?t.break[0]:null,exercise:t.exercise?t.exercise[0]:null,cooldown:t.cooldown?t.cooldown[0]:null}),function(){}}),[e.actions]),r.createElement(kt,{title:"Quick Round",id:e.id,body:r.createElement(Yn,{actions:t,onUpdate:function(e,t){a(Gn(Gn({},i),{},Ln({},t,e)))},data:i,count:c,onCounterUpdate:function(e){u(e)}}),footer:r.createElement(Mn,{confirmLabel:"Save",onCancel:function(){window.$cui.get("#"+e.id).emit("close")},onConfirm:function(){if(!(c<1)){var t={name:"Quick",actions:X(i,c)};e.onSave(t)}}})})}function Yn(e){function t(t){t>0&&t<12&&e.onCounterUpdate(t)}return r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement(zn,{actions:e.actions[h],value:e.data.warmup,onUpdate:e.onUpdate,type:h,id:"warmup-select-drop",name:"warmup-action"})),r.createElement("div",{className:"cui-margin-top"},r.createElement(zn,{actions:e.actions[p],value:e.data.exercise,onUpdate:e.onUpdate,type:p,id:"exercise-select-drop",name:"exercise-action"})),r.createElement("div",{className:"cui-form cui-margin-top"},r.createElement(zn,{actions:e.actions[b],value:e.data.break,onUpdate:e.onUpdate,type:b,id:"break-select-drop",name:"break-action"})),r.createElement("div",{className:"cui-margin-top"},r.createElement(zn,{actions:e.actions[v],value:e.data.cooldown,onUpdate:e.onUpdate,type:v,id:"cooldown-select-drop",name:"cooldown-action"})),r.createElement("div",{className:"cui-form cui-margin-top"},r.createElement("label",{className:"cui-form-label"},"Number of exercises"),r.createElement("div",{className:"cui-flex cui-middle cui-margin-small-top"},r.createElement("button",{className:"cui-icon-button","cui-icon":"minus",onClick:function(){return t(e.count-1)}}),r.createElement("span",{className:"cui-margin-horizontal"},e.count),r.createElement("button",{className:"cui-icon-button","cui-icon":"plus",onClick:function(){return t(e.count+1)}}))))}function zn(e){return r.createElement(r.Fragment,null,r.createElement("span",{className:"cui-text-capital cui-inline-block"},e.type),r.createElement("div",{className:"cui-flex cui-middle cui-margin-small-top"},r.createElement("div",{className:"cui-flex-grow"},r.createElement(An,{value:e.value,actions:e.actions,onSelect:function(t){e.onUpdate(t,e.type)},name:e.name,id:e.id})),r.createElement("button",{className:"cui-icon-button","cui-icon":"close",onClick:function(){e.onUpdate(null,"cooldown")}})))}function Hn(e){var t,n="cui-container cui-flex-center";return e.modifiers&&(n+=" "+e.modifiers),r.createElement("div",{className:n},r.createElement("span",null,null!==(t=e.text)&&void 0!==t?t:"Loading..."))}function qn(e){return function(e){if(Array.isArray(e))return er(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Zn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){Jn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||Zn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zn(e,t){if(e){if("string"==typeof e)return er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?er(e,t):void 0}}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tr(e){var t=Kn(r.useState({currentIndex:-1,currentCount:0,currentRound:null}),2),n=t[0],i=t[1],a=Kn(r.useState({actions:[]}),2),o=a[0],u=a[1];function l(t,r){i(Xn(Xn({},n),{},{currentIndex:r,currentRound:t,currentCount:e.training&&e.training.rounds?e.training.rounds.length:0})),window.$cui.get("#edit-round-dialog").emit("open")}function s(t,n){var r=qn(e.training.rounds);r.splice(n,1),b(r)}function f(t,n){b(Q(e.training.rounds,n,n+1))}function m(t,n){b(Q(e.training.rounds,n,n-1))}function d(t,n){var r=n+1,i=Object(c.b)(t);b(function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e||null===e||!r||null===r||0===r.length)return e;var a=e.length;return!t||0===t||t>=a?[].concat($(e),r):t<=0?[].concat(r,$(e)):(e.splice.apply(e,[t,0].concat(r)),$(e))}(e.training.rounds,r,i))}function p(t,n){var r=[];return n>-1?(r=qn(e.training.rounds))[n]=t:r=[].concat(qn(e.training.rounds),[t]),r}function b(t){e.onUpdate(Xn(Xn({},e.training),{},{rounds:t}))}function v(t){var n=t.target.name;["name","description"].includes(n)&&e.onUpdate(Xn(Xn({},e.training),{},Jn({},n,t.target.value)))}function h(e){u({actions:[].concat(qn(O),qn(e))})}return r.useEffect((function(){var e=window.$actionsFlow.subscribe(et,{finish:h});return window.$actionsFlow.perform(et),i(Xn({},n)),function(){window.$actionsFlow.unsubscribe(et,e.id)}}),[e.training]),r.createElement(r.Fragment,null,r.createElement("div",{className:"cui-container stopwatch-content-width cui-flex-grid cui-child-width-1-1 cui-child-width-1-2--m"},r.createElement("div",{className:"cui-padding-small-right"},r.createElement("div",{className:"cui-form"},r.createElement("label",{htmlFor:"",className:"cui-form-label"},"Name"),r.createElement("input",{type:"text",className:"cui-input stopwatch-input-width",placeholder:"Name",name:"name",value:e.training.name,onChange:v})),r.createElement("div",{className:"cui-form cui-margin-top"},r.createElement("label",{htmlFor:"",className:"cui-form-label"},"Description"),r.createElement("textarea",{className:"cui-textarea stopwatch-input-width stopwatch-text-area",placeholder:"Description",name:"description",rows:5,value:e.training.description,onChange:v}))),r.createElement("div",{className:"cui-padding-small-left"},r.createElement("ul",{className:"cui-list"},e.training&&e.training.rounds.map((function(e,t,n){return r.createElement("li",{key:t,className:"animation-fade-in"},r.createElement(Un,{index:t,round:e,onEdit:l,onDelete:s,onMoveUp:m,onMoveDown:f,onClone:d,isFirst:0===t,isLast:t===n.length-1}))})),r.createElement("li",null,r.createElement("div",{className:"cui-flex-grid cui-center cui-child-width-1-2--m"},r.createElement("div",{className:""},r.createElement("button",{className:"cui-button cui-default cui-icon cui-icon-margin cui-width-1-1","cui-icon":"plus",onClick:function(){l(null,-1)}},"Add Round")),r.createElement("div",null,r.createElement("button",{className:"cui-button cui-accent cui-icon cui-icon-margin cui-width-1-1","cui-icon":"bolt",onClick:function(){window.$cui.get("#quick-round-create").emit("open")}},"Quick Round"))))))),r.createElement($n,{index:n.currentIndex,round:n.currentRound,onSave:function(e,t){b(p(e,t)),window.$cui.get("#edit-round-dialog").emit("close")},currentCount:n.currentCount,definedActions:o.actions}),r.createElement(Vn,{id:"quick-round-create",actions:o.actions,onSave:function(e){b(p(e,-1)),window.$cui.get("#quick-round-create").emit("close")}}))}var nr=Object(o.i)((function(e){var t,n=Kn(r.useState(!1),2),i=n[0],a=n[1],u=Kn(r.useState({training:{name:"",rounds:[],state:w}}),2),l=u[0],s=u[1],f=Kn(r.useState(!1),2),m=f[0],d=f[1],p=Object(o.h)().id;function b(e){e?(F("Saved"),v()):M("Fail","Training was not saved")}function v(){e.history&&e.history.goBack()}function h(e){a(!1),e?(J("Edit "+e.name),s({training:Xn({},e)})):d(!0)}function E(e){a(!1),e&&!Object(c.e)(e.id)&&s({training:Xn({},e)})}function O(){var e=(new gt).validate(l.training);e.status?window.$flow.perform(mn,l.training):M("Training not valid",e.errors.join(", "))}function N(){var e,t;Object(c.e)(l.training.id)&&l.training.state===g?(e=l.training.name,t=j,window.$cui.alert("delete-training-dialog","YesNoCancel",{title:"Delete training",message:"Do you really want to delete training: "+e+"?",onYes:t})):(F("Draft removed"),window.$flow.perform(yn),v())}function j(){window.$flow.perform("DELETE_TRAINING",l.training.id)}function S(e){F("Removed"),v()}return r.useEffect((function(){J("Edit training"),K("Edit training");var e=window.$flow.subscribe("UPDATE_TRAINING",{finish:b}),t=window.$flow.subscribe(gn,{finish:h}),n=window.$flow.subscribe("GET_DRAFT",{finish:E}),r=window.$flow.subscribe("DELETE_TRAINING",{finish:S});return a(!0),p?window.$flow.perform(gn,p):window.$flow.perform(vn),function(){window.$flow.unsubscribe("UPDATE_TRAINING",e.id),window.$flow.unsubscribe(gn,t.id),window.$flow.unsubscribe("DELETE_TRAINING",r.id),window.$flow.unsubscribe("GET_DRAFT",n.id)}}),[l.training.id]),i?r.createElement(Hn,null):m?r.createElement(Nn,{message:"The training you looking for could not be found",classes:""}):l.training?r.createElement(r.Fragment,null,r.createElement("div",{className:"edit-container"},r.createElement("div",{className:"edit-container-content cui-overflow-y-auto"},r.createElement(Vt,{title:Object(c.e)(l.training)&&Object(c.e)(l.training.name)?"Update ".concat(l.training.state===y?"draft":"training"," ").concat(l.training.name):"Define training",description:"Customize your training settings",icon:"dumbbell"}),r.createElement(tr,{training:l.training,onUpdate:function(e){!function(e){window.$flow.perform(hn,e),s({training:Xn(Xn({},e),{},{state:y})})}(e)},onCancel:v})),r.createElement("div",{className:"edit-container-bottom cui-padding-small-vertical cui-border-top cui-border-remove--l cui-flex stopwatch-content-width"},r.createElement("div",{className:"stopwatch-content-width cui-flex cui-middle cui-center"},r.createElement(jn,{items:(t=[],Object(c.e)(l.training.id)&&t.push({icon:"media_play",label:"Run",onClick:function(){e.history.push(ne.renderUrl("perform",{id:l.training.id}))}}),l.training.state!==w&&t.push({icon:"trash",label:"Delete",onClick:function(){N()}}),t.push({icon:"checkmark",label:"Save",onClick:O,modifiers:"cui-success"}),t)}))))):r.createElement("span",null)}));function rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e,t,n){return t&&ar(e.prototype,t),n&&ar(e,n),e}function cr(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function ur(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var lr=new WeakMap,sr=function(){function e(){ir(this,e),lr.set(this,{writable:!0,value:void 0}),ur(this,lr,screen)}return or(e,[{key:"activate",value:function(){cr(this,lr).keepAwake=!0}},{key:"release",value:function(){cr(this,lr).keepAwake=!1}}]),e}(),fr=function(){function e(){ir(this,e),rr(this,"element",void 0),this.element=void 0}return or(e,[{key:"activate",value:function(){this.element||(this.element=this.createElement("/static/video/Screen.mp4"),document.body.appendChild(this.element))}},{key:"release",value:function(){this.element&&(this.element.remove(),this.element=void 0)}},{key:"createElement",value:function(e){var t=document.createElement("video");return t.autoplay=!0,t.muted=!0,t.loop=!0,t.src=e,t.classList.add("loop-screen"),t.textContent="Not Supported",t}}]),e}(),mr=new WeakMap,dr=function(){function e(){ir(this,e),mr.set(this,{writable:!0,value:void 0}),ur(this,mr,this.getToggle())}return or(e,[{key:"activate",value:function(){cr(this,mr).activate()}},{key:"release",value:function(){cr(this,mr).release()}},{key:"getToggle",value:function(){return"keepAwake"in screen?new sr:new fr}}]),e}();function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function br(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function vr(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var hr="RUNNING",yr="STOPPED",gr="PAUSED",wr=new WeakMap,Er=new WeakMap,Or=new WeakMap,Nr=new WeakMap,jr=new WeakMap,Sr=new WeakMap,kr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),wr.set(this,{writable:!0,value:void 0}),Er.set(this,{writable:!0,value:void 0}),Or.set(this,{writable:!0,value:void 0}),Nr.set(this,{writable:!0,value:void 0}),jr.set(this,{writable:!0,value:void 0}),Sr.set(this,{writable:!0,value:void 0}),vr(this,Er,0),vr(this,Or,0),vr(this,Nr,!1),vr(this,jr,yr),vr(this,Sr,void 0)}var t,n,r;return t=e,(n=[{key:"onTick",value:function(e){vr(this,wr,e)}},{key:"tick",value:function(){var e=this;vr(this,Sr,setTimeout((function(){try{br(e,jr)===hr&&br(e,wr)&&br(e,wr).call(e,br(e,Er),br(e,Or),e)?(br(e,Nr)?(vr(e,Er,0),vr(e,Nr,!1)):(vr(e,Er,br(e,Er)+1),vr(e,Or,br(e,Or)+1)),e.tick()):br(e,jr)!==gr&&e.stop()}catch(t){console.error("An error occured on stopwatch tick"),console.error(t),e.stop()}}),1e3))}},{key:"reset",value:function(){vr(this,Nr,!0)}},{key:"start",value:function(){return br(this,jr)!==hr&&(vr(this,Er,0),vr(this,jr,hr),this.tick(),!0)}},{key:"stop",value:function(){return br(this,jr)===hr&&(this.finish(),vr(this,jr,yr),!0)}},{key:"pause",value:function(){return br(this,jr)===hr&&(vr(this,jr,gr),!0)}},{key:"resume",value:function(){return br(this,jr)===gr&&(vr(this,jr,hr),this.tick(),!0)}},{key:"finish",value:function(){br(this,Sr)&&(clearTimeout(br(this,Sr)),vr(this,Sr,void 0)),vr(this,Er,0),vr(this,Or,0)}},{key:"getState",value:function(){return br(this,jr)}}])&&pr(t.prototype,n),r&&pr(t,r),e}();function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var Ir="GET_DARK_MODE",Pr="SET_DARK_MODE",Cr="GET_SOUND_ENABLED",Dr="SET_SOUND_ENABLED",_r="SET_SETTINGS",Rr="GET_SETTINGS",$r="GET_IS_WELCOME",Ur="SET_IS_WELCOME",Mr="GET_SIMPLE_VIEW",Fr="CLEAR_SETTINGS",Gr=new WeakMap,Lr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Gr.set(this,{writable:!0,value:void 0}),function(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}(this,Gr,t)}var t,n,r;return t=e,(n=[{key:"getActions",value:function(){var e,t=this;return Ar(e={},Cr,(function(){return Tr(t,Gr).isSoundEnabled()})),Ar(e,Dr,(function(e){Tr(t,Gr).setSoundEnabled(e)})),Ar(e,Ir,(function(){return Tr(t,Gr).isDarkMode()})),Ar(e,Pr,(function(e){Tr(t,Gr).setDarkMode(e)})),Ar(e,_r,(function(e){Tr(t,Gr).setSettings(e)})),Ar(e,Rr,(function(){return Tr(t,Gr).getSettings()})),Ar(e,$r,(function(){return Tr(t,Gr).isWelcomeSet()})),Ar(e,Mr,(function(){return Tr(t,Gr).getSettings().simpleView})),Ar(e,Ur,(function(e){Tr(t,Gr).setIsWelcome(e)})),Ar(e,Fr,(function(){return Tr(t,Gr).clearSettings(),!0})),e}}])&&xr(t.prototype,n),r&&xr(t,r),e}();function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zr(){var e=Vr(r.useState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){Wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},R)),2),t=e[0],n=e[1];function i(){window.$settingsFlow.perform(Rr)}function a(e){n(e),V(e.darkMode)}return r.useEffect((function(){var e=window.$settingsFlow.subscribe(Rr,{finish:a}),t=window.$settingsFlow.subscribe(_r,{finish:i});return i(),function(){window.$settingsFlow.unsubscribe(Rr,e.id),window.$settingsFlow.unsubscribe(_r,t.id)}}),[t.darkMode,t.soundEnabled]),[t,function(e){window.$settingsFlow.perform(_r,e)}]}function Hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qr(e){!function(e,t){function n(){t&&e&&t(e)}r.useEffect((function(){return e&&window.addEventListener("resize",n),function(){e&&window.removeEventListener("resize",n)}}),[e])}(e,(function(e){Object(c.e)(e)&&i(a(e))}));var t=Hr(r.useState(a(e)),2),n=t[0],i=t[1];function a(e){return!!Object(c.e)(e)&&(e&&e.clientHeight>=(screen.availHeight||screen.height)-30&&e.clientWidth>=(screen.availWidth||screen.width)-30)}return r.useEffect((function(){}),[n]),n}function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kr(e){var t=r.useRef(null),n=r.useRef(null),i=r.useRef(null),a=r.useRef(null),o=r.useRef(null),c=r.useRef(null);function u(e){var r=void 0;switch(e){case"countdown":r=t.current;break;case"end":r=c.current;break;case"exercise":r=n.current;break;case"warmup":r=i.current;break;case"break":r=a.current;break;case"cooldown":r=o.current}r&&(r.currentTime=0,r.play())}return r.createElement(r.Fragment,null,e.children&&Z(e.children).map((function(e){return r.cloneElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){Jr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({playSound:u},e.props))})),r.createElement("audio",{ref:t,id:"stopwatch-countdown",src:"/static/audio/stopwatch_countdown.mp3"}),r.createElement("audio",{ref:n,id:"stopwatch-exercise",src:"/static/audio/stopwatch_exercise.mp3"}),r.createElement("audio",{ref:i,id:"stopwatch-warmup",src:"/static/audio/stopwatch_warmup.mp3"}),r.createElement("audio",{ref:a,id:"stopwatch-break",src:"/static/audio/stopwatch_break.mp3"}),r.createElement("audio",{ref:o,id:"stopwatch-cooldown",src:"/static/audio/stopwatch_cooldown.mp3"}),r.createElement("audio",{ref:c,id:"stopwatch-cooldown",src:"/static/audio/stopwatch_end.mp3"}))}function Zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ei(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ei(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ti(e){var t="cui-icon-button cui-icon";return e.modifiers&&(t+=" "+e.modifiers),r.createElement("button",{className:t,onClick:e.onClick,"cui-icon":e.icon})}function ni(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ri(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ii(e){var t=ni(r.useState({startBtnText:"Start",startBtnCls:"cui-accent",pauseBtnText:"Pause",isPauseVisible:!1,startBtnIcon:"media_play",pauseBtnIcon:"media_pause"}),2),n=t[0],i=t[1];return r.useEffect((function(){return function(e){switch(e){case hr:i({startBtnCls:"cui-error",startBtnIcon:"media_stop",startBtnText:"Stop",isPauseVisible:!0,pauseBtnIcon:"media_pause",pauseBtnText:"Pause"});break;case gr:i({startBtnCls:"cui-error",startBtnIcon:"media_stop",startBtnText:"Stop",isPauseVisible:!0,pauseBtnIcon:"media_play",pauseBtnText:"Resume"});break;case yr:i({startBtnCls:"cui-accent",startBtnIcon:"media_play",startBtnText:"Start",isPauseVisible:!1,pauseBtnIcon:"media_pause",pauseBtnText:"Pause"})}}(e.playState),function(){}}),[e.playState]),r.createElement("div",{className:"training-control-btns"},r.createElement("a",{className:"cui-icon-button cui-default cui-margin-small","cui-icon":e.soundIcon,onClick:e.onMute}),n.isPauseVisible&&r.createElement(ti,{icon:n.pauseBtnIcon,onClick:e.onPauseResume,modifiers:"cui-margin-small cui-large cui-default"}),r.createElement(ti,{icon:n.startBtnIcon,onClick:e.onStartStop,modifiers:"cui-large cui-fill "+n.startBtnCls}),r.createElement("a",{className:"cui-icon-button cui-default cui-margin-small","cui-icon":e.fullscreenIcon,onClick:e.onFullScreen}))}function ai(e){var t;return r.createElement("div",{className:"rounded-countdown-timer"},r.createElement("p",{className:"cui-margin-remove round-name"},null===(t=e.watchState.round)||void 0===t?void 0:t.name),r.createElement("span",{className:"cui-block cui-text-muted cui-text-small round-count"},"Round ",e.watchState.roundIdx+1,"/",e.watchState.roundTotal),r.createElement("span",{className:"cui-svg total-circle-progress","cui-circle-progress":e.watchState.trainingProgress},r.createElement("div",{className:""},r.createElement("span",{className:"cui-svg current-circle-progress","cui-circle-progress":e.watchState.roundProgress},r.createElement("div",null,r.createElement("span",{className:"cui-svg countdown-circle-progress","cui-circle-progress":e.watchState.progress},r.createElement("div",null,r.createElement("span",{className:"cui-block cui-text-small"},e.watchState.actionIdx+1),r.createElement("h1",{className:"cui-h1 cui-margin-remove "+e.watchState.timerCls},e.watchState.timer))))))))}function oi(e){return r.createElement("div",null,r.createElement("div",{className:"cui-flex-center"},r.createElement("progress",{className:"cui-progress cui-small cui-success width-100",value:e.watchState.trainingProgress,max:"100"})),r.createElement("h1",{className:"cui-h1 countdown-timer-size "+e.watchState.timerCls},e.watchState.timer),r.createElement("div",{className:"cui-flex-center"},r.createElement("progress",{className:"cui-progress cui-small width-100",value:e.watchState.roundProgress,max:"100"})))}function ci(e){var t,n,i;return r.createElement("div",{className:"simple-countdown-timer"},r.createElement("p",{className:"cui-margin-remove round-name"},null===(t=e.watchState.round)||void 0===t?void 0:t.name),r.createElement("span",{className:"cui-block cui-text-muted cui-text-small round-count"},"Round ",e.watchState.roundIdx+1,"/",e.watchState.roundTotal),r.createElement("h1",{className:"cui-h1 main-timer "+e.watchState.timerCls},e.watchState.timer),r.createElement("h3",{className:"cui-h2 cui-margin-remove action-name "+q(null===(n=e.watchState.action)||void 0===n?void 0:n.type)},null===(i=e.watchState.action)||void 0===i?void 0:i.name),r.createElement("span",{className:"cui-block cui-text-small action-index"},"Action ",e.watchState.actionIdx+1,"/",e.watchState.actionTotal))}function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(n),!0).forEach((function(t){si(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function di(){var e,t,n=fi(r.useState({training:void 0}),2),i=n[0],a=n[1],c=fi((e=!1,t=r.useRef(e),r.useEffect((function(){t.current=e}),[]),[t.current,function(e){console.log("Flag: "+e+", Loading: "+t),t.current!=e&&(t.current=e)}]),2),u=c[0],l=c[1],s=fi(r.useState(!1),2),f=s[0],m=s[1],d=Object(o.h)().id;function p(e){e||m(!0);var t=(new St).validate(e);t.status?(l(!1),a({training:e})):M("Incorrect training","Training is not correct: ".concat(t.errors.join(", ")))}return r.useEffect((function(){J("Perform training");var e=window.$flow.subscribe("GET_TRAINING",{finish:p});return d>-1&&(l(!0),window.$flow.perform("GET_TRAINING",d)),function(){window.$flow.unsubscribe("GET_TRAINING",e.id)}}),[d]),u?r.createElement(Hn,null):f?r.createElement(Nn,{message:"We couldn't find training",classes:"cui-height-1-1 cui-flex-center"}):i.training?r.createElement(pi,{training:i.training}):r.createElement("span",null)}function pi(e){var t,n=fi(r.useState(""),2),i=n[0],a=n[1];return r.useEffect((function(){J("Perform training");var t=new dr;if(e.training){J(e.training.name),K(e.training.name);try{t.activate()}catch(e){a("We could not activate feature to keep your device's screen awake during training performance")}}return function(){t.release()}}),[e.training]),r.createElement(r.Fragment,null,r.createElement(Kr,null,r.createElement(bi,{key:null===(t=e.training)||void 0===t?void 0:t.id,callError:function(e){a(e)},training:e.training})),Object(c.e)(i)&&r.createElement("div",{className:"cui-position-float cui-position-bottom cui-position-right app-float-bottom cui-margin-right"},r.createElement("span",{className:"cui-icon cui-error cui-tooltip","cui-icon":"ban","cui-tooltip":i})))}function bi(e){var t=fi(function(){var e=Zr(r.useState(new kr),2),t=e[0],n=e[1];return r.useEffect((function(){return console.log("Stopwatch hook init"),function(){console.log("Stopwatch hook end")}}),[]),[t,function(e){t.onTick(e),n(t)}]}(),2),n=t[0],i=t[1],a=fi(r.useState({timer:"-",state:yr,timerCls:"",progress:100,roundProgress:100,trainingProgress:100,roundIdx:0,roundTotal:0,actionIdx:0,actionTotal:0,roundDuration:0,totalDuration:0,action:void 0,round:void 0}),2),o=a[0],u=a[1],l=fi(zr(),2),s=l[0],f=l[1],m=r.useRef(n);m.current=n;var d=r.useRef(o);d.current=o;var p=r.useRef(s);p.current=s;var b,v=r.useRef(null),h=Qr(v.current);function y(e){var t=e.rounds[0],n=t.actions[0];u(li(li({},o),{},{round:t,roundIdx:0,roundTotal:e.rounds.length,roundDuration:G(t.actions),actionIdx:0,action:n,actionTotal:t.actions.length,totalDuration:z(e)[1]}))}function g(t,n,r){var i=parseInt(d.current.action.duration),a=i-t,o=Y(t,i);return 0===t&&w(d.current.action.type),a>0?(E(r.getState(),{time:a,progress:100-o,ct:t,total:n}),a<=2&&w("countdown"),!0):function(){var t=d.current.actionIdx+1;if(d.current.round.actions.length>t){var n=d.current.round.actions[t];return u(li(li({},d.current),{},{actionIdx:t,action:n})),!0}var r=d.current.roundIdx+1;if(e.training.rounds.length>r){var i=e.training.rounds[r],a=i.actions[0];return u(li(li({},d.current),{},{actionIdx:0,action:a,actionTotal:i.actions.length,round:i,roundIdx:r,roundDuration:G(i.actions)})),!0}return y(e.training),!1}()?(w("countdown"),E(hr,{time:0,progress:0,ct:a,total:n}),m.current.reset(),!0):(w("end"),E(yr,{time:0,progress:100,ct:0,total:0}),!1)}function w(t){p.current.soundEnabled&&e.playSound&&Object(c.e)(t)&&e.playSound(t)}function E(e,t){if(!Object(c.e)(t)||t.time<0)u(li(li({},d.current),{},{state:e}));else{var n=100-Y(function(e){return d.current.round.actions.reduce((function(e,t,n){return n<d.current.actionIdx?e+parseInt(t.duration):e}),0)+e}(t.ct),d.current.roundDuration),r=function(e){return 100-Y(e,d.current.totalDuration)}(t.total);u(li(li({},d.current),{},{timer:(o=t.time,o<0?"Error":B(o,(function(e,t){switch(t){case"hour":case"minute":return W(e)+":";default:return W(e)}}))),timerCls:(i=t.time,a=e,a===hr&&i>=0&&i<3?"cui-text-warning timer-blink-animation":""),state:e,progress:t.progress,roundProgress:n,trainingProgress:r}))}var i,a,o}return r.useEffect((function(){return e.training&&(y(e.training),i(g)),function(){m.current&&m.current.stop()}}),[e.training,s.soundEnabled]),r.createElement("div",{className:"stopwatch-layout-content cui-background-default",ref:v},r.createElement("div",{className:"cui-height-1-1 cui-overflow-y-auto cui-flex cui-center cui-middle "+(b=o.action,Object(c.e)(b)?H(b.type):"")},r.createElement("div",{className:"stopwatch-content-width cui-text-center cui-flex-center animation-fade-in"},r.createElement("div",null,function(e,t){switch(e){case"simple":return r.createElement(ci,{watchState:t});case"circle":return r.createElement(ai,{watchState:t});case"test":return r.createElement(oi,{watchState:t});default:return r.createElement("div",null)}}(s.countdownView,o)))),r.createElement(ii,{playState:o.state,soundIcon:s.soundEnabled?"speaker":"volume_muted",fullscreenIcon:h?"shrink":"expand",onFullScreen:function(){v.current&&(h&&Object(c.c)(),Object(c.f)(v.current))},onStartStop:function(){o.state===yr&&n.start()?E(hr):o.state!==yr&&n.stop()&&(y(e.training),E(yr,{time:0,progress:100,ct:0,total:0}))},onPauseResume:function(){o.state===hr&&n.pause()?E(gr):o.state===gr&&n&&n.resume()&&E(hr)},onMute:function(){f(li(li({},s),{},{soundEnabled:!s.soundEnabled}))}}))}function vi(e){return r.useEffect((function(){}),[e.value,e.name]),r.createElement("div",{className:"cui-flex cui-middle cui-padding-small"},r.createElement("div",{className:"cui-flex-grow"},e.label),r.createElement("div",{className:"cui-input-switch"},r.createElement("input",{type:"checkbox",id:e.name,name:e.name,checked:e.value,onChange:function(t){var n=t.target;e.onUpdate&&e.onUpdate(n.name,n.checked)}}),r.createElement("label",{htmlFor:e.name,className:"cui-content"})))}function hi(e){var t=r.useRef(void 0);var n=e.modifiers?" "+e.modifiers:"";return r.useEffect((function(){if(!Object(c.e)(e.id))throw new Error("Drop component id was not provieded, but is required!");t.current=window.$cui.get("#"+e.id)})),r.createElement("div",{className:"cui-drop-trigger cui-block"+n},r.createElement("a",{className:"cui-link cui-flex cui-middle cui-width-1-1 cui-padding-small"},r.createElement("span",{className:"cui-flex-grow cui-text-capital cui-margin-right"},e.value),r.createElement("span",{"cui-icon":"chevron_small_down"})),r.createElement("div",{className:"cui-dropdown drop-height","cui-drop":"outClose: Y;autoClose: Y",id:e.id},r.createElement("ul",{className:"cui-drop-nav drop-max-width"},e.items&&e.items.map((function(n,i){return r.createElement("li",{key:n+i},r.createElement("a",{className:"cui-overflow-hidden cui-text-truncate cui-text-capital",onClick:function(){var r;r=n,t.current&&t.current.emit("close"),e.onChange&&r!==e.value&&e.onChange(e.name,r)}},n))})))))}var yi=["simple","circle","test"];function gi(){return window.$appSettings.getSettings()}function wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(n),!0).forEach((function(t){Oi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ni(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ji(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ji(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Si(){var e=Ni(zr(),2),t=e[0],n=e[1],i=gi();function o(e,r){if("soundEnabled"===e||"darkMode"===e||"simpleView"===e){var i=Ei(Ei({},t),{},Oi({},e,r));n(i)}}return r.useEffect((function(){}),[t.darkMode,t.soundEnabled]),r.createElement(r.Fragment,null,r.createElement(Xt,{routeName:"settings"},r.createElement("div",{className:"cui-section stopwatch-content-width"},r.createElement("ul",{className:"cui-list"},r.createElement("li",null,r.createElement(vi,{label:"Dark mode",name:"darkMode",value:t.darkMode,onUpdate:o})),r.createElement("li",null,r.createElement(vi,{label:"Play sound",name:"soundEnabled",value:t.soundEnabled,onUpdate:o})),r.createElement("li",null,r.createElement("div",{className:"cui-flex cui-middle cui-between cui-padding-small"},r.createElement("span",null,"Countdown timer"),r.createElement(hi,{id:"settings-drop",name:"countdownView",value:t.countdownView,items:yi,onChange:function(e,r){var i=Ei(Ei({},t),{},Oi({},e,r));n(i)}}))))),r.createElement("div",{className:"cui-flex cui-center cui-right--s"},i.mode===E&&r.createElement(a.b,{to:ne.getUrl("devtools"),className:"cui-link"},"Visit DevTools"))))}function ki(){return J("About"),K("About"),r.createElement(r.Fragment,null,r.createElement(Xt,{routeName:"about"},r.createElement(Ai,{key:"about"})))}function Ai(){return r.createElement("div",{className:"stopwatch-content-width cui-margin-top"},r.createElement("div",{className:"cui-container "},r.createElement("h3",{className:"cui-h3"},"Creator"),r.createElement("p",{className:""},"Project was created and is devloped by ",r.createElement("span",{className:"cui-text-accent cui-text-bold"},"BPDev"),": ",r.createElement("a",{href:"https://github.com/bpd-d",className:"cui-link cui-accent"},"Visit Github")," ")),r.createElement("div",{className:"cui-container "},r.createElement("h3",{className:"cui-h3"},"Repository"),r.createElement("p",{className:""},"Project sources can be found on Github under following link: ",r.createElement("a",{className:"cui-link cui-accent",href:"https://github.com/bpd-d/bpd-stopwatch-app"},"bpd-stopwatch-app"))),r.createElement("div",{className:"cui-container"},r.createElement("h3",{className:"cui-h3"},"Links"),r.createElement("p",{className:""},"Project uses third party libraries, see following list: "),r.createElement("ul",{className:"cui-list"},r.createElement("li",null,r.createElement("div",{className:""},r.createElement("div",{className:""},r.createElement("span",null,"React")),r.createElement("a",{href:"https://github.com/facebook/react",className:"cui-link"},"Github"),r.createElement("a",{href:"https://reactjs.org/",className:"cui-link cui-margin-left"},"React JS home page"))),r.createElement("li",null,r.createElement("div",{className:""},r.createElement("div",{className:""},r.createElement("span",null,"cUI Light")),r.createElement("a",{href:"https://github.com/bpd-d/cui-light",className:"cui-link"},"cUI Light on Github"),r.createElement("a",{href:"https://github.com/bpd-d/cui-styles",className:"cui-link cui-margin-left"},"cUI Styles on Github"),r.createElement("a",{href:"https://github.com/bpd-d/cui-icons",className:"cui-link cui-margin-left"},"cUI Icons on Github"))),r.createElement("li",null,r.createElement("div",{className:""},r.createElement("div",{className:""},r.createElement("span",null,"BPD Flow")),r.createElement("a",{href:"https://github.com/bpd-d/bpd-flow",className:"cui-link"},"Github"))),r.createElement("li",null,r.createElement("div",{className:""},r.createElement("div",{className:""},r.createElement("span",null,"BPD Storage")),r.createElement("a",{href:"https://github.com/bpd-d/bpd-storage",className:"cui-link"},"Github"))))))}function xi(e){var t=gi();return r.createElement("div",{className:"stopwatch-footer cui-flex cui-right cui-middle"},r.createElement("div",{className:"cui-margin-horizontal"},r.createElement("span",{className:"cui-margin-small-right"},"Copyrights ",(new Date).getFullYear()+""),r.createElement("a",{href:"https://github.com/bpd-d",target:"_blank",className:"cui-link cui-accent"},"BPDDev"),t.mode===E&&r.createElement(a.b,{to:ne.getUrl("devtools"),className:"cui-link cui-secondary cui-margin-left cui-text-bold"},"Dev")))}function Ti(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ii(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pi(){var e=Ti(r.useState(!1),2),t=e[0],n=e[1],i=r.useRef(null);function a(e){Object(c.e)(e)&&Object(c.e)(e.index)&&2===e.index?n(!0):n(!1)}return r.useEffect((function(){i.current=window.$cui.get("#welcome-switch");var e=i.current.on("switched",a);return function(){Object(c.e)(e)&&e.forEach((function(e){i.current.detach("switched",e)}))}}),[t]),r.createElement(kt,{id:"welcome-dialog",title:"Welcome",body:r.createElement("ul",{id:"welcome-switch","cui-switch":"links: #welcome-step-indicator > li; height: 250px"},r.createElement("li",{className:"cui-active"},r.createElement("div",null,"Welcome to ",r.createElement("span",{className:"cui-text-bold cui-text-accent"},"Bpd Stopwatch")," app. It is simple, offline tool which will allow you to perform highly custimzed trainings that need stopwatch.")),r.createElement("li",null,r.createElement("div",null,"Set up some ",r.createElement("span",{className:"cui-text-bold cui-text-accent"},"Actions")," to build your trainings from. You can define action name, type and it's duration. Action type has it's indications in ",r.createElement("span",{className:"cui-text-bold"},"colors")," and ",r.createElement("span",{className:"cui-text-bold"},"sounds")," later when your training is performed, so choose type accordingly to your action type. You can choose from ",r.createElement("span",{className:"cui-text-italic"},"warmup"),", ",r.createElement("span",{className:"cui-text-italic"},"exercise"),", ",r.createElement("span",{className:"cui-text-italic"},"break")," and ",r.createElement("span",{className:"cui-text-italic"},"cooldown"),". There are some actions already defined (they cannot be modified or deleted), which can help you to start with building your trainings.")),r.createElement("li",null,r.createElement("div",null,"Give your ",r.createElement("span",{className:"cui-text-bold cui-text-accent"},"training")," a name and optionally  ",r.createElement("span",{className:"cui-text-bold cui-accent"},"description"),", then setup ",r.createElement("span",{className:"cui-text-bold cui-accent"},"rounds"),". You can define rounds from available actions. Once added they can be ",r.createElement("span",{className:"cui-text-italic"},"re-positioned"),", ",r.createElement("span",{className:"cui-text-italic"},"cloned")," or ",r.createElement("span",{className:"cui-text-italic"},"deleted"),"."))),footer:r.createElement("div",{className:"cui-flex cui-middle"},r.createElement("ul",{id:"welcome-step-indicator",className:"cui-switcher-indicator cui-flex-grow","cui-switcher":"target: #welcome-switch"},r.createElement("li",null,r.createElement("a",null)),r.createElement("li",null,r.createElement("a",null)),r.createElement("li",null,r.createElement("a",null))),r.createElement("div",null,r.createElement("button",{className:"cui-button",onClick:function(){t?window.$cui.get("#welcome-dialog").emit("close"):i.current.emit("switch","next")}},t?"Close":"Next")))})}function Ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Di(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(n),!0).forEach((function(t){_i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ui(e,t){var n=Ri(r.useState({response:void 0,error:void 0,loading:!1}),2),i=n[0],a=n[1];return r.useEffect((function(){a(Di(Di({},i),{},{loading:!0})),fetch(e,t).then((function(e){return e.json()})).then((function(e){a({error:void 0,response:e,loading:!1})})).catch((function(e){a({error:e,response:void 0,loading:!1})}))}),[]),i}function Mi(){return r.createElement("div",{className:"cui-height-1-1 cui-width-1-1 cui-flex-center"},r.createElement("span",null,"Loading..."))}function Fi(e){var t="cui-flex-center";return e.modifiers&&(t+=" "+e.modifiers),r.createElement("div",{className:t},r.createElement("span",{className:"cui-text-error"},e.message))}function Gi(e){return r.createElement("div",{className:"cui-section"},r.createElement("h2",{className:"cui-h2",id:e.section.id},e.section.name),e.section.content&&e.section.content.map((function(e,t){return r.createElement(Li,{key:t,paragraph:e})})))}function Li(e){return r.createElement("div",{className:""},e.paragraph.header&&r.createElement("h3",{className:"cui-h3"},e.paragraph.header),e.paragraph.text&&r.createElement("p",null,e.paragraph.text),e.paragraph.list&&r.createElement("ul",{className:"cui-list cui-bullet-shade"},e.paragraph.list.map((function(e,t){return r.createElement("li",{key:t},e)}))))}function Bi(){return r.createElement(Xt,{routeName:"help"},r.createElement(Wi,{key:"help"}))}function Wi(){var e=Ui("/static/docs/help.json");return r.useEffect((function(){})),e.error?r.createElement(Fi,{message:e.error.message}):e.loading||!e.response?r.createElement(Mi,null):r.createElement(Vi,{doc:e.response})}function Vi(e){return r.createElement(r.Fragment,null,r.createElement("div",{className:"cui-section"},r.createElement("h2",{className:"cui-h2"},"Contents"),r.createElement("ul",{className:"cui-list"},e.doc.sections.map((function(e){return r.createElement("li",{key:e.id},r.createElement("a",{className:"cui-link cui-accent",href:"#"+e.id},e.name))})))),e.doc.sections.map((function(e){return r.createElement(Gi,{key:e.id,section:e})})),r.createElement("div",{className:""},"Version: ",e.doc.version))}function Yi(){function e(){window.$cui.toast("Data cleared")}function t(){console.log("Settings cleared"),window.$settingsFlow.perform(Rr)}return r.useEffect((function(){var n=window.$settingsFlow.subscribe(Fr,{finish:t}),r=window.$actionsFlow.subscribe(rt,{finish:e}),i=window.$flow.subscribe(bn,{finish:e});return function(){window.$settingsFlow.unsubscribe(Fr,n.id),window.$actionsFlow.unsubscribe(rt,r.id),window.$flow.unsubscribe(bn,i.id)}}),[]),r.createElement("div",{className:"cui-section"},r.createElement("h3",{className:"cui-h3"},"Dev tools"),r.createElement("div",{className:""},r.createElement("div",null),r.createElement("button",{className:"cui-button cui-margin-small cui-default ",onClick:function(){window.$actionsFlow.perform(rt)}},"Clear actions only")),r.createElement("div",null,r.createElement("button",{className:"cui-button cui-margin-small cui-default",onClick:function(){window.$flow.perform(bn)}},"Clear trainings only")),r.createElement("div",null,r.createElement("button",{className:"cui-button cui-margin-small cui-default",onClick:function(){window.$settingsFlow.perform(Fr)}},"Clear settings only")),r.createElement("div",null,r.createElement("button",{className:"cui-button cui-margin-small cui-error",onClick:function(){window.$actionsFlow.perform(rt),window.$flow.perform(bn),window.$settingsFlow.perform(Fr)}},"Clear data")))}function zi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qi(){var e=zi(zr(),1)[0];return r.createElement(Xt,{routeName:"devtools"},r.createElement("div",{className:"cui-section"},r.createElement("button",{className:"cui-button cui-default",onClick:function(){window.$cui.get("#welcome-dialog").emit("open")}},"Show tutorial dialog")),r.createElement("div",null,"Welcome screen status: ",e.isWelcome?"Yes":"No"),r.createElement(Yi,null))}function Qi(e){return r.createElement(a.a,null,r.createElement(o.a,{path:"*"},r.createElement(Xi,{mode:e.mode})))}function Xi(e){var t,n=Object(o.g)();function i(e){V(e)}function a(e){var t=this;e||setTimeout((function(){t.welcomeDialogHandle=window.$cui.get("#welcome-dialog"),t.welcomeDialogCloseEventIds=t.welcomeDialogHandle.on("close",t.onWelcomeDialogClose.bind(t)),window.$cui.get("#welcome-dialog").emit("open")}),100)}function u(){window.$settingsFlow.perform(Ur,!0)}return r.useEffect((function(){var e=window.$settingsFlow.subscribe(Ir,{finish:i}),n=window.$settingsFlow.subscribe($r,{finish:a}),r=(t=window.$cui.get("#welcome-dialog")).on("close",u);return window.$settingsFlow.perform($r),window.$settingsFlow.perform(Ir),function(){window.$settingsFlow.unsubscribe(Ir,e.id),window.$settingsFlow.unsubscribe($r,n.id),Object(c.e)(r)&&r.forEach((function(e){t.detach("close",e)}))}})),r.createElement("div",{className:"stopwatch-layout-main"},r.createElement(We,null),r.createElement("div",{className:"stopwatch-layout-content cui-overflow-y-auto"},r.createElement(o.c,{location:n},r.createElement(o.a,{path:ne.getUrl("perform"),component:di}),r.createElement(o.a,{path:ne.getUrl("newTraining"),component:nr}),r.createElement(o.a,{path:ne.getUrl("editTraining"),component:nr}),r.createElement(o.a,{path:ne.getUrl("actions"),component:on}),r.createElement(o.a,{path:ne.getUrl("settings"),component:Si}),r.createElement(o.a,{path:ne.getUrl("about"),component:ki}),r.createElement(o.a,{path:ne.getUrl("devtools"),component:qi}),r.createElement(o.a,{path:ne.getUrl("help"),component:Bi}),r.createElement(o.a,{path:ne.getUrl("home"),component:we}),r.createElement(o.a,null,r.createElement(xe,null)))),r.createElement(xi,{mode:e.mode}),r.createElement(Xe,null),r.createElement(Pi,null))}var Ji=n(35),Ki=n(22),Zi=n(27);function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function na(e){return function(e){if(Array.isArray(e))return ra(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ra(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ia(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oa(e,t,n){return t&&aa(e.prototype,t),n&&aa(e,n),e}function ca(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function ua(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var la=new WeakMap,sa=new WeakMap,fa=function(){function e(){ia(this,e),la.set(this,{writable:!0,value:void 0}),sa.set(this,{writable:!0,value:void 0}),ua(this,la,new Zi.BpdStorage("local","BPD_TRAININGS")),ua(this,sa,new gt)}return oa(e,[{key:"getAllTrainings",value:function(){return this.getTrainings()}},{key:"addTraining",value:function(e){var t=this,n=!1;return this.validate(e)&&this.onAction((function(r){return Object(c.e)(e.id)?null:(e.state===y&&t.clearDraft(),e.id="00"+t.getNextIndex(),e.state=g,r.push(e),n=!0,r)})),n}},{key:"updateTraining",value:function(e){var t=this,n=!1;return this.validate(e)&&(Object(c.e)(e.id)?this.onAction((function(r){var i=r.findIndex((function(t){return t.id===e.id}));return i>-1?(e.state===y&&t.clearDraft(),e.state=g,r[i]=e,n=!0,r):null})):n=this.addTraining(e)),n}},{key:"deleteTraining",value:function(e){var t=!1;return!!Object(c.e)(e)&&(this.onAction((function(n){var r=n.findIndex((function(t){return t.id===e}));return r>-1?(n.splice(r,1),t=!0,n):null})),t)}},{key:"getTraining",value:function(e){var t=void 0;return this.onAction((function(n){return t=n.find((function(t){return t.id===e})),null})),t}},{key:"clearTrainings",value:function(){this.onAction((function(e){return[]}))}},{key:"isDraft",value:function(){throw Object(c.e)(ca(this,la).getAny("DRAFT_TRAINING"))}},{key:"getDraft",value:function(){var e;return null!==(e=ca(this,la).getAny("DRAFT_TRAINING"))&&void 0!==e?e:void 0}},{key:"setDraft",value:function(e){Object(c.e)(e)&&(e.state=y,ca(this,la).setAny("DRAFT_TRAINING",e))}},{key:"clearDraft",value:function(){ca(this,la).removeItem("DRAFT_TRAINING")}},{key:"getCurrentTraining",value:function(){throw new Error("Method not implemented.")}},{key:"setCurrentTraining",value:function(e){throw new Error("Method not implemented.")}},{key:"getTrainings",value:function(){var e;return null!==(e=ca(this,la).getAny("Trainings"))&&void 0!==e?e:[]}},{key:"setTrainings",value:function(e){ca(this,la).setAny("Trainings",e)}},{key:"getNextIndex",value:function(){var e=ca(this,la).getNumber("TRAININGS_INDEX");return e&&NaN!==e?e+=1:e=1,ca(this,la).setNumber("TRAININGS_INDEX",e),e}},{key:"validate",value:function(e){return ca(this,sa).validate(e).status}},{key:"onAction",value:function(e){var t=e(this.getTrainings());null!==t&&this.setTrainings(t)}}]),e}(),ma=new WeakMap,da=new WeakMap,pa=new WeakMap,ba=function(){function e(){ia(this,e),ma.set(this,{writable:!0,value:void 0}),da.set(this,{writable:!0,value:void 0}),pa.set(this,{writable:!0,value:void 0}),ua(this,ma,new Zi.BpdStorage("local","BPD_TRAININGS")),ua(this,da,[]),ua(this,pa,new Et),this.getActionsFromStorage()}return oa(e,[{key:"getAllActions",value:function(){return na(ca(this,da))}},{key:"setAction",value:function(e){if(!ca(this,pa).validate(e).status)return!1;Object(c.e)(e.id)||(e.id="000"+this.getNextIndex(),ca(this,da).push(e));var t=this.getIndex(e);return t>-1?(ca(this,da)[t]=e,this.setActionsToStorage(),!0):(console.log("Unknown action id: "+e.id),!1)}},{key:"removeAction",value:function(e){if(!ca(this,pa).validate(e).status)return!1;var t=this.getIndex(e);return t<0?(console.log("Unknown action id: "+e.id),!1):(ca(this,da).splice(t,1),this.setActionsToStorage(),!0)}},{key:"clearActions",value:function(){ua(this,da,[]),this.setActionsToStorage()}},{key:"getActionsById",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Object(c.e)(t))return ca(this,da).reduce((function(e,n,r){return t.includes(n.id)&&e.push(n),e}),[])}},{key:"getIndex",value:function(e){return ca(this,da).findIndex((function(t){return t.id===e.id}))}},{key:"getActionsFromStorage",value:function(){var e=ca(this,ma).getAny("ACTIONS");ua(this,da,null!=e?e:[])}},{key:"setActionsToStorage",value:function(){ca(this,ma).setAny("ACTIONS",ca(this,da))}},{key:"getNextIndex",value:function(){var e=ca(this,ma).getNumber("ACTION_INDEX");return e?e+=1:e=5,ca(this,ma).setNumber("ACTION_INDEX",e),e}}]),e}(),va=new WeakMap,ha=function(){function e(){ia(this,e),va.set(this,{writable:!0,value:void 0}),ua(this,va,new Zi.BpdStorage("local","BPD_SETTINGS"))}return oa(e,[{key:"setSettings",value:function(e){return ca(this,va).setAny("SETTINGS",e),!0}},{key:"getSettings",value:function(){return ca(this,va).getAny("SETTINGS")||{darkMode:!1,soundEnabled:!1}}},{key:"setSoundEnabled",value:function(e){var t=this.getSettings();e!==t.soundEnabled&&(t.soundEnabled=e,this.setSettings(t))}},{key:"isSoundEnabled",value:function(){var e;return null===(e=this.getSettings())||void 0===e?void 0:e.soundEnabled}},{key:"setDarkMode",value:function(e){var t=this.getSettings();e!==t.darkMode&&(t.darkMode=e,this.setSettings(t))}},{key:"isDarkMode",value:function(){var e;return null===(e=this.getSettings())||void 0===e?void 0:e.darkMode}},{key:"isWelcomeSet",value:function(){var e;return null===(e=this.getSettings())||void 0===e?void 0:e.isWelcome}},{key:"setIsWelcome",value:function(e){var t=this.getSettings();e!==t.isWelcome&&(t.isWelcome=e,this.setSettings(t))}},{key:"clearSettings",value:function(){this.setSettings(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach((function(t){ta(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},R))}}]),e}(),ya=n(50);function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wa=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"setNavbarTitle",value:function(e){return null!=e?e:""}}])&&ga(t.prototype,n),r&&ga(t,r),e}();function Ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Oa=new WeakMap,Na=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Oa.set(this,{writable:!0,value:void 0}),function(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}}(this,Oa,t)}var t,n,r;return t=e,(n=[{key:"getSettings",value:function(){return function(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}(this,Oa)}}])&&Ea(t.prototype,n),r&&Ea(t,r),e}();class ja{constructor(){this.prefix="cui",this.app="$cui",this.logLevel="warning",this.interaction="async",this.animationTime=300,this.animationTimeShort=150,this.animationTimeLong=500,this.cacheSize=500,this.autoLightMode=!1,this.scrollThreshold=20,this.resizeThreshold=20,this.root=document.body,this.busSetup=void 0,this.development=void 0}}var Sa=n(36),ka=n(37),Aa=n(38),xa=n(39),Ta=n(40),Ia=n(41),Pa=n(42),Ca=n(43),Da=n(44),_a=n(51),Ra=n(45),$a=n(46),Ua=n(47),Ma=n(48),Fa=n(49);function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){Ba(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wa=document.getElementById("loading-indicator"),Va=document.getElementById("loading-screen");function Ya(e){window.requestAnimationFrame?window.requestAnimationFrame((function(){Wa.textContent=e})):Wa.textContent=e}Promise.all([fetch("/app_settings.json").then((function(e){return e.json()})),fetch("/static/icons/all.json").then((function(e){return e.json()}))]).then((function(e){!function(e,t){Ya("Initializing...");var n=document.getElementById("root"),a=new ja;a.logLevel="production"===(null==e?void 0:e.mode)?"error":"debug",a.root=n,a.busSetup=[{name:"MoveQueue",eventsDef:["global_move"],handler:"tasked",priority:0},{name:"InteractQueue",eventsDef:["open","close","switch"],handler:"tasked",priority:0},{name:"ResponsesQueue",eventsDef:["opened","closed","switched","resize","offset"],handler:"tasked",priority:1},{name:"GlobalSimple",eventsDef:["keydown","scroll","intersection","windowclick"],handler:"tasked",priority:2}];var o={setup:a,components:[new Ia.a("cui"),new Ua.a("cui"),new ka.a("cui"),new Da.a("cui"),new Ca.a("cui"),new Aa.a("cui"),new xa.a("cui"),new Pa.a("cui"),new Sa.a("cui"),new Ta.a("cui"),new Ra.a("cui"),new $a.a("cui"),new _a.a("cui")],plugins:[new Ma.a({autoLight:!0}),new Fa.a({autoPrint:!1})],icons:La(La({},Ji.a),t)},c=new fa,u=new En(c),l=new ba,s=new at(l),f=new ha,m=new Lr(f),p=new d(new wa);window.$appSettings=new Na(e),window.$flow=Ki.FlowFactory.create(u.getActions()),window.$actionsFlow=Ki.FlowFactory.create(s.getActions()),window.$settingsFlow=Ki.FlowFactory.create(m.getActions()),window.$push=Ki.FlowFactory.create(p.getActions()),setTimeout((function(){(new ya.a).init(o).then((function(t){i.render(r.createElement(Qi,{mode:e.mode}),n),Va.remove(),n.classList.remove("hidden")}))}),0)}(e[0],e[1])})).catch((function(){Wa.classList.add("error"),Ya("Application cannot be loaded!")}))}});
//# sourceMappingURL=stopwatch.index.js.map