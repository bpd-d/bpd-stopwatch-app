!function(e){function t(t){for(var i,a,c=t[0],s=t[1],l=t[2],d=0,f=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={0:0},o=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;o.push([46,1]),n()}({39:function(e,t,n){},45:function(e){e.exports=JSON.parse('{"stopwatch":"<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 200 200\\" width=\\"200\\" height=\\"200\\"><path d=\\"m 87.063507,7.6902003 c -1.894378,0 -3.419455,1.5248948 -3.419455,3.4190467 v 2.279364 c 0,1.894152 1.525077,3.419046 3.419455,3.419046 h 8.377218 v 4.672252 a 85.486373,85.476165 0 0 0 -80.927099,85.353731 85.486373,85.476165 0 0 0 85.486373,85.47617 85.486373,85.476165 0 0 0 85.486371,-85.47617 85.486373,85.476165 0 0 0 -80.9271,-85.353731 v -4.672252 h 8.37722 c 1.89437,0 3.41945,-1.524894 3.41945,-3.419046 v -2.279364 c 0,-1.8941519 -1.52508,-3.4190467 -3.41945,-3.4190467 z\\" class=\\"outer-border\\"></path><path d=\\"M 151.86173,105.12189 A 51.861736,51.855545 0 0 1 99.999992,156.97743 51.861736,51.855545 0 0 1 48.138256,105.12189 51.861736,51.855545 0 0 1 99.999992,53.266342 51.861736,51.855545 0 0 1 151.86173,105.12189\\" class=\\"inner-border\\"></path><path d=\\"m 99.999999,166.66467 v 11.4391\\" class=\\"tick\\"></path><path d=\\"m 99.999999,32.140025 -3e-6,11.439101\\" class=\\"tick\\"></path><path d=\\"M 38.449882,105.1219 H 27.00941\\" class=\\"tick\\"></path><path d=\\"M 172.99058,105.1219 H 161.55011\\" class=\\"tick\\"></path><path d=\\"m 99.999999,60.80568 v 44.10019\\" class=\\"minutes\\"></path><path d=\\"M 125.05857,129.85765 99.926593,104.72867\\" class=\\"hours\\"></path><path d=\\"m 100,101.91334 c 1.662,0 3,1.338 3,3 0,1.662 -1.338,3 -3,3 -1.662,0 -3,-1.338 -3,-3 0,-1.662 1.338,-3 3,-3 z\\" class=\\"center\\"></path></svg>","stopwatch_break":"<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 20 20\\" width=\\"20\\" height=\\"20\\"><path d=\\"m 6.9116187,18 v -1.98834 c -4.6e-6,-0.0039 -6.8e-6,-0.0078 -6.8e-6,-0.01166 0,-3.037566 1.362932,-5.5 3.044194,-5.5 C 11.637067,10.5 13,12.962434 13,16 v 0 c 0,0.0039 -2e-6,0.0078 -7e-6,0.01171 V 18\\"></path><path d=\\"m 12.483108,3.9843886 a 2.5,2.5 0 0 1 -2.5000004,2.5 2.5,2.5 0 0 1 -2.5,-2.5 2.5,2.5 0 0 1 2.5,-2.5 2.5,2.5 0 0 1 2.5000004,2.5 z\\"></path><path d=\\"M 15.486422,13 A 5.5,5.5 0 0 0 10,7.886229 a 5.5,5.5 0 0 0 -5.4864663,5.1144\\"></path></svg>","stopwatch_cooldown":"<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 20 20\\" width=\\"20\\" height=\\"20\\"><path d=\\"M 18.5,10 A 8.5,8.5 0 0 1 10,18.5 8.5,8.5 0 0 1 1.5,10 8.5,8.5 0 0 1 10,1.5 8.5,8.5 0 0 1 18.5,10 Z\\"></path><path d=\\"M 10 3.5 L 10 10 L 16.5 10 A 6.5 6.5 0 0 0 10 3.5 z \\"></path></svg>","stopwatch_exercise":"<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 20 20\\" width=\\"20\\" height=\\"20\\"><path d=\\"m 5.911621,18 v -1.98834 c -6.2e-6,-0.0039 -9.1e-6,-0.0078 -9.1e-6,-0.01166 0,-3.037566 1.8106473,-5.5 4.044194,-5.5 C 12.189352,10.5 14,12.962434 14,16 v 0 c 0,0.0039 -3e-6,0.0078 -9e-6,0.01171 V 18\\"></path><path d=\\"m 12.483108,3.9843886 a 2.5,2.5 0 0 1 -2.5000004,2.5 2.5,2.5 0 0 1 -2.5,-2.5 2.5,2.5 0 0 1 2.5,-2.5 2.5,2.5 0 0 1 2.5000004,2.5 z\\"></path><path d=\\"M 15.486422,4 A 5.5,5.5 0 0 1 10,9.113771 5.5,5.5 0 0 1 4.5135337,3.9993706\\"></path></svg>","stopwatch_ring":"<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 200 200\\" width=\\"200\\" height=\\"200\\"><path d=\\"M 194,100.00001 A 93.999997,93.999995 0 0 1 99.999998,194 93.999997,93.999995 0 0 1 6.000002,100.00001 93.999997,93.999995 0 0 1 99.999998,6.0000045 93.999997,93.999995 0 0 1 194,100.00001\\" class=\\"inner-border\\"></path></svg>","stopwatch_small":"<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 20 20\\" width=\\"20\\" height=\\"20\\"><path d=\\"m 19,10 a 9,9 0 0 1 -9,9 9,9 0 0 1 -9,-9 9,9 0 0 1 9,-9 9,9 0 0 1 9,9 z\\"></path><path d=\\"M 10 16.1875 L 10 17.5 \\"></path><path d=\\"M 10 2.5000001 L 10 3.8125001 \\"></path><path d=\\"M 16.1875 10 L 17.5 10 \\"></path><path d=\\"M 2.5000001 10 L 3.8125001 10 \\"></path><path d=\\"m 9.96875,6 v 4.0625 l 2.984375,2.984375\\"></path></svg>","stopwatch_warmup":"<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 20 20\\" width=\\"20\\" height=\\"20\\"><path d=\\"m 7.0000001,18 v -1.98834 c -4.6e-6,-0.0039 -6.7e-6,-0.0078 -6.7e-6,-0.01166 0,-3.037566 1.3233624,-5.5 2.9558126,-5.5 1.63245,0 2.955813,2.462434 2.955813,5.5 v 0 c 0,0.0039 -3e-6,0.0078 -7e-6,0.01171 V 18\\"></path><path d=\\"m 12.483108,3.9843886 a 2.5,2.5 0 0 1 -2.5000004,2.5 2.5,2.5 0 0 1 -2.5,-2.5 2.5,2.5 0 0 1 2.5,-2.5 2.5,2.5 0 0 1 2.5000004,2.5 z\\"></path><path d=\\"M 15.486422,3.886229 A 5.5,5.5 0 0 1 10,9\\"></path><path d=\\"M 10,9 C 3,9 6.20247,11.119178 6,14\\"></path></svg>"}')},46:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(28),o=(n(39),n(9)),a=n(8),c=n(3);function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){window.$cui.alert("common-info-dialog","Info",{title:e,message:t})}function d(e){return Object(c.c)(e)?e.reduce((function(e,t){return e+Number.parseInt(t.duration)}),0):0}function f(e){if(e<0)return"Error";if(e<60)return"00:"+m(e);if(e<3600){var t=e%60;return m(Math.floor(e/60))+":"+m(t)}var n=e%3600;return m(Math.floor(e/3600))+":"+f(n)}function m(e){return e<0||e>59?"Error":e<10?"0"+e:""+e}function h(e){window.$cui&&window.$cui.getUtils().setLightMode(e?"dark":"light")}function p(e,t){return Math.floor(100*e/t)}function v(e){return e.rounds.reduce((function(e,t){return[e[0]+t.actions.length,e[1]+d(t.actions)]}),[0,0])}function b(e){return"action-background-"+e}function w(e){switch(e){case"warmup":return"cui-text-success";case"break":return"cui-text-error";case"exercise":return"cui-text-accent";case"cooldown":return"cui-text-secondar";default:return""}}function g(e,t,n,i){if(!e||null===e||t<0)return e;var r=null!=i?i:1,o=e.length;if(o<2||t>=o)return s(e);var a=e.splice(t,r),c=o-r,l=n;return l<=0?[].concat(s(a),s(e)):l>=c?[].concat(s(e),s(a)):(e.splice.apply(e,[l,0].concat(s(a))),s(e))}function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var E=new WeakMap,O=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),E.set(this,{writable:!0,value:void 0}),function(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}}(this,E,t)}var t,n,i;return t=e,(n=[{key:"getRoute",value:function(e){return Object(c.c)(e)?function(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}(this,E)[e]:void 0}},{key:"getUrl",value:function(e){var t=this.getRoute(e);return Object(c.c)(t)?t.url:void 0}},{key:"getName",value:function(e){var t=this.getRoute(e);return Object(c.c)(t)?t.name:void 0}},{key:"renderUrl",value:function(e,t){var n=this.getUrl(e);return Object(c.c)(t)?(Object(c.b)(t,(function(e,t){n=n.replace(":"+e,t)})),n):n}}])&&y(t.prototype,n),i&&y(t,i),e}())({home:{url:"/",name:"Home"},about:{url:"/about",name:"About"},settings:{url:"/settings",name:"Settings"},actions:{url:"/actions",name:"Actions"},newTraining:{url:"/trainings/edit/new",name:"New Training"},editTraining:{url:"/trainings/edit/:id",name:"Edit Training"},perform:{url:"/trainings/perform/:id",name:"Perform Training"}});function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function j(e){return i.createElement("ul",{className:"cui-list cui-hover"},e.list&&e.list.map((function(t){return i.createElement("li",{key:t.id,className:"stopwatch-content-width cui-corner-round"},i.createElement(S,{data:t,onDelete:e.onDelete}))})))}function S(e){var t,n,r,c=Object(a.f)();return i.useEffect((function(){var e=window.$flow.subscribe("DELETE_TRAINING").finish((function(e){window.$flow.perform("GET_TRAININGS")}));return function(){window.$flow.unsubscribe("DELETE_TRAINING",e.id)}})),i.createElement("div",{className:"cui-flex cui-middle cui-animation-fade-in cui-padding-bottom cui-padding-top"},i.createElement("div",{className:"cui-flex-grow",onClick:function(){c.push(O.renderUrl("perform",{id:e.data.id}))}},i.createElement("div",{className:"cui-flex cui-middle cui-nowrap"},i.createElement("div",{className:"training-list-item-icon"},i.createElement("span",{className:"cui-text-bold"},e.data.name[0].toUpperCase())),i.createElement("div",{className:"cui-flex-grow cui-margin-left"},i.createElement("span",null,e.data.name),i.createElement("div",{className:"cui-text-muted cui-text-truncate cui-overflow-hidden"},i.createElement("span",null,(t=e.data,(n=N(function(e){return e.rounds.reduce((function(e,t){return[e[0]+t.actions.length,e[1]+d(t.actions)]}),[0,0])}(t),2))[0],r=n[1],"".concat(r," seconds"))))))),i.createElement("div",{className:"cui-flex-shrink"},i.createElement("div",null,i.createElement(o.b,{to:O.renderUrl("editTraining",{id:e.data.id}),className:"cui-icon-button","cui-icon":"edit","cui-tooltip":"Edit training"}))))}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function P(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=L(e);if(t){var r=L(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?$(e):t}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(c,e);var t,n,r,a=D(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),W($(t=a.call(this,e)),"list",void 0),W($(t),"subscription",void 0),W($(t),"onDeleteSubscription",void 0),W($(t),"state",void 0),t.state={list:[]},t.updateList=t.updateList.bind($(t)),t.onDeleteTrainingComplete=t.onDeleteTrainingComplete.bind($(t)),t.deleteTraining=t.deleteTraining.bind($(t)),t}return t=c,(n=[{key:"componentDidMount",value:function(){this.subscription=window.$flow.subscribe("GET_ALL_TRAININGS"),this.subscription.finish(this.updateList),this.onDeleteSubscription=window.$flow.subscribe("DELETE_TRAINING",{finish:this.onDeleteTrainingComplete}),window.$flow.perform("GET_ALL_TRAININGS")}},{key:"componentWillUnmount",value:function(){window.$flow.unsubscribe("GET_ALL_TRAININGS",this.subscription.id),window.$flow.unsubscribe("DELETE_TRAINING",this.onDeleteSubscription.id)}},{key:"deleteTraining",value:function(e){var t=C(this.state.list),n=t.findIndex((function(t){return t.id===e}));n>-1?window.$cui.alert("delete-training-dialog","YesNoCancel",{title:"Delete training",message:"Do you really want to delete training: "+t[n].name+"?",onYes:function(){window.$flow.perform("DELETE_TRAINING",e)}}):u("Delete training","We cannot remove this training. Identified doesn't match.")}},{key:"onDeleteTrainingComplete",value:function(e){e?window.$flow.perform("GET_ALL_TRAININGS"):u("Delete training","Service could not remove training")}},{key:"updateList",value:function(e){this.setState(T(T({},this.state),{},{list:e}))}},{key:"render",value:function(){return i.createElement("div",{className:"stopwatch-page-layout"},i.createElement("div",{className:"stopwatch-page-top cui-container cui-center"},i.createElement("div",null,i.createElement("span",{className:"cui-icon stopwatch-icon","cui-icon":"stopwatch"}),i.createElement("h1",{className:"cui-h3 cui-text-center cui-margin-small-top stopwatch-title"},"Stopwatch"))),i.createElement("div",{className:"stopwatch-page-bottom"},i.createElement("div",{className:"stopwatch-home-list cui-overflow-y-auto"},this.state.list.length>0?i.createElement(j,{list:this.state.list,onDelete:this.deleteTraining}):i.createElement(F,null))),i.createElement("div",{className:"cui-position-float cui-position-bottom cui-position-right cui-margin cui-margin-large--l z-index-100"},i.createElement(o.b,{to:O.renderUrl("newTraining"),className:"cui-button cui-icon cui-icon-margin cui-background-default cui-box-shadow cui-rounded","cui-icon":"plus"},"Add New")))}}])&&P(t.prototype,n),r&&P(t,r),c}(i.Component);function F(){return i.createElement("div",{className:"cui-container cui-center"},i.createElement("p",{className:"cui-text-muted cui-text-center"},"There are no trainings recorded. ",i.createElement(o.b,{className:"cui-link cui-accent",to:O.renderUrl("newTraining")},"Add new")," training to start your execises!"))}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Y(e);if(t){var r=Y(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return H(this,n)}}function H(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(c,e);var t,n,r,a=z(c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this,e)}return t=c,(n=[{key:"render",value:function(){return i.createElement("div",{className:"cui-section cui-flex-center cui-height-viewport-1-2"},i.createElement("div",{className:"cui-card cui-large"},i.createElement("div",{className:"cui-card-header cui-text-error"},i.createElement("span",{className:"cui-card-title"},"Error")),i.createElement("div",{className:"cui-card-body"},"It appears that page you looking for does not exist. Try to look for it again or go back to our Home page"),i.createElement("div",{className:"cui-card-footer cui-flex cui-right"},i.createElement(o.b,{to:"/",className:"cui-link"},"Go Home"))))}}])&&U(t.prototype,n),r&&U(t,r),c}(i.Component);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ee(e);if(t){var r=ee(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Q(this,n)}}function Q(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(c,e);var t,n,r,a=X(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).onClick=t.onClick.bind(Z(t)),t}return t=c,(n=[{key:"onClick",value:function(){this.props.shouldClose&&window.$cui.get("#app-offcanvas").emit("close")}},{key:"render",value:function(){return i.createElement(o.c,{exact:!0,activeClassName:"cui-active",className:this.props.class,to:this.props.url,onClick:this.onClick},this.props.name)}}])&&J(t.prototype,n),r&&J(t,r),c}(i.Component);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ce(e){var t=Object(a.g)(),n=oe(i.useState({currentSite:"",darkMode:!1,soundEnabled:!1}),2),r=n[0],c=n[1];return i.useEffect((function(){var e=t.pathname.split("/");c(ie(ie({},r),{},{currentSite:e.length>1?t.pathname.split("/")[1].toLocaleUpperCase():""}))}),[t]),i.createElement("nav",{className:"cui-navbar cui-sticky cui-box-shadow-remove stopwatch-layout-navigation"},i.createElement("div",{className:"cui-navbar-left cui-width-1-1 cui-width-auto--m cui-flex cui-middle cui-between",id:"navbar-left"},i.createElement("ul",null,r.currentSite&&i.createElement("li",null,i.createElement(o.b,{className:"cui-icon",to:O.renderUrl("home"),"cui-icon":"stopwatch_small"}))),i.createElement("a",{className:"cui-icon cui-padding cui-button cui-hidden--m","cui-icon":"menu","cui-open":"target: #app-offcanvas"})),i.createElement("ul",{className:"cui-navbar-right cui-visible--m"},i.createElement("li",null,i.createElement(te,{class:"cui-navbar-item",url:O.renderUrl("home"),name:O.getName("home")})),i.createElement("li",null,i.createElement(te,{class:"cui-navbar-item",url:O.renderUrl("actions"),name:O.getName("actions")})),i.createElement("li",null,i.createElement(te,{class:"cui-navbar-item",url:O.renderUrl("settings"),name:O.getName("settings")})),i.createElement("li",null,i.createElement(te,{class:"cui-navbar-item",url:O.renderUrl("about"),name:O.getName("about")}))))}function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=me(e);if(t){var r=me(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return fe(this,n)}}function fe(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(a,e);var t,n,r,o=de(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,e)}return t=a,(n=[{key:"render",value:function(){return i.createElement("div",{className:"cui-off-canvas",id:"app-offcanvas","cui-off-canvas":"escClose: y; outClose: y"},i.createElement("div",{className:"cui-off-canvas-container cui-card off-canvas-layout"},i.createElement("div",{className:"cui-card-header cui-flex cui-middle cui-right"},i.createElement("a",{href:"#",className:"cui-icon","cui-icon":"close","cui-close":""})),i.createElement("div",{className:"off-canvas-content cui-card-body"},i.createElement("div",{className:"cui-width-1-1"},i.createElement("h3",{className:"cui-h3"},"Menu"),i.createElement("ul",{className:"cui-list cui-interactive cui-margin-top"},i.createElement("li",null,i.createElement(te,{url:O.renderUrl("home"),name:O.getName("home"),shouldClose:!0})),i.createElement("li",null,i.createElement(te,{url:O.renderUrl("actions"),name:O.getName("actions"),shouldClose:!0})),i.createElement("li",null,i.createElement(te,{url:O.renderUrl("settings"),name:O.getName("settings"),shouldClose:!0})),i.createElement("li",null,i.createElement(te,{url:O.renderUrl("about"),name:O.getName("about"),shouldClose:!0})))))))}}])&&le(t.prototype,n),r&&le(t,r),a}(i.Component);var pe="exercise",ve="warmup",be=[{id:"9996",name:"Warmup",duration:"",type:ve,removable:!1,editable:!1},{id:"9997",name:"Exercise",duration:"30",type:pe,removable:!1,editable:!1},{id:"9998",name:"Break",duration:"60",type:"break",removable:!1,editable:!1},{id:"9999",name:"Cooldown",duration:"90",type:ve,removable:!1,editable:!1}],we="An error occured",ge="Training is empty",ye="Training name is not provided",Ee="Training has no rounds",Oe="Round is empty",Ne="Round has no actions",ke="Round name is missing",je="Action is empty",Se="Action name is not provided",Ae="Action type is not provided",xe="Action duration is not correct";function Te(e){return"Round "+e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Pe(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var Me="GET_ALL",De="SET_ACTION",_e="REMOVE_ACTION",$e="CLEAR_ACTIONS",Le=new WeakMap,We=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Le.set(this,{writable:!0,value:void 0}),function(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}}(this,Le,t)}var t,n,i;return t=e,(n=[{key:"getActions",value:function(){var e,t=this;return Ce(e={},Me,(function(){return Pe(t,Le).getAllActions()})),Ce(e,De,(function(e){return Pe(t,Le).setAction(e)})),Ce(e,_e,(function(e){return Pe(t,Le).removeAction(e)})),Ce(e,$e,(function(){return Pe(t,Le).clearActions(),!0})),e}}])&&Ie(t.prototype,n),i&&Ie(t,i),e}();function Re(e){return i.createElement("span",{className:"cui-icon cui-tooltip","data-tooltip":e.type,"cui-icon":"stopwatch_".concat(e.type)})}function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function Ue(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}function Be(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=qe(e);if(t){var r=qe(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){return!t||"object"!==Fe(t)&&"function"!=typeof t?Ve(e):t}function Ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Xe(e,t,n){return t&&Ke(e.prototype,t),n&&Ke(e,n),e}var Qe=function(){function e(){Je(this,e)}return Xe(e,[{key:"validate",value:function(e){var t={status:!0};try{var n=this.performValidation(e);n&&n.length>0&&(t.status=!1,t.errors=n)}catch(e){var i="An error occured during validation";console.error(i),console.error(e),t.status=!1,t.errors=[i+": "+e.message]}return t}}]),e}(),Ze=function(e){Be(n,e);var t=He(n);function n(){return Je(this,n),t.call(this)}return Xe(n,[{key:"performValidation",value:function(e){if(!Object(c.c)(e))return[ge];var t=[];return Object(c.c)(e.name)||t.push(ye),Object(c.c)(e.rounds)||t.push(Ee),t}}]),n}(Qe),et=function(e){Be(n,e);var t=He(n);function n(){return Je(this,n),t.call(this)}return Xe(n,[{key:"performValidation",value:function(e){if(!Object(c.c)(e))return[Oe];var t=[];return Object(c.c)(e.name)||t.push(ke),Object(c.c)(e.actions)||t.push(Ne),t}}]),n}(Qe),tt=function(e){Be(n,e);var t=He(n);function n(){return Je(this,n),t.call(this)}return Xe(n,[{key:"performValidation",value:function(e){if(!Object(c.c)(e))return[je];var t=[];return Object(c.c)(e.name)||t.push(Se),Object(c.c)(e.type)||t.push(Ae),Object(c.c)(e.duration)||t.push(xe),t}}]),n}(Qe),nt=new WeakMap,it=new WeakMap,rt=new WeakMap,ot=function(e){Be(n,e);var t=He(n);function n(){var e;return Je(this,n),e=t.call(this),nt.set(Ve(e),{writable:!0,value:void 0}),it.set(Ve(e),{writable:!0,value:void 0}),rt.set(Ve(e),{writable:!0,value:void 0}),Ue(Ve(e),nt,new Ze),Ue(Ve(e),rt,new et),Ue(Ve(e),it,new tt),e}return Xe(n,[{key:"performValidation",value:function(e){var t=Ge(this,nt).validate(e);if(t.status)try{t=this.validateRounds(e.rounds)}catch(e){return[we]}return t.errors}},{key:"validateRounds",value:function(e){for(var t=null,n=e.length,i=0;i<n&&(!(t=Ge(this,rt).validate(e[i])).status||(t=this.validateActions(e[i].actions)).status);i++);return t}},{key:"validateActions",value:function(e){for(var t=null,n=e.length,i=0;i<n;i++)if(!(t=Ge(this,it).validate(e[i])).status)return;return t}}]),n}(Qe);function at(e){var t;return i.useEffect((function(){}),[e]),i.createElement("div",{className:"cui-dialog ".concat(null!==(t=e.className)&&void 0!==t?t:""),"cui-dialog":"escClose: Y",id:e.id},i.createElement("div",{className:"cui-dialog-container"},i.createElement("div",{className:"cui-dialog-header"},i.createElement("span",{className:"cui-dialog-title"},e.title),i.createElement("a",{className:"cui-icon","cui-icon":"close","cui-close":""})),i.createElement("div",{className:"cui-dialog-body"},e.body),e.footer&&i.createElement("div",{className:"cui-dialog-footer"},e.footer)))}function ct(e){return i.createElement(i.Fragment,null,e.errors&&e.errors.length>0&&i.createElement("ul",{className:"cui-list"},e.errors.map((function(e,t){return i.createElement("li",{key:t,className:"cui-animation-fade-in"},i.createElement("span",{className:"cui-text-error"},e))}))))}function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ft(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function mt(e){var t=dt(i.useState({name:"",duration:5,removable:!0,editable:!1,type:pe}),2),n=t[0],r=t[1],o=dt(i.useState([]),2),a=o[0],c=o[1];function s(e){var t=e.target.name;switch(t){case"name":case"duration":case"type":r(lt(lt({},n),{},ut({},t,e.target.value)));break;case"removable":case"editable":r(lt(lt({},n),{},ut({},t,e.target.checked)))}}return i.useEffect((function(){return e.action&&(r(lt({},e.action)),c([])),function(){}}),[e.action]),i.createElement(at,{title:"Add new",id:"add-action-dialog",body:i.createElement(i.Fragment,null,i.createElement("div",{className:"cui-form"},i.createElement("label",{className:"cui-form-label"},"Name"),i.createElement("input",{className:"cui-input stopwatch-input-width",type:"text",name:"name",value:n.name,placeholder:"Name",onChange:s})),i.createElement("div",{className:"cui-form cui-margin-top"},i.createElement("label",{className:"cui-form-label"},"Duration"),i.createElement("input",{className:"cui-input stopwatch-input-width",type:"number",min:"0",max:"100",name:"duration",value:n.duration,placeholder:"Duration",onChange:s})),i.createElement("div",{className:"cui-form cui-margin-top"},i.createElement("label",{className:"cui-form-label"},"Type"),i.createElement("select",{className:"cui-select stopwatch-input-width",value:n.type,name:"type",onChange:s},i.createElement("option",{value:"warmup"},"Warmup"),i.createElement("option",{value:"exercise"},"Exercise"),i.createElement("option",{value:"break"},"Break"),i.createElement("option",{value:"cooldown"},"Cooldown"))),i.createElement("div",{className:"cui-form cui-flex cui-middle cui-reverse cui-margin-top"},i.createElement("input",{type:"checkbox",className:"cui-checkbox",id:"checkbox-1-2",name:"editable",checked:n.editable,onChange:s}),i.createElement("label",{htmlFor:"checkbox-1-2"}," Editable")),i.createElement("div",{className:"cui-form cui-flex cui-middle cui-reverse cui-margin-top"},i.createElement("input",{type:"checkbox",className:"cui-checkbox",id:"checkbox-1-1",name:"removable",checked:n.removable,onChange:s}),i.createElement("label",{htmlFor:"checkbox-1-1"}," Removable")),i.createElement(ct,{errors:a})),footer:i.createElement("div",{className:"cui-flex cui-right"},i.createElement("button",{className:"cui-button cui-margin-small-right","cui-close":""},"Cancel"),i.createElement("button",{className:"cui-button cui-accent",onClick:function(){if(e.onSave){var t=lt({},n),i=(new tt).validate(t);if(i.status){var r=window.$cui.get("#add-action-dialog");e.onSave(t),r.emit("close")}c(i.errors)}}},"Save"))})}function ht(e){return i.createElement("div",{className:"stopwatch-page-header cui-container cui-center"},i.createElement("div",null,i.createElement("h1",{className:"cui-h1 cui-text-center cui-margin-remove"},e.title),i.createElement("p",{className:"cui-text-center cui-text-muted"},e.description)))}function pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function bt(e){var t=pt(i.useState(""),2),n=t[0],r=t[1];function o(t){r(t),Object(c.c)(e.onUpdate)&&e.onUpdate(t)}return i.createElement("div",{className:"cui-input-mix "+e.className},i.createElement("input",{type:"text",className:"cui-input",placeholder:"Filter",value:n,onChange:function(e){o(e.target.value)}}),Object(c.c)(n)&&i.createElement("a",{className:"cui-icon","cui-icon":"close",onClick:function(){return o("")}}))}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e){return function(e){if(Array.isArray(e))return kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Nt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||Nt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){if(e){if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var jt={id:void 0,name:"",type:"exercise",duration:"5",removable:!0,editable:!0};function St(){var e=Ot(i.useState({actions:Et(be),current:null}),2),t=e[0],n=e[1],r=Ot(i.useState(""),2),o=r[0],a=r[1];function s(e){var t,n;t=e.name,n=function(){window.$actionsFlow.perform(_e,e)},window.$cui.alert("delete-action-dialog","YesNoCancel",{title:"Delete action",message:"Do you really want to delete action: "+t,onYes:n})}function l(e){n(gt(gt({},t),{},{actions:[].concat(Et(be),Et(e))}))}function u(e){n(gt(gt({},t),{},{current:e||gt({},jt)})),window.$cui.get("#add-action-dialog").emit("open")}return i.useEffect((function(){var e=window.$actionsFlow.subscribe(Me,{finish:l}),t=window.$actionsFlow.subscribe(De),n=window.$actionsFlow.subscribe(_e);return window.$actionsFlow.perform(Me),function(){window.$actionsFlow.unsubscribe(Me,e.id),window.$actionsFlow.unsubscribe(De,t.id),window.$actionsFlow.unsubscribe(_e,n.id)}}),[t.actions]),i.createElement(i.Fragment,null,i.createElement("div",{className:"stopwatch-content-width"},i.createElement(ht,{title:"Activities",description:"Define activies which you want to perform in trainings!"}),i.createElement("div",{className:"cui-container cui-flex cui-middle cui-middle cui-center cui-right--s"},i.createElement(bt,{value:o,onUpdate:function(e){a(e)},className:"cui-width-1-1 cui-width-1-3--m cui-width-1-4--l"})),i.createElement("div",{className:"cui-container cui-flex-grid cui-flex-grid-match cui-child-width-1-2 cui-child-width-1-3--m"},Object(c.c)(t.actions)&&t.actions.map((function(e,t){return function(e){if(!Object(c.c)(o))return!0;var t=e.toLowerCase().match(o.toLowerCase());return Object(c.c)(t)}(e.name)&&i.createElement("div",{key:t,className:"cui-animation-fade-in"},i.createElement("div",{className:"cui-card cui-default cui-hover "+b(e.type),onClick:function(t){e.editable&&(u(e),t.preventDefault())}},i.createElement("div",{className:"cui-card-header cui-flex cui-between cui-nowrap"},i.createElement("span",{className:"cui-card-title cui-text-truncate cui-overflow-hidden"},e.name),i.createElement(Re,{type:e.type})),i.createElement("div",{className:"cui-card-body cui-flex cui-middle action-card-height"},i.createElement("div",{className:"cui-flex-grow"},i.createElement("div",{className:"cui-text-muted"},i.createElement("span",null,e.duration," seconds"))),i.createElement("div",{className:"cui-flex-shrink"},i.createElement("ul",{className:"cui-icon-nav"},e.removable&&i.createElement("li",null,i.createElement("a",{className:"cui-icon","cui-icon":"trash",onClick:function(){e.editable&&s(e)}})))))))}))),i.createElement("div",{className:"cui-position-float cui-position-bottom cui-position-right cui-margin cui-margin-large--l z-index-100"},i.createElement("button",{className:"cui-icon cui-button cui-icon-margin cui-background-default cui-box-shadow cui-rounded","cui-icon":"plus",onClick:function(){u()}},"Add New"))),i.createElement(mt,{action:t.current,onSave:function(e){window.$actionsFlow.perform(De,e)}}))}var At=Object(a.i)((function(e){var t=e.history;return i.createElement("button",{className:"cui-button cui-accent",onClick:function(){return t.goBack()}},"Go Back")}));function xt(e){var t;return i.createElement("div",{className:e.classes},i.createElement("h2",{className:"cui-h2 cui-text-center cui-text-error"},e.message),i.createElement("div",{className:""},i.createElement("div",{className:"cui-flex cui-center"},i.createElement(o.b,{to:"/",className:"cui-button cui-margin-small-right"},"Go Home"),null!==(t=e.goBack)&&void 0!==t?t:i.createElement(At,null))))}function Tt(e){return i.createElement("select",{className:"cui-select "+e.className,name:e.name,id:e.id,onChange:function(t){if(e.onSelect){var n=t.target.value;e.onSelect(e.actions.find((function(e){return e.name===n})))}},value:e.value},e.actions&&e.actions.map((function(e){return i.createElement("option",{key:e.name,value:e.name},e.name," (Type: ",e.type,", Duration: ",e.duration,")")})))}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){Pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mt(e){return function(e){if(Array.isArray(e))return $t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||_t(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,t){if(e){if("string"==typeof e)return $t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$t(e,t):void 0}}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Lt(e){var t,n=Dt(Object(i.useState)({actions:[],selected:null,errors:[],name:""}),2),r=n[0],o=n[1];function a(t,n){o({actions:t,selected:e.definedActions[0],errors:[],name:n||r.name})}return i.useEffect((function(){var t=e.round&&e.round.name?e.round.name:Te(e.currentCount);return a(Object(c.c)(e.round)?e.round.actions:[],t),function(){}}),[e.round,e.definedActions,e.currentCount]),i.createElement(at,{id:"edit-round-dialog",title:"Edit Round",body:i.createElement(i.Fragment,null,i.createElement("div",{className:"edit-round-dialog-body"},i.createElement("div",{className:"cui-form"},i.createElement("label",{htmlFor:"",className:"cui-form-label"},"Round name"),i.createElement("input",{type:"text",className:"cui-input",placeholder:"Round name",value:r.name,onChange:function(e){var t=e.target.value,n=[];Object(c.c)(t)||n.push("Name cannot be empty"),o(It(It({},r),{},{errors:n,name:t}))}})),i.createElement("ul",{className:"cui-list cui-margin-top"},i.createElement("div",null,"Actions"),r.actions&&r.actions.map((function(e,t){return i.createElement("li",{key:t,className:"animation-fade-in"},i.createElement("div",{className:"cui-flex cui-middle"},i.createElement("div",{className:"cui-flex-grow"},i.createElement("div",{className:"cui-flex cui-middle"},i.createElement("div",{className:"cui-flex-center cui-margin-right"},i.createElement(Re,{type:e.type})),i.createElement("div",{className:"cui-flex-grow"},i.createElement("div",{className:""},e.name),i.createElement("div",{className:"cui-text-muted"},"Lasts ",e.duration," seconds")))),i.createElement("ul",{className:"cui-icon-nav"},i.createElement("li",null,i.createElement("a",{className:"cui-icon","cui-icon":"trash",onClick:function(){!function(e){var t=Mt(r.actions);t.splice(e,1),a(t)}(t)}})))))})),i.createElement("li",null,i.createElement("div",{className:"cui-flex cui-middle cui-nowrap"},i.createElement("div",{className:"cui-flex-grow"},i.createElement(Tt,{id:"round-action-select",className:"cui-width-1-1 cui-width-5-6--s",name:"action",value:null===(t=r.selected)||void 0===t?void 0:t.name,actions:e.definedActions,onSelect:function(e){e&&o(It(It({},r),{},{selected:e}))}})),i.createElement("div",{className:""},i.createElement("a",{"cui-icon":"plus",className:"cui-icon-button",onClick:function(){r.selected&&a([].concat(Mt(r.actions),[r.selected]))}}))))),r.errors&&r.errors.length>0&&i.createElement("ul",{className:"cui-list "},r.errors.map((function(e,t){return i.createElement("li",{key:t,className:"cui-animation-slide-in"},i.createElement("span",{className:"cui-text-error"},e))}))))),footer:i.createElement("div",{className:"cui-flex cui-right"},i.createElement("button",{className:"cui-button cui-margin-small-right","cui-close":""},"Cancel"),i.createElement("button",{className:"cui-button cui-accent",onClick:function(){if(e.onSave){var t={actions:Mt(r.actions),name:r.name},n=(new et).validate(t);if(n.status)return e.onSave(t,e.index),void o(It(It({},r),{},{name:Te(e.currentCount+1),selected:null,actions:[]}));o(It(It({},r),{},{errors:n.errors}))}}},"Save"))})}function Wt(e){return i.createElement("div",{className:"cui-flex cui-middle cui-nowrap"},i.createElement("div",{className:"cui-flex-grow"},i.createElement("div",null,i.createElement("span",{className:"cui-text-bold"},e.round.name)),i.createElement("div",{className:"cui-text-muted cui-text-small cui-text-no-wrap"},i.createElement("span",null,e.round.actions.length," actions, ",d(e.round.actions)," seconds"))),i.createElement("ul",{className:"cui-icon-nav cui-flex-shrink"},!e.isFirst&&i.createElement("li",null,i.createElement("a",{className:"cui-icon","cui-icon":"chevron_up",onClick:function(){e.onMoveUp(e.round,e.index)},"cui-tooltip":"Move up"})),!e.isLast&&i.createElement("li",null,i.createElement("a",{className:"cui-icon","cui-icon":"chevron_down",onClick:function(){e.onMoveDown(e.round,e.index)},"cui-tooltip":"Move down"})),i.createElement("li",null,i.createElement("a",{className:"cui-icon","cui-icon":"copy",onClick:function(){e.onClone(e.round,e.index)},"cui-tooltip":"Clone"})),i.createElement("li",null,i.createElement("a",{className:"cui-icon","cui-icon":"edit",onClick:function(){e.onEdit(e.round,e.index)},"cui-tooltip":"Edit"})),i.createElement("li",null,i.createElement("a",{className:"cui-icon","cui-icon":"trash",onClick:function(){e.onDelete(e.round,e.index)},"cui-tooltip":"Delete"}))))}function Rt(e){return function(e){if(Array.isArray(e))return Ht(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||zt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||zt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){if(e){if("string"==typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ht(e,t):void 0}}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Yt(e){var t=Bt(i.useState({currentIndex:-1,currentCount:0,currentRound:null}),2),n=t[0],r=t[1],o=Bt(i.useState({actions:[]}),2),a=o[0],l=o[1];function u(t,i){r(Gt(Gt({},n),{},{currentIndex:i,currentRound:t,currentCount:e.training&&e.training.rounds?e.training.rounds.length:0})),window.$cui.get("#edit-round-dialog").emit("open")}function d(e,t){var n;n=function(){var e=[i.createElement("div",{className:"props"}).training.rounds];e.splice(t,1),p(e)},window.$cui.alert("delete-round-dialog","YesNoCancel",{title:"Delete round",message:"Do you really want to delete this round?",onYes:n})}function f(t,n){p(g(e.training.rounds,n,n+1))}function m(t,n){p(g(e.training.rounds,n,n-1))}function h(t,n){var i=n+1,r=Object(c.a)(t);p(function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(!e||null===e||!i||null===i||0===i.length)return e;var o=e.length;return!t||0===t||t>=o?[].concat(s(e),i):t<=0?[].concat(i,s(e)):(e.splice.apply(e,[t,0].concat(i)),s(e))}(e.training.rounds,i,r))}function p(t){e.onUpdate(Gt(Gt({},e.training),{},{rounds:t}))}function v(t){var n=t.target.name;["name","description"].includes(n)&&e.onUpdate(Gt(Gt({},e.training),{},Ut({},n,t.target.value)))}function b(e){l({actions:[].concat(Rt(be),Rt(e))})}return i.useEffect((function(){var e=window.$actionsFlow.subscribe(Me,{finish:b});return window.$actionsFlow.perform(Me),r(Gt({},n)),function(){window.$actionsFlow.unsubscribe(Me,e.id)}}),[e.training]),i.createElement(i.Fragment,null,i.createElement("div",{className:"cui-container stopwatch-content-width cui-flex-grid cui-child-width-1-1 cui-child-width-1-2--m"},i.createElement("div",{className:"cui-padding-small-right"},i.createElement("h3",{className:"cui-h3 cui-text-muted"},"Common"),i.createElement("div",{className:"cui-form"},i.createElement("label",{htmlFor:"",className:"cui-form-label"},"Name"),i.createElement("input",{type:"text",className:"cui-input stopwatch-input-width",placeholder:"Name",name:"name",value:e.training.name,onChange:v})),i.createElement("div",{className:"cui-form cui-margin-top"},i.createElement("label",{htmlFor:"",className:"cui-form-label"},"Description"),i.createElement("textarea",{className:"cui-textarea stopwatch-input-width stopwatch-text-area",placeholder:"Description",name:"description",rows:5,value:e.training.description,onChange:v}))),i.createElement("div",{className:"cui-padding-small-left"},i.createElement("h3",{className:"cui-h3 cui-text-muted"},"Rounds (total count: ",e.training.rounds.length,")"),i.createElement("ul",{className:"cui-list"},e.training&&e.training.rounds.map((function(e,t,n){return i.createElement("li",{key:t,className:"animation-fade-in"},i.createElement(Wt,{index:t,round:e,onEdit:u,onDelete:d,onMoveUp:m,onMoveDown:f,onClone:h,isFirst:0===t,isLast:t===n.length-1}))})),i.createElement("li",null,i.createElement("button",{className:"cui-button cui-icon cui-icon-margin cui-width-1-1","cui-icon":"plus",onClick:function(){u(null,-1)}},"Add New"))))),i.createElement(Lt,{index:n.currentIndex,round:n.currentRound,onSave:function(t,n){p(function(t,n){var i=[];n>-1?(i=Rt(e.training.rounds))[n]=t:i=[].concat(Rt(e.training.rounds),[t]);return i}(t,n)),window.$cui.get("#edit-round-dialog").emit("close")},currentCount:n.currentCount,definedActions:a.actions}))}var Vt=Object(a.i)((function(e){var t,n=Bt(i.useState({training:{name:"",rounds:[]}}),2),r=n[0],s=n[1],l=Object(a.h)().id;function d(e){e?f():u("Fail","Training was not saved")}function f(){e.history&&e.history.goBack()}function m(e){e?s({training:Gt({},e)}):u("Fail","Training was not found")}function h(){var e,t;e=r.training.name,t=p,window.$cui.alert("delete-training-dialog","YesNoCancel",{title:"Delete training",message:"Do you really want to delete training: "+e+"?",onYes:t})}function p(){window.$flow.perform("DELETE_TRAINING",r.training.id)}function v(e){f()}return i.useEffect((function(){console.log("Parent redraw");var e=window.$flow.subscribe("UPDATE_TRAINING",{finish:d}),t=window.$flow.subscribe("GET_TRAINING",{finish:m}),n=window.$flow.subscribe("DELETE_TRAINING",{finish:v});return l&&window.$flow.perform("GET_TRAINING",l),function(){window.$flow.unsubscribe("UPDATE_TRAINING",e.id),window.$flow.unsubscribe("GET_TRAINING",t.id),window.$flow.unsubscribe("DELETE_TRAINING",n.id)}}),[r.training.id]),i.createElement(i.Fragment,null,i.createElement("div",{className:"edit-container"},i.createElement("div",{className:"edit-container-content cui-overflow-y-auto"},i.createElement("div",{className:"cui-container stopwatch-content-width"},i.createElement(ht,{title:Object(c.c)(null===(t=r.training)||void 0===t?void 0:t.name)?"Update training "+r.training.name:"Define training",description:"Customize your training settings"})),i.createElement("div",{className:""},r.training?i.createElement(Yt,{training:r.training,onUpdate:function(e){s(Gt(Gt({},r),{},{training:e}))},onCancel:f}):i.createElement(xt,{message:"The training you looking for could not be found",classes:""}))),i.createElement("div",{className:"edit-container-bottom cui-padding-large-vertical"},i.createElement("div",{className:"cui-container stopwatch-content-width cui-flex cui-middle cui-center cui-right--m"},i.createElement("ul",{className:"cui-list cui-inline"},i.createElement("li",{className:"cui-padding-remove"},i.createElement("a",{className:"cui-icon cui-icon-margin cui-margin-right","cui-icon":"close",onClick:function(){f()}},"Cancel")),i.createElement("li",{className:"cui-padding-remove"},i.createElement(o.b,{to:O.renderUrl("perform",{id:r.training.id}),className:"cui-icon cui-icon-margin cui-margin-right","cui-icon":"media_play"},"Run")),i.createElement("li",{className:"cui-padding-remove"},i.createElement("a",{className:"cui-icon cui-icon-margin cui-margin-right","cui-icon":"trash",onClick:function(){h()}},"Delete")),i.createElement("li",{className:"cui-padding-remove"},i.createElement("a",{className:"cui-icon cui-success cui-icon-margin","cui-icon":"checkmark",onClick:function(e){var t=(new Ze).validate(r.training);t.status?window.$flow.perform("UPDATE_TRAINING",r.training):u("Training not valid",t.errors.join(", "))}},"Save")))))))}));function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Xt(e,t,n){return t&&Kt(e.prototype,t),n&&Kt(e,n),e}function Qt(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function Zt(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}var en=new WeakMap,tn=function(){function e(){Jt(this,e),en.set(this,{writable:!0,value:void 0}),Zt(this,en,screen)}return Xt(e,[{key:"activate",value:function(){Qt(this,en).keepAwake=!0}},{key:"release",value:function(){Qt(this,en).keepAwake=!1}}]),e}(),nn=function(){function e(){Jt(this,e),qt(this,"element",void 0),this.element=void 0}return Xt(e,[{key:"activate",value:function(){this.element||(this.element=this.createElement("/static/video/Screen.mp4"),document.body.appendChild(this.element))}},{key:"release",value:function(){this.element&&(this.element.remove(),this.element=void 0)}},{key:"createElement",value:function(e){var t=document.createElement("video");return t.autoplay=!0,t.muted=!0,t.loop=!0,t.src=e,t.classList.add("loop-screen"),t.textContent="Not Supported",t}}]),e}(),rn=new WeakMap,on=function(){function e(){Jt(this,e),rn.set(this,{writable:!0,value:void 0}),Zt(this,rn,this.getToggle())}return Xt(e,[{key:"activate",value:function(){Qt(this,rn).activate()}},{key:"release",value:function(){Qt(this,rn).release()}},{key:"getToggle",value:function(){return"keepAwake"in screen?new tn:new nn}}]),e}();function an(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function cn(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function sn(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}var ln="RUNNING",un="STOPPED",dn="PAUSED",fn=new WeakMap,mn=new WeakMap,hn=new WeakMap,pn=new WeakMap,vn=new WeakMap,bn=new WeakMap,wn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),fn.set(this,{writable:!0,value:void 0}),mn.set(this,{writable:!0,value:void 0}),hn.set(this,{writable:!0,value:void 0}),pn.set(this,{writable:!0,value:void 0}),vn.set(this,{writable:!0,value:void 0}),bn.set(this,{writable:!0,value:void 0}),sn(this,mn,0),sn(this,hn,0),sn(this,pn,!1),sn(this,vn,un),sn(this,bn,void 0)}var t,n,i;return t=e,(n=[{key:"onTick",value:function(e){sn(this,fn,e)}},{key:"tick",value:function(){var e=this;sn(this,bn,setTimeout((function(){try{cn(e,vn)===ln&&cn(e,fn).call(e,cn(e,mn),cn(e,hn),e)?(cn(e,pn)?(sn(e,mn,0),sn(e,pn,!1)):(sn(e,mn,cn(e,mn)+1),sn(e,hn,cn(e,hn)+1)),e.tick()):cn(e,vn)!==dn&&e.stop()}catch(t){console.error("An error occured on stopwatch tick"),console.error(t),e.stop()}}),1e3))}},{key:"reset",value:function(){sn(this,pn,!0)}},{key:"start",value:function(){return cn(this,vn)!==ln&&(sn(this,mn,0),sn(this,vn,ln),this.tick(),!0)}},{key:"stop",value:function(){return cn(this,vn)===ln&&(this.finish(),sn(this,vn,un),!0)}},{key:"pause",value:function(){return cn(this,vn)===ln&&(sn(this,vn,dn),!0)}},{key:"resume",value:function(){return cn(this,vn)===dn&&(sn(this,vn,ln),this.tick(),!0)}},{key:"finish",value:function(){cn(this,bn)&&(clearTimeout(cn(this,bn)),sn(this,bn,void 0)),sn(this,mn,0),sn(this,hn,0)}},{key:"getState",value:function(){return cn(this,vn)}}])&&an(t.prototype,n),i&&an(t,i),e}();function gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function En(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var On="GET_DARK_MODE",Nn="SET_DARK_MODE",kn="GET_SOUND_ENABLED",jn="SET_SOUND_ENABLED",Sn="SET_SETTINGS",An="GET_SETTINGS",xn="GET_IS_WELCOME",Tn="SET_IS_WELCOME",Cn="CLEAR_SETTINGS",In=new WeakMap,Pn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),In.set(this,{writable:!0,value:void 0}),function(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}}(this,In,t)}var t,n,i;return t=e,(n=[{key:"getActions",value:function(){var e,t=this;return gn(e={},kn,(function(){return En(t,In).isSoundEnabled()})),gn(e,jn,(function(e){En(t,In).setSoundEnabled(e)})),gn(e,On,(function(){return En(t,In).isDarkMode()})),gn(e,Nn,(function(e){En(t,In).setDarkMode(e)})),gn(e,Sn,(function(e){En(t,In).setSettings(e)})),gn(e,An,(function(){return En(t,In).getSettings()})),gn(e,xn,(function(){return En(t,In).isWelcomeSet()})),gn(e,Tn,(function(e){En(t,In).setIsWelcome(e)})),gn(e,Cn,(function(){return En(t,In).clearSettings(),!0})),e}}])&&yn(t.prototype,n),i&&yn(t,i),e}();function Mn(e){return i.createElement("span",{className:"cui-svg total-circle-progress","cui-circle-progress":e.watchState.trainingProgress},i.createElement("div",{className:""},i.createElement("span",{className:"cui-svg current-circle-progress","cui-circle-progress":e.watchState.roundProgress},i.createElement("div",null,i.createElement("span",{className:"cui-svg countdown-circle-progress","cui-circle-progress":e.watchState.progress},i.createElement("div",null,i.createElement("span",{className:"cui-block cui-text-small"},e.actionIdx+1),i.createElement("h1",{className:"cui-h1 cui-margin-remove "+e.watchState.timerCls},e.watchState.timer)))))))}function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){$n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Rn={round:void 0,roundIdx:-1,actionIdx:-1,action:void 0,class:"",roundDuration:0,totalDuration:0};function Fn(){var e,t,n=Ln(i.useState({training:void 0}),2),r=n[0],o=n[1],s=Ln(i.useState(void 0),2),l=s[0],m=s[1],h=Ln(i.useState(Rn),2),g=h[0],y=h[1],E=Ln(i.useState(!1),2),O=E[0],N=E[1],k=Ln(i.useState({timer:"00:00",state:un,startBtnCls:U(un),timerCls:"",progress:100,roundProgress:100,trainingProgress:100}),2),j=k[0],S=k[1],A=Ln(i.useState(""),2),x=A[0],T=A[1],C=Object(a.h)().id,I=i.useRef(g);I.current=g;var P=i.useRef(r.training);P.current=r.training;var M=i.useRef(O);M.current=O;var D,_=i.useRef(null),$=i.useRef(null);function L(e){var t=(new ot).validate(e);t.status?(o(_n(_n({},r),{},{training:e})),W(e)):u("Incorrect training","Training is not correct: ".concat(t.errors.join(", ")))}function W(e){var t=e.rounds[0],n=t.actions[0];y({roundIdx:0,round:t,action:n,actionIdx:0,class:w(n.type),roundDuration:d(t.actions),totalDuration:v(e)[1]})}function R(e,t,n){var i=parseInt(I.current.action.duration),r=i-e,o=p(e,i);return r>0?(F(n.getState(),{time:r,progress:100-o,ct:e,total:t}),r>0&&r<=3&&G("countdown"),!0):(G("end"),n.reset(),!!function(){var e=I.current.actionIdx+1;if(I.current.round.actions.length>e){var t=I.current.round.actions[e];return y(_n(_n({},I.current),{},{actionIdx:e,action:t,class:w(t.type)})),!0}var n=I.current.roundIdx+1;if(P.current.rounds.length>n){var i=P.current.rounds[n],r=i.actions[0];return y(_n(_n({},I.current),{},{round:i,roundIdx:n,actionIdx:0,action:r,class:w(r.type),roundDuration:d(i.actions)})),!0}return W(P.current),!1}()||(F(un,{time:0,progress:100,ct:0,total:0}),!1))}function F(e,t){if(!Object(c.c)(t)||t.time<0)S(_n(_n({},j),{},{state:e,startBtnCls:U(e)}));else{var n=100-p(function(e){return I.current.round.actions.reduce((function(e,t,n){return n<I.current.actionIdx?e+parseInt(t.duration):e}),0)+e}(t.ct),I.current.roundDuration),i=function(e){return 100-p(e,I.current.totalDuration)}(t.total);S({timer:f(t.time),timerCls:(r=t.time,r>0&&r<=3?"cui-text-warning timer-blink-animation":""),state:e,startBtnCls:U(e),progress:t.progress,roundProgress:n,trainingProgress:i})}var r}function G(e){if(M.current){var t=void 0;switch(e){case"countdown":t=_.current;break;case"end":t=$.current}t&&(t.currentTime=0,t.play())}}function U(e){return e!==un?"cui-error":"cui-accent"}function B(e){N(e)}return i.useEffect((function(){console.log("Perfrom init");var e=window.$flow.subscribe("GET_TRAINING",{finish:L}),t=window.$settingsFlow.subscribe(kn,{finish:B});window.$settingsFlow.perform(kn);var n=new on;try{n.activate()}catch(e){T("We could not activate feature to keep your device's screen awake during training performance")}var i=new wn;return i.onTick(R),m(i),C>-1&&window.$flow.perform("GET_TRAINING",C),function(){console.log("Perfrom restart"),window.$flow.unsubscribe("GET_TRAINING",e.id),window.$settingsFlow.unsubscribe(kn,t.id),l&&(console.log("StopWatch stop"),l.stop()),n.release()}}),[C,O]),i.createElement(i.Fragment,null,r.training?i.createElement("div",{className:"stopwatch-layout-content cui-flex-center "+(D=g.action,Object(c.c)(D)?b(D.type):"")},i.createElement("div",{className:"stopwatch-content-width perform-layout cui-text-center animation-fade-in"},i.createElement("div",{className:"perform-main-controls"},i.createElement("h2",{className:"cui-h2 cui-margin-remove"},r.training.name),i.createElement("p",{className:"cui-margin-remove"},null==r||null===(e=r.training)||void 0===e||null===(t=e.rounds[g.roundIdx])||void 0===t?void 0:t.name),i.createElement("p",{className:"cui-text-muted cui-text-small cui-margin-remove"},"Round ",g.roundIdx+1," of ",r.training.rounds.length),i.createElement(Mn,{actionIdx:g.actionIdx,watchState:j})),i.createElement("div",{className:"perform-buttons"},i.createElement("div",{className:"cui-width-1-1"},i.createElement("h3",{className:"cui-h3 "+g.class},g.action&&g.action.name),i.createElement("div",{className:"cui-flex cui-center"},j.state!==un&&i.createElement("button",{className:"cui-button cui-default cui-margin-small-right",onClick:function(){j.state===ln&&l.pause()?F(dn):j.state===dn&&l&&l.resume()&&F(ln)}},j.state===dn?"Resume":"Pause"),i.createElement("button",{className:"cui-button "+j.startBtnCls,onClick:function(){j.state===un&&l.start()?F(ln):j.state!==un&&l.stop()&&(W(r.training),F(un,{time:0,progress:100,ct:0,total:0}))}},j.state===un?"Start":"Stop")),i.createElement("p",{className:"cui-text-muted"},r.training.description),i.createElement("div",{className:""},Object(c.c)(x)&&i.createElement("span",{className:"cui-icon cui-error cui-tooltip","cui-icon":"ban","data-tooltip":x}),i.createElement("a",{className:"cui-icon-button cui-default","cui-icon":O?"speaker":"volume_muted",onClick:function(){window.$settingsFlow.perform(jn,!O),window.$settingsFlow.perform(kn)}}))))),i.createElement("audio",{ref:_,id:"stopwatch-countdown",src:"/static/audio/stopwatch_countdown.mp3"}),i.createElement("audio",{ref:$,id:"stopwatch-end",src:"/static/audio/stopwatch_end.mp3"})):i.createElement(xt,{message:"We couldn't find training"}))}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Un(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Bn(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var zn="GET_ALL_TRAININGS",Hn="ADD_TRAINING",Yn="UPDATE_TRAINING",Vn="DELETE_TRAINING",qn="GET_TRAINING",Jn="CLEAR_TRAININGS",Kn=new WeakMap,Xn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Kn.set(this,{writable:!0,value:void 0}),function(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}}(this,Kn,t)}var t,n,i;return t=e,(n=[{key:"getActions",value:function(){var e,t=this;return Gn(e={},zn,(function(){return Bn(t,Kn).getAllTrainings()})),Gn(e,Hn,(function(e){return Bn(t,Kn).addTraining(e)})),Gn(e,Yn,(function(e){return Bn(t,Kn).updateTraining(e)})),Gn(e,Vn,(function(e){return Bn(t,Kn).deleteTraining(e)})),Gn(e,qn,(function(e){return Bn(t,Kn).getTraining(e)})),Gn(e,Jn,(function(){return Bn(t,Kn).clearTrainings(),!0})),e}}])&&Un(t.prototype,n),i&&Un(t,i),e}();function Qn(){function e(){window.$cui.toast("Data cleared")}function t(){console.log("Settings cleared"),window.$settingsFlow.perform(An)}return i.useEffect((function(){var n=window.$settingsFlow.subscribe(Cn,{finish:t}),i=window.$actionsFlow.subscribe($e,{finish:e}),r=window.$flow.subscribe(Jn,{finish:e});return function(){window.$settingsFlow.unsubscribe(Cn,n.id),window.$actionsFlow.unsubscribe($e,i.id),window.$flow.unsubscribe(Jn,r.id)}}),[]),i.createElement("div",{className:"cui-section"},i.createElement("h3",{className:"cui-h3"},"Dev tools"),i.createElement("div",{className:""},i.createElement("div",null),i.createElement("button",{className:"cui-button cui-margin-small cui-default ",onClick:function(){window.$actionsFlow.perform($e)}},"Clear actions only")),i.createElement("div",null,i.createElement("button",{className:"cui-button cui-margin-small cui-default",onClick:function(){window.$flow.perform(Jn)}},"Clear trainings only")),i.createElement("div",null,i.createElement("button",{className:"cui-button cui-margin-small cui-default",onClick:function(){window.$settingsFlow.perform(Cn)}},"Clear settings only")),i.createElement("div",null,i.createElement("button",{className:"cui-button cui-margin-small cui-error",onClick:function(){window.$actionsFlow.perform($e),window.$flow.perform(Jn),window.$settingsFlow.perform(Cn)}},"Clear data")))}function Zn(e){return i.useEffect((function(){}),[e.value,e.name]),i.createElement("div",{className:"cui-flex cui-middle cui-padding-small"},i.createElement("div",{className:"cui-flex-grow"},e.label),i.createElement("div",{className:"cui-input-switch"},i.createElement("input",{type:"checkbox",id:e.name,name:e.name,checked:e.value,onChange:function(t){var n=t.target;e.onUpdate&&e.onUpdate(n.name,n.checked)}}),i.createElement("label",{htmlFor:e.name,className:"cui-content"})))}function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach((function(t){ni(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ii(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ri(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ri(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function oi(){var e=ii(i.useState({soundEnabled:!1,darkMode:!1,isWelcome:!1}),2),t=e[0],n=e[1];function r(e,i){if("soundEnabled"===e||"darkMode"===e){var r=ti(ti({},t),{},ni({},e,i));window.$settingsFlow.perform(Sn,r),n(r)}}function o(){window.$settingsFlow.perform(An)}function a(e){e&&(console.log(e),n(e),h(e.darkMode))}return i.useEffect((function(){console.log("Reload");var e=window.$settingsFlow.subscribe(An,{finish:a}),t=window.$settingsFlow.subscribe(Sn,{finish:o});return o(),function(){window.$settingsFlow.unsubscribe(An,e.id),window.$settingsFlow.unsubscribe(Sn,t.id)}}),[t.darkMode,t.soundEnabled]),i.createElement(i.Fragment,null,i.createElement("div",{className:"stopwatch-content-width"},i.createElement(ht,{title:"Settings",description:"Change application setup"}),i.createElement("div",{className:"cui-section"},i.createElement("ul",{className:"cui-list"},i.createElement("li",null,i.createElement(Zn,{label:"Dark mode",name:"darkMode",value:t.darkMode,onUpdate:r})),i.createElement("li",null,i.createElement(Zn,{label:"Play sound",name:"soundEnabled",value:t.soundEnabled,onUpdate:r})),i.createElement("li",null,"Welcome screen status: ",t.isWelcome?"Yes":"No")),i.createElement("div",{className:"cui-section"},i.createElement("button",{className:"cui-button cui-default",onClick:function(){window.$cui.get("#welcome-dialog").emit("open")}},"Show tutorial dialog"))),i.createElement(Qn,null)))}function ai(){return i.createElement(i.Fragment,null,i.createElement("div",{className:"stopwatch-content-width"},i.createElement(ht,{title:"About",description:"Some details about the application"}),i.createElement("div",{className:""},i.createElement("div",{className:"cui-container "},i.createElement("h3",{className:"cui-h3"},"Repository"),i.createElement("p",{className:""},"Project sources can be found on Github under following link: ",i.createElement("a",{className:"cui-link cui-accent",href:"https://github.com/bpd-d/bpd-stopwatch-app"},"bpd-stopwatch-app"))),i.createElement("div",{className:"cui-container"},i.createElement("h3",{className:"cui-h3"},"Links"),i.createElement("p",{className:""},"Project uses third party libraries, see following list: "),i.createElement("ul",{className:"cui-list"},i.createElement("li",null,i.createElement("div",{className:""},i.createElement("div",{className:""},i.createElement("span",null,"React")),i.createElement("a",{href:"https://github.com/facebook/react",className:"cui-link"},"Github"),i.createElement("a",{href:"https://reactjs.org/",className:"cui-link cui-margin-left"},"React JS home page"))),i.createElement("li",null,i.createElement("div",{className:""},i.createElement("div",{className:""},i.createElement("span",null,"cUI Light")),i.createElement("a",{href:"https://github.com/bpd-d/cui-light",className:"cui-link"},"cUI Light on Github"),i.createElement("a",{href:"https://github.com/bpd-d/cui-styles",className:"cui-link cui-margin-left"},"cUI Styles on Github"),i.createElement("a",{href:"https://github.com/bpd-d/cui-icons",className:"cui-link cui-margin-left"},"cUI Icons on Github"))),i.createElement("li",null,i.createElement("div",{className:""},i.createElement("div",{className:""},i.createElement("span",null,"BPD Flow")),i.createElement("a",{href:"https://github.com/bpd-d/bpd-flow",className:"cui-link"},"Github"))),i.createElement("li",null,i.createElement("div",{className:""},i.createElement("div",{className:""},i.createElement("span",null,"BPD Storage")),i.createElement("a",{href:"https://github.com/bpd-d/bpd-storage",className:"cui-link"},"Github"))))))))}function ci(){return i.createElement("div",{className:"stopwatch-footer cui-flex cui-right cui-middle"},i.createElement("div",{className:"cui-margin-horizontal"},i.createElement("span",{className:"cui-margin-small-right"},"Copyrights ",(new Date).getFullYear()+""),i.createElement("a",{href:"https://github.com/bpd-d",target:"_blank",className:"cui-link cui-accent"},"BPDDev")))}function si(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return li(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return li(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ui(){var e=si(i.useState(!1),2),t=e[0],n=e[1],r=null;function o(e){Object(c.c)(e)&&Object(c.c)(e.index)&&2===e.index?n(!0):n(!1)}return i.useEffect((function(){var e=(r=window.$cui.get("#welcome-switch")).on("switched",o);return function(){Object(c.c)(e)&&e.forEach((function(e){r.detach("switched",e)}))}}),[t]),i.createElement(at,{id:"welcome-dialog",title:"Welcome",body:i.createElement("ul",{id:"welcome-switch","cui-switch":"links: #welcome-step-indicator > li; height: 200px"},i.createElement("li",{className:"cui-active"},i.createElement("div",null,"Welcome to ",i.createElement("span",{className:"cui-text-bold"},"Bpd Stopwatch")," app. It is simple, offline tool which will allow you to perform highly custimzed trainings that need stopwatch.")),i.createElement("li",null,i.createElement("div",null,"Set up some ",i.createElement("span",{className:"cui-text-bold"},"Actions")," to build your trainings from. You can define action name, type and it's duration. Action type has it's indications in colors and sounds later when your training is performed, so choose type accordingly to your action type. You can choose from warmup, exercise, break and cooldown. There are some actions already defined (they cannot be modified or deleted), which can help you to start with building your trainings.")),i.createElement("li",null,i.createElement("div",null,"Give your training a name and optionally description, then setup rounds. You can define rounds from available actions. Once added they can be re-positioned, cloned or deleted."))),footer:i.createElement("div",{className:"cui-flex cui-middle"},i.createElement("ul",{id:"welcome-step-indicator",className:"cui-switcher-indicator cui-flex-grow","cui-switcher":"target: #welcome-switch"},i.createElement("li",null,i.createElement("a",null)),i.createElement("li",null,i.createElement("a",null)),i.createElement("li",null,i.createElement("a",null))),i.createElement("div",null,i.createElement("button",{className:"cui-button",onClick:function(){t?window.$cui.get("#welcome-dialog").emit("close"):r.emit("switch","next")}},t?"Close":"Next")))})}function di(e){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function mi(e,t){return(mi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=bi(e);if(t){var r=bi(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return pi(this,n)}}function pi(e,t){return!t||"object"!==di(t)&&"function"!=typeof t?vi(e):t}function vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bi(e){return(bi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mi(e,t)}(l,e);var t,n,r,s=hi(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),wi(vi(t=s.call(this,e)),"darkModeSub",void 0),wi(vi(t),"welcomeScreenGetSub",void 0),wi(vi(t),"welcomeDialogHandle",void 0),wi(vi(t),"welcomeDialogCloseEventIds",void 0),t.state={currentSite:""},t.darkModeSub=window.$settingsFlow.subscribe(On,{finish:t.onDarkMode.bind(vi(t))}),t.welcomeScreenGetSub=window.$settingsFlow.subscribe(xn,{finish:t.onWelcomeScreen.bind(vi(t))}),t.welcomeDialogHandle=window.$cui.get("#welcome-dialog"),t.welcomeDialogCloseEventIds=t.welcomeDialogHandle.on("close",t.onWelcomeDialogClose.bind(vi(t))),window.$settingsFlow.perform(xn),window.$settingsFlow.perform(On),t}return t=l,(n=[{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){var e=this;this.darkModeSub&&window.$settingsFlow.unsubscribe(On,this.darkModeSub.id),this.welcomeScreenGetSub&&window.$settingsFlow.unsubscribe(xn,this.welcomeScreenGetSub.id),Object(c.c)(this.welcomeDialogCloseEventIds)&&this.welcomeDialogCloseEventIds.forEach((function(t){e.welcomeDialogHandle.detach("close",t)}))}},{key:"onDarkMode",value:function(e){h(e)}},{key:"onWelcomeScreen",value:function(e){var t=this;e||setTimeout((function(){t.welcomeDialogHandle=window.$cui.get("#welcome-dialog"),t.welcomeDialogCloseEventIds=t.welcomeDialogHandle.on("close",t.onWelcomeDialogClose.bind(t)),window.$cui.get("#welcome-dialog").emit("open")}),100)}},{key:"onWelcomeDialogClose",value:function(){window.$settingsFlow.perform(Tn,!0)}},{key:"render",value:function(){return i.createElement(o.a,null,i.createElement("div",{className:"stopwatch-layout-main"},i.createElement(ce,null),i.createElement("div",{className:"stopwatch-layout-content cui-overflow-y-auto"},i.createElement(a.c,null,i.createElement(a.a,{path:O.getUrl("perform"),component:Fn}),i.createElement(a.a,{path:O.getUrl("newTraining"),component:Vt}),i.createElement(a.a,{path:O.getUrl("editTraining"),component:Vt}),i.createElement(a.a,{path:O.getUrl("actions"),component:St}),i.createElement(a.a,{path:O.getUrl("settings"),component:oi}),i.createElement(a.a,{path:O.getUrl("about"),component:ai}),i.createElement(a.a,{path:O.getUrl("home"),component:R}),i.createElement(a.a,null,i.createElement(V,null)))),i.createElement(ci,null),i.createElement(he,null),i.createElement(ui,null)))}}])&&fi(t.prototype,n),r&&fi(t,r),l}(i.Component),yi=n(30),Ei=n(21),Oi=n(22);function Ni(e){return function(e){if(Array.isArray(e))return ki(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ki(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ki(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ji(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Si(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ai(e,t,n){return t&&Si(e.prototype,t),n&&Si(e,n),e}function xi(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function Ti(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}var Ci,Ii,Pi,Mi,Di,_i,$i=new WeakMap,Li=new WeakMap,Wi=new WeakMap,Ri=new WeakMap,Fi=function(){function e(){ji(this,e),$i.set(this,{writable:!0,value:void 0}),Li.set(this,{writable:!0,value:void 0}),Wi.set(this,{writable:!0,value:void 0}),Ri.set(this,{writable:!0,value:void 0}),Ti(this,$i,new Oi.BpdStorage("local","BPD_TRAININGS")),Ti(this,Wi,"Trainings"),Ti(this,Li,[]),Ti(this,Ri,new Ze)}return Ai(e,[{key:"getAllTrainings",value:function(){return this.getTrainings()}},{key:"addTraining",value:function(e){var t=this,n=!1;return this.validate(e)&&this.onAction((function(i){return Object(c.c)(e.id)?null:(e.id="00"+t.getNextIndex(),i.push(e),n=!0,i)})),n}},{key:"updateTraining",value:function(e){var t=!1;return this.validate(e)&&(Object(c.c)(e.id)?this.onAction((function(n){var i=n.findIndex((function(t){return t.id===e.id}));return i>-1?(n[i]=e,t=!0,n):null})):(console.log(e),t=this.addTraining(e))),t}},{key:"deleteTraining",value:function(e){var t=!1;return!!Object(c.c)(e)&&(this.onAction((function(n){var i=n.findIndex((function(t){return t.id===e}));return i>-1?(n.splice(i,1),t=!0,n):null})),t)}},{key:"getTraining",value:function(e){console.log(e);var t=void 0;return this.onAction((function(n){return t=n.find((function(t){return t.id===e})),null})),console.log(t),t}},{key:"clearTrainings",value:function(){this.onAction((function(e){return[]}))}},{key:"getCurrentTraining",value:function(){throw new Error("Method not implemented.")}},{key:"setCurrentTraining",value:function(e){throw new Error("Method not implemented.")}},{key:"getTrainings",value:function(){var e;if(0===xi(this,Li).length){var t=xi(this,$i).getAny(xi(this,Wi));Ti(this,Li,null!=t?t:[])}return null!==(e=xi(this,$i).getAny(xi(this,Wi)))&&void 0!==e?e:[]}},{key:"setTrainings",value:function(e){xi(this,$i).setAny(xi(this,Wi),e)}},{key:"getNextIndex",value:function(){var e=xi(this,$i).getNumber("TRAININGS_INDEX");return e&&NaN!==e?e+=1:e=1,xi(this,$i).setNumber("TRAININGS_INDEX",e),e}},{key:"validate",value:function(e){return xi(this,Ri).validate(e).status}},{key:"onAction",value:function(e){var t=e(this.getTrainings());null!==t&&this.setTrainings(t)}}]),e}(),Gi=new WeakMap,Ui=new WeakMap,Bi=new WeakMap,zi=function(){function e(){ji(this,e),Gi.set(this,{writable:!0,value:void 0}),Ui.set(this,{writable:!0,value:void 0}),Bi.set(this,{writable:!0,value:void 0}),Ti(this,Gi,new Oi.BpdStorage("local","BPD_TRAININGS")),Ti(this,Ui,[]),Ti(this,Bi,new tt),this.getActionsFromStorage()}return Ai(e,[{key:"getAllActions",value:function(){return Ni(xi(this,Ui))}},{key:"setAction",value:function(e){if(!xi(this,Bi).validate(e).status)return!1;Object(c.c)(e.id)||(e.id="000"+this.getNextIndex(),xi(this,Ui).push(e));var t=this.getIndex(e);return t>-1?(xi(this,Ui)[t]=e,this.setActionsToStorage(),!0):(console.log("Unknown action id: "+e.id),!1)}},{key:"removeAction",value:function(e){if(!xi(this,Bi).validate(e).status)return!1;var t=this.getIndex(e);return t<0?(console.log("Unknown action id: "+e.id),!1):(xi(this,Ui).splice(t,1),this.setActionsToStorage(),!0)}},{key:"clearActions",value:function(){Ti(this,Ui,[]),this.setActionsToStorage()}},{key:"getActionsById",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Object(c.c)(t))return xi(this,Ui).reduce((function(e,n,i){return t.includes(n.id)&&e.push(n),e}),[])}},{key:"getIndex",value:function(e){return xi(this,Ui).findIndex((function(t){return t.id===e.id}))}},{key:"getActionsFromStorage",value:function(){var e=xi(this,Gi).getAny("ACTIONS");Ti(this,Ui,null!=e?e:[])}},{key:"setActionsToStorage",value:function(){xi(this,Gi).setAny("ACTIONS",xi(this,Ui))}},{key:"getNextIndex",value:function(){var e=xi(this,Gi).getNumber("ACTION_INDEX");return e?e+=1:e=5,xi(this,Gi).setNumber("ACTION_INDEX",e),e}}]),e}(),Hi=new WeakMap,Yi=function(){function e(){ji(this,e),Hi.set(this,{writable:!0,value:void 0}),Ti(this,Hi,new Oi.BpdStorage("local","BPD_SETTINGS"))}return Ai(e,[{key:"setSettings",value:function(e){return xi(this,Hi).setAny("SETTINGS",e),!0}},{key:"getSettings",value:function(){return xi(this,Hi).getAny("SETTINGS")||{darkMode:!1,soundEnabled:!1}}},{key:"setSoundEnabled",value:function(e){var t=this.getSettings();e!==t.soundEnabled&&(t.soundEnabled=e,this.setSettings(t))}},{key:"isSoundEnabled",value:function(){var e;return null===(e=this.getSettings())||void 0===e?void 0:e.soundEnabled}},{key:"setDarkMode",value:function(e){var t=this.getSettings();e!==t.darkMode&&(t.darkMode=e,this.setSettings(t))}},{key:"isDarkMode",value:function(){var e;return null===(e=this.getSettings())||void 0===e?void 0:e.darkMode}},{key:"isWelcomeSet",value:function(){var e;return null===(e=this.getSettings())||void 0===e?void 0:e.isWelcome}},{key:"setIsWelcome",value:function(e){var t=this.getSettings();e!==t.isWelcome&&(t.isWelcome=e,this.setSettings(t))}},{key:"clearSettings",value:function(){this.setSettings({darkMode:!1,soundEnabled:!1,isWelcome:!1})}}]),e}(),Vi=n(31),qi=n(0),Ji=n(18),Ki=n(2),Xi=n(19),Qi=n(6),Zi=n(34),er=n(5),tr=n(20),nr=n(4),ir=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},rr=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},or=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class ar{constructor(e,t){Ci.set(this,void 0),Ii.set(this,void 0),Pi.set(this,void 0),Mi.set(this,void 0),Di.set(this,void 0),_i.set(this,void 0),rr(this,Ci,e),rr(this,Ii,!1),rr(this,Pi,Qi.a.get("ElementManager")),rr(this,Di,t),rr(this,Mi,Date.now()),rr(this,_i,new tr.a(t.interactions))}toggleClass(e){return ir(this,void 0,void 0,(function*(){return!!Object(qi.w)(e)&&this.call(t=>{t.classList.contains(e)?t.classList.remove(e):t.classList.add(e)},"toggleClass")}))}toggleClassAs(e){return ir(this,void 0,void 0,(function*(){return!!Object(qi.w)(e)&&this.call(t=>{let n=t.classList;or(this,Di).interactions.fetch(()=>{n.contains(e)?or(this,Di).interactions.mutate(n.remove,n,e):or(this,Di).interactions.mutate(n.add,n,e)},this)},"toggleClassAs")}))}setClass(e){return ir(this,void 0,void 0,(function*(){return!!Object(qi.w)(e)&&this.call(t=>{t.classList.contains(e)||t.classList.add(e)},"setClass")}))}setClassAs(e){return ir(this,void 0,void 0,(function*(){return!!Object(qi.w)(e)&&this.call(t=>{let n=t.classList;or(this,Di).interactions.fetch(()=>{n.contains(e)||or(this,Di).interactions.mutate(n.add,n,e)},this)},"setClassAs")}))}removeClass(e){return ir(this,void 0,void 0,(function*(){return!!Object(qi.w)(e)&&this.call(t=>{t.classList.contains(e)&&t.classList.remove(e)},"removeClass")}))}removeClassAs(e){return ir(this,void 0,void 0,(function*(){return!!Object(qi.w)(e)&&this.call(t=>{let n=t.classList;or(this,Di).interactions.fetch(()=>{n.contains(e)&&or(this,Di).interactions.mutate(n.remove,n,e)},this)},"removeClass")}))}getAttribute(e){return Object(qi.w)(e)?or(this,Ci).reduce((t,n)=>{let i=n.getAttribute(e);return null!=i&&t.push(i),t},[]):[]}setAttribute(e,t){return ir(this,void 0,void 0,(function*(){return!!Object(qi.w)(e)&&this.call(n=>{n.setAttribute(e,null!=t?t:"")},"setAttribute")}))}setAttributeAs(e,t){return ir(this,void 0,void 0,(function*(){return!!Object(qi.w)(e)&&this.call(n=>{or(this,Di).interactions.mutate(n.setAttribute,n,e,null!=t?t:"")},"setAttributeAs")}))}removeAttribute(e){return ir(this,void 0,void 0,(function*(){return!!Object(qi.w)(e)&&this.call(t=>{t.removeAttribute(e)},"removeAttribute")}))}removeAttributeAs(e){return ir(this,void 0,void 0,(function*(){return!!Object(qi.w)(e)&&this.call(t=>{or(this,Di).interactions.mutate(t.removeAttribute,t,e)},"removeAttributeAs")}))}toggleAttribute(e,t){return ir(this,void 0,void 0,(function*(){return!!Object(qi.w)(e)&&this.call(n=>{n.hasAttribute(e)?n.removeAttribute(e):n.setAttribute(e,null!=t?t:"")},"toggleAttribute")}))}toggleAttributeAs(e,t){return ir(this,void 0,void 0,(function*(){return!!Object(qi.w)(e)&&this.call(n=>{or(this,Di).interactions.fetch(()=>{n.hasAttribute(e)?or(this,Di).interactions.mutate(n.removeAttribute,n,e):or(this,Di).interactions.mutate(n.setAttribute,n,e,null!=t?t:"")},this)},"toggleAttributeAs")}))}click(e){return ir(this,void 0,void 0,(function*(){return!!Object(qi.w)(e)&&this.call(t=>{t.addEventListener("click",e)},"click")}))}event(e,t){return ir(this,void 0,void 0,(function*(){return!(!Object(qi.w)(e)||!Object(qi.w)(t))&&this.call(n=>{n.addEventListener(e,t)},"event")}))}call(e,t){return ir(this,void 0,void 0,(function*(){return or(this,Ii)&&or(this,Pi).error("Element is locked",t),this.lock(),or(this,Ci).forEach((t,n)=>{e(t,n)}),this.unlock(),!0}))}animate(e,t){return ir(this,void 0,void 0,(function*(){if(!Object(qi.w)(e))return!1;const n=null!=t?t:or(this,Di).setup.animationTime;return this.call(t=>{this.change(()=>{t.classList.add(e),t.classList.add(Ki.a.animProgress),setTimeout(()=>{this.change(()=>{t.classList.remove(e),t.classList.remove(Ki.a.animProgress)})},n)})})}))}open(e,t,n){return ir(this,void 0,void 0,(function*(){if(!Object(qi.b)(e,t))return!1;const i=null!=n?n:or(this,Di).setup.animationTime,r=new nr.b(t);return this.call(t=>{or(this,_i).performAction(t,r,null!=i?i:0).then(()=>{t.classList.add(e)})})}))}close(e,t,n){return ir(this,void 0,void 0,(function*(){if(!Object(qi.b)(e,t))return!1;const i=null!=n?n:or(this,Di).setup.animationTime,r=new nr.b(t);return this.call(t=>{or(this,_i).performAction(t,r,null!=i?i:0).then(()=>{t.classList.remove(e)})})}))}emit(e,...t){Object(qi.w)(e)?this.call(n=>{let i=n.$cuid;Object(qi.w)(i)&&(or(this,Pi).debug(`Emitting event ${e} to ${i}`),or(this,Di).bus.emit(e,i,...t))},"emit"):or(this,Pi).warning("Not enough data to emit event","emit")}on(e,t){let n=[];return Object(qi.b)(e,t)?(this.call(i=>{let r=i;if(Object(qi.w)(r)){let i=or(this,Di).bus.on(e,t,r);null!=i&&n.push(i)}},"on"),n):(or(this,Pi).error("Incorrect arguments","on"),n)}detach(e,t){Object(qi.b)(e,t)||or(this,Pi).error("Incorrect arguments","detach"),this.call(n=>{let i=n;Object(qi.w)(i)&&or(this,Di).bus.detach(e,t,i)},"detach")}read(e,...t){or(this,Di).interactions.fetch(e,this,...t)}change(e,...t){or(this,Di).interactions.mutate(e,this,...t)}elements(){return or(this,Ci)}count(){return or(this,Ci).length}lock(){rr(this,Ii,!0)}unlock(){rr(this,Ii,!1)}isLocked(){return or(this,Ii)}refresh(){return Date.now()-or(this,Mi)<36e4}}Ci=new WeakMap,Ii=new WeakMap,Pi=new WeakMap,Mi=new WeakMap,Di=new WeakMap,_i=new WeakMap;var cr,sr,lr,ur,dr,fr,mr=n(7),hr=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},pr=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class vr{constructor(e,t,n){cr.set(this,void 0),sr.set(this,void 0),lr.set(this,void 0),ur.set(this,void 0),dr.set(this,void 0),fr.set(this,void 0),hr(this,ur,e),hr(this,cr,hr(this,lr,hr(this,sr,void 0))),hr(this,dr,null!=n?n:""),hr(this,fr,t)}createHeader(e,t,n){Object(qi.w)(t)||(t=[]),Object(qi.w)(n)||(n=[]);let i=new mr.a("div");i.setClasses(pr(this,ur)+"-dialog-header",...t),hr(this,cr,i.build());let r=new mr.a("span").setClasses(this.getPrefixedString("-dialog-title")).build(e);pr(this,cr).appendChild(r),this.appendChildrens(pr(this,cr),...n)}createFooter(e,t){Object(qi.w)(e)||(e=[]),Object(qi.w)(t)||(t=[]),hr(this,lr,new mr.a("div").setClasses(this.getPrefixedString("-dialog-footer"),...e).build()),this.appendChildrens(pr(this,lr),...t)}createBody(e,t){Object(qi.w)(e)||(e=[]),Object(qi.w)(t)||(t=[]),hr(this,sr,new mr.a("div").setClasses(this.getPrefixedString("-dialog-body"),...e).build()),this.appendChildrens(pr(this,sr),...t)}build(e){let t=[this.getPrefixedString("-dialog")];pr(this,fr)&&t.push(this.getPrefixedString("-reverse-auto"));let n=new mr.a("div").setId(e).setClasses(...t).setAttributes({[this.getPrefixedString("-dialog")]:pr(this,dr)}).build(),i=new mr.a("div").setClasses(this.getPrefixedString("-dialog-container")).build();return pr(this,cr)&&i.appendChild(pr(this,cr)),pr(this,sr)&&i.appendChild(pr(this,sr)),pr(this,lr)&&i.appendChild(pr(this,lr)),n.appendChild(i),n}appendChildrens(e,...t){Object(qi.w)(t)&&t.forEach(t=>e.appendChild(t))}getPrefixedString(e){return pr(this,ur)+e}}cr=new WeakMap,sr=new WeakMap,lr=new WeakMap,ur=new WeakMap,dr=new WeakMap,fr=new WeakMap;var br,wr,gr,yr,Er,Or,Nr,kr,jr=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Sr=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Ar{constructor(e,t,n){br.set(this,void 0),wr.set(this,void 0),gr.set(this,void 0),yr.set(this,void 0),Er.set(this,void 0),jr(this,br,{yes:n.onYes,no:n.onNo,cancel:n.onCancel,ok:n.onOk}),this.content=n.message,this.title=n.title,this.prefix=e.setup.prefix,jr(this,wr,e),jr(this,gr,t),this.reverse=!1,jr(this,Er,null),this.closeStr=Sr(this,wr).setup.prefix+"-close",this.iconStr=Sr(this,wr).setup.prefix+"-icon",jr(this,yr,void 0)}getId(){return Sr(this,gr)}show(e){let t=document.getElementById(Sr(this,gr));Object(qi.w)(t)?this.updateElement(t):(t=this.createElement(),e.appendChild(t)),setTimeout(()=>{jr(this,yr,new ar([t],Sr(this,wr)));let e=Sr(this,yr).on("closed",this.onClose.bind(this));jr(this,Er,e.length>0?e[0]:null),Sr(this,yr).emit("open")},100)}updateElement(e){let t=e.querySelector(`.${this.prefix}-dialog-title`),n=e.querySelector(`.${this.prefix}-dialog-body>p`);Sr(this,wr).interactions.mutate(()=>{t&&(t.innerHTML=this.title),n&&(n.innerHTML=this.content)},null)}onClose(e){try{if(Object(qi.w)(e)&&e.state&&Sr(this,br)&&Object(qi.w)(Sr(this,br)[e.state])){let t=Sr(this,br)[e.state];t&&t()}}finally{null!=Sr(this,Er)&&(Sr(this,yr)&&Sr(this,yr).detach("closed",Sr(this,Er)),jr(this,Er,null)),jr(this,yr,void 0)}}}br=new WeakMap,wr=new WeakMap,gr=new WeakMap,yr=new WeakMap,Er=new WeakMap;class xr extends Ar{constructor(e,t,n){var i;super(e,t,n),Or.set(this,void 0),jr(this,Or,t),this.reverse=null!==(i=n.reverse)&&void 0!==i&&i}createElement(){let e=new vr(this.prefix,this.reverse);return e.createHeader(this.title,[],[new mr.a("a").setClasses(this.prefix+"-icon").setAttributes({[this.closeStr]:"state: cancel",[this.iconStr]:"close"}).build()]),e.createBody([],[new mr.a("p").build(this.content)]),e.createFooter([this.prefix+"-flex",this.prefix+"-right"],[new mr.a("button").setClasses(this.prefix+"-button",this.prefix+"-margin-small-right").setAttributes({[this.closeStr]:"state: cancel"}).build("Cancel"),new mr.a("button").setClasses(this.prefix+"-button",this.prefix+"-accent").setAttributes({[this.closeStr]:"state: ok"}).build("Ok")]),e.build(Sr(this,Or))}}Or=new WeakMap;class Tr extends Ar{constructor(e,t,n){var i;super(e,t,n),Nr.set(this,void 0),jr(this,Nr,t),this.content=n.message,this.title=n.title,this.prefix=e.setup.prefix,this.reverse=null!==(i=n.reverse)&&void 0!==i&&i}createElement(){let e=new vr(this.prefix,this.reverse);return e.createHeader(this.title,[]),e.createBody([],[new mr.a("p").build(this.content)]),e.createFooter([this.prefix+"-flex",this.prefix+"-right"],[new mr.a("button").setClasses(this.prefix+"-button",this.prefix+"-accent").setAttributes({[this.closeStr]:"state: ok"}).build("Ok")]),e.build(Sr(this,Nr))}}Nr=new WeakMap;class Cr extends Ar{constructor(e,t,n){var i;super(e,t,n),kr.set(this,void 0),jr(this,kr,t),this.content=n.message,this.title=n.title,this.prefix=e.setup.prefix,this.reverse=null!==(i=n.reverse)&&void 0!==i&&i}createElement(){let e=new vr(this.prefix,this.reverse);return e.createHeader(this.title,[],[new mr.a("a").setClasses(this.prefix+"-icon").setAttributes({[this.closeStr]:"state: cancel",[this.iconStr]:"close"}).build()]),e.createBody([],[new mr.a("p").build(this.content)]),e.createFooter([this.prefix+"-flex",this.prefix+"-right"],[new mr.a("button").setClasses(this.prefix+"-button",this.prefix+"-margin-small-right").setAttributes({[this.closeStr]:"state: no"}).build("No"),new mr.a("button").setClasses(this.prefix+"-button",this.prefix+"-accent").setAttributes({[this.closeStr]:"state: yes"}).build("Yes")]),e.build(Sr(this,kr))}}kr=new WeakMap;var Ir,Pr,Mr,Dr,_r,$r=n(16),Lr=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Wr=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Rr{constructor(e){Ir.set(this,void 0),Pr.set(this,void 0),Mr.set(this,void 0),Dr.set(this,void 0),_r.set(this,void 0),Lr(this,Ir,e),Lr(this,Pr,new $r.a),Wr(this,Pr).setCallback(this.onMove.bind(this)),Lr(this,_r,void 0),Lr(this,Mr,!1),Lr(this,Dr,null)}attach(){Wr(this,Pr).isAttached()||(Wr(this,Pr).attach(),Lr(this,Dr,Wr(this,Ir).on(Ki.i.MOVE_LOCK,this.onMoveLock.bind(this))))}detach(){Wr(this,Pr).isAttached()&&(Wr(this,Pr).detach(),null!=Wr(this,Dr)&&Wr(this,Ir).detach(Ki.i.MOVE_LOCK,Wr(this,Dr)))}isAttached(){return Wr(this,Pr).isAttached()}onMove(e){if(!Wr(this,Mr))switch(e.type){case"down":Lr(this,_r,e);break;case"move":Wr(this,_r)&&(Wr(this,Ir).emit(Ki.i.GLOBAL_MOVE,null,Wr(this,_r)),Lr(this,_r,void 0)),Wr(this,Ir).emit(Ki.i.GLOBAL_MOVE,null,e);break;case"up":if(Wr(this,_r))return void Lr(this,_r,void 0);Wr(this,Ir).emit(Ki.i.GLOBAL_MOVE,null,e)}}onMoveLock(e){Lr(this,Mr,e)}}Ir=new WeakMap,Pr=new WeakMap,Mr=new WeakMap,Dr=new WeakMap,_r=new WeakMap;var Fr,Gr,Ur,Br,zr,Hr,Yr,Vr,qr=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},Jr=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Kr=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Xr{constructor(e,t,n){Fr.set(this,void 0),Gr.set(this,void 0),Ur.set(this,void 0),Br.set(this,void 0),zr.set(this,void 0),Hr.set(this,void 0),Yr.set(this,void 0),Vr.set(this,void 0),Jr(this,Fr,e),Jr(this,Gr,`.${t}-toast`),Jr(this,Ur,t+"-toast"),Jr(this,Br,t+"-active"),Jr(this,zr,n),Jr(this,Hr,!1),Jr(this,Yr,t+"-toast-animation-in"),Jr(this,Vr,t+"-toast-animation-out")}show(e){return qr(this,void 0,void 0,(function*(){if(Kr(this,Hr))return!1;Jr(this,Hr,!0);let t=document.querySelector(Kr(this,Gr));return Object(qi.w)(t)||(t=document.createElement("div"),t.classList.add(Kr(this,Ur)),document.body.appendChild(t),yield Object(qi.E)(10)),Kr(this,Fr).mutate(()=>{t.textContent=e,t.classList.add(Ki.a.animProgress),t.classList.add(Kr(this,Yr))},this),yield Object(qi.E)(Kr(this,zr)),Kr(this,Fr).mutate(()=>{t.classList.remove(Ki.a.animProgress),t.classList.remove(Kr(this,Yr)),t.classList.add(Kr(this,Br))},this),yield Object(qi.E)(3e3),Kr(this,Fr).mutate(()=>{t.classList.add(Ki.a.animProgress),t.classList.add(Kr(this,Vr))},this),setTimeout(()=>{Kr(this,Fr).mutate(()=>{t.classList.remove(Ki.a.animProgress),t.classList.remove(Kr(this,Vr)),t.classList.remove(Kr(this,Br))},this),Jr(this,Hr,!1)},Kr(this,zr)),!0}))}}Fr=new WeakMap,Gr=new WeakMap,Ur=new WeakMap,Br=new WeakMap,zr=new WeakMap,Hr=new WeakMap,Yr=new WeakMap,Vr=new WeakMap;var Qr,Zr,eo,to,no,io=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},ro=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},oo=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class ao{constructor(e){Qr.set(this,void 0),Zr.set(this,void 0),eo.set(this,void 0),to.set(this,void 0),no.set(this,void 0),ro(this,no,e),ro(this,Zr,Qi.a.get("CollectionManager")),ro(this,Qr,[]),ro(this,eo,!1),ro(this,to,"")}setElements(e){ro(this,Qr,e)}setToggle(e){ro(this,to,e)}addAnimationClass(e,t,n,i){t.classList.add(Ki.a.animProgress),e.classList.add(i),t.classList.add(n)}setFinalClasses(e,t,n,i){t.classList.remove(Ki.a.animProgress),e.classList.remove(i),t.classList.remove(n),e.classList.remove(oo(this,to)),t.classList.add(oo(this,to))}verifyIndex(e,t,n){return e>=0&&e!==t&&e<n}setCurrent(e,t){return io(this,void 0,void 0,(function*(){return this.lock(),oo(this,Zr).debug(`Switching index from: ${t} to ${e}`),t>-1&&oo(this,Qr)[t].classList.remove(oo(this,to)),oo(this,Qr)[e].classList.add(oo(this,to)),this.unlock(),!0}))}setCurrentWithAnimation(e,t,n,i,r){return io(this,void 0,void 0,(function*(){this.lock(),oo(this,Zr).debug(`Switching index from: ${r} to ${e}`);const o=oo(this,Qr)[r],a=oo(this,Qr)[e];return oo(this,no).mutate(this.addAnimationClass,this,o,a,t,n),setTimeout(()=>{oo(this,no).mutate(this.setFinalClasses,this,o,a,t,n),this.unlock()},i),!0}))}getCurrentIndex(){if(!Object(qi.w)(oo(this,to)))return-1;let e=this.count();for(let t=0;t<e;t++)if(oo(this,Qr)[t].classList.contains(oo(this,to)))return t;return-1}elements(){return oo(this,Qr)}check(){return oo(this,eo)?(oo(this,Zr).warning("Object locked. Operation in progress","Check"),!1):Object(qi.w)(oo(this,to))?!(this.count()<=0)||(oo(this,Zr).warning("Elements list is empty","Check"),!1):(oo(this,Zr).warning("Toggle is not set. Call setToggleClass","Check"),!1)}count(){return oo(this,Qr)?oo(this,Qr).length:-1}lock(){ro(this,eo,!0)}unlock(){ro(this,eo,!1)}}Qr=new WeakMap,Zr=new WeakMap,eo=new WeakMap,to=new WeakMap,no=new WeakMap;var co,so,lo,uo=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},fo=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},mo=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class ho{constructor(e,t){co.set(this,void 0),so.set(this,void 0),lo.set(this,void 0),fo(this,co,Qi.a.get("CollectionManager")),fo(this,lo,new ao(t)),mo(this,lo).setElements(e),fo(this,so,Date.now())}setToggle(e){mo(this,lo).setToggle(e)}setElements(e){mo(this,lo).setElements(e)}click(e){mo(this,lo).elements().forEach((t,n)=>{t.addEventListener("click",()=>{this.set(n).then(()=>{e&&e(t,n)})})})}next(){return uo(this,void 0,void 0,(function*(){if(!mo(this,lo).check())return!1;let e=mo(this,lo).getCurrentIndex()+1;return this.set(e>=this.length()?0:e)}))}previous(){return uo(this,void 0,void 0,(function*(){if(!mo(this,lo).check())return!1;let e=mo(this,lo).getCurrentIndex()-1;return this.set(e<0?this.length()-1:e)}))}set(e){return uo(this,void 0,void 0,(function*(){let t=mo(this,lo).getCurrentIndex();return!(!mo(this,lo).check()||!mo(this,lo).verifyIndex(e,t,this.length()))&&mo(this,lo).setCurrent(e,t)}))}setWithAnimation(e,t,n,i){return uo(this,void 0,void 0,(function*(){let r=mo(this,lo).getCurrentIndex();return!(!mo(this,lo).check()||!mo(this,lo).verifyIndex(e,r,this.length()))&&mo(this,lo).setCurrentWithAnimation(e,t,n,i,r)}))}getCurrentIndex(){return mo(this,lo).getCurrentIndex()}length(){return mo(this,lo).count()}refresh(){return this.length()>0&&Date.now()-mo(this,so)>36e4}}co=new WeakMap,so=new WeakMap,lo=new WeakMap;var po,vo,bo,wo=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},go=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},yo=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Eo{constructor(e){po.set(this,void 0),vo.set(this,void 0),bo.set(this,void 0),go(this,po,null!=e?e:[]),go(this,bo,Qi.a.get("CuiPluginManager")),go(this,vo,[])}init(e){yo(this,bo).debug("Plugins initialization started: "+yo(this,po).length),go(this,vo,yo(this,po).filter(e=>Object(qi.w)(e.mutation))),yo(this,po).forEach(t=>{t.init(e),e.setup.plugins[t.description]=t.setup}),yo(this,bo).debug("Plugins have been initialized")}get(e){if(Object(qi.w)(e))return yo(this,po).find(t=>t.name===e)}onMutation(e){return wo(this,void 0,void 0,(function*(){let t=[];return yo(this,vo).forEach(n=>{t.push(n.mutation(e))}),!(yield Promise.all(t)).find(e=>{})}))}}po=new WeakMap,vo=new WeakMap,bo=new WeakMap;var Oo,No,ko,jo,So,Ao,xo,To,Co,Io=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},Po=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Mo=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Do{constructor(e,t,n){Oo.set(this,void 0),No.set(this,void 0),ko.set(this,void 0),jo.set(this,void 0),So.set(this,void 0),Ao.set(this,void 0),xo.set(this,void 0),To.set(this,void 0),Co.set(this,void 0),Ki.l.prefix=e.prefix,Ki.l.logLevel=e.logLevel,Po(this,So,new Eo(t)),Po(this,Ao,null!=n?n:[]),Po(this,jo,new Zi.a(e)),Po(this,Oo,Qi.a.get("CuiInstance")),Po(this,xo,e.root),Po(this,To,new Rr(Mo(this,jo).bus)),Po(this,No,void 0),Po(this,ko,void 0),Po(this,Co,[])}init(){var e;if(Mo(this,Oo).debug("Instance started","init"),!Object(qi.w)(window.MutationObserver))throw new er.e("Mutation observer does not exists");Po(this,ko,new Xr(Mo(this,jo).interactions,Mo(this,jo).setup.prefix,null!==(e=Mo(this,jo).setup.animationTimeLong)&&void 0!==e?e:0)),Po(this,Co,Mo(this,Ao).map(e=>e.attribute));const t=Object(qi.w)(Mo(this,Co))?Mo(this,xo).querySelectorAll(Object(qi.A)(Mo(this,Co))):null;if(Object(qi.w)(t)){Mo(this,Oo).debug(`Initiating ${t.length} elements`);try{t.forEach(e=>{Object(qi.C)(e,Mo(this,Ao),Mo(this,Co),Mo(this,jo))})}catch(e){Mo(this,Oo).exception(e)}}return Mo(this,Oo).debug("Init plugins","init"),Mo(this,So).init(Mo(this,jo)),Object(qi.b)(Mo(this,Ao),Mo(this,Co))&&(Mo(this,Oo).debug("Init mutation observer","init"),Po(this,No,new Xi.b(Mo(this,xo),Mo(this,jo))),Mo(this,No).setComponents(Mo(this,Ao)).setAttributes(Mo(this,Co)),Mo(this,No).setPlugins(Mo(this,So)),Mo(this,No).start()),Mo(this,Oo).debug("Setting CSS globals","init"),Mo(this,jo).interactions.mutate(()=>{Mo(this,jo).setProperty(Ki.g.animationTimeLong,Mo(this,jo).setup.animationTimeLong+"ms"),Mo(this,jo).setProperty(Ki.g.animationTime,Mo(this,jo).setup.animationTime+"ms"),Mo(this,jo).setProperty(Ki.g.animationTimeShort,Mo(this,jo).setup.animationTimeShort+"ms")},null),Mo(this,To).attach(),Mo(this,jo).bus.emit(Ki.i.INSTANCE_INITIALIZED,null),this}finish(){Mo(this,No)&&Mo(this,No).stop(),Mo(this,To).detach(),Mo(this,jo).bus.emit(Ki.i.INSTANCE_FINISHED,null)}get(e){const t=this.all(e);if(!t)return;return new ar(t,Mo(this,jo))}collection(e){const t=this.all(e);if(!Object(qi.w)(t))return;return new ho(t,Mo(this,jo).interactions)}toast(e){return Io(this,void 0,void 0,(function*(){return!!Object(qi.b)(e,Mo(this,ko))&&Mo(this,ko).show(e)}))}select(e){return document.querySelector(e)}all(e){const t=document.querySelectorAll(e);if(Object(qi.w)(t))return[...t]}getUtils(){return Mo(this,jo)}on(e,t,n){Object(qi.b)(e,t)||Mo(this,Oo).error("Incorrect arguments","on"),Mo(this,jo).bus.on(e,t,n)}detach(e,t){Object(qi.b)(e,t)||Mo(this,Oo).error("Incorrect arguments","detach"),Mo(this,jo).bus.detach(e,t)}detachAll(e){Object(qi.w)(e)||Mo(this,Oo).error("Incorrect arguments","detachAll"),Mo(this,jo).bus.detachAll(e)}emit(e,t,...n){if(!Object(qi.b)(e,t))return void Mo(this,Oo).warning("Not enough data to emit event","emit");let i=("string"==typeof t?document.querySelector(t):t).$cuid;Object(qi.w)(i)?Mo(this,jo).bus.emit(e,i,...n):Mo(this,Oo).warning("Element is not a cUI element","emit")}alert(e,t,n){let i=class{static get(e,t,n,i){return"Info"===t?new Tr(i,e,n):"YesNoCancel"===t?new Cr(i,e,n):"OkCancel"===t?new xr(i,e,n):void 0}}.get(e,t,n,Mo(this,jo));i?i.show(Mo(this,xo)):Mo(this,Oo).error("Possibly incorrect alert type")}getPlugin(e){return Mo(this,So).get(e)}createCuiElement(e,t,n){return Object(qi.w)(t)&&Mo(this,Co).includes(t)?!!Object(qi.a)(e,t,n)||(Mo(this,Oo).error("Element cannot be created: Missing data"),!1):(Mo(this,Oo).error("Element cannot be created: Unknown attribute"),!1)}}Oo=new WeakMap,No=new WeakMap,ko=new WeakMap,jo=new WeakMap,So=new WeakMap,Ao=new WeakMap,xo=new WeakMap,To=new WeakMap,Co=new WeakMap;var _o,$o=n(14),Lo=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},Wo=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Ro=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Fo{constructor(){_o.set(this,void 0),Wo(this,_o,window)}init(e){var t,n;return Lo(this,void 0,void 0,(function*(){let i=Object.assign(Object.assign({},new Ji.b),e.setup);const r=i.app,o={result:!1};if(Object(qi.w)(Ro(this,_o)[r]))return o.message="Instance is already initialized",o;if(Object(qi.w)(e.icons))for(let t in e.icons)Ki.j[t]=e.icons[t];if(Object(qi.w)(e.swipeAnimations))for(let t in e.swipeAnimations)$o.a[t]=e.swipeAnimations[t];try{Ro(this,_o)[r]=new Do(i,null!==(t=e.plugins)&&void 0!==t?t:[],null!==(n=e.components)&&void 0!==n?n:[]),Ro(this,_o)[r].init()}catch(e){return console.error(e),o.message="An error occured during initialization",o}return o.result=!0,o}))}}_o=new WeakMap;var Go,Uo=n(32),Bo=n(33),zo=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},Ho=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Yo=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach((function(t){Jo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Go=new WeakMap;var Ko=document.getElementById("root"),Xo=n(45),Qo=new Vi.a;Qo.logLevel="debug",Qo.root=Ko,Qo.busSetup=[{name:"MoveQueue",eventsDef:["global_move"],handler:"tasked",priority:0},{name:"InteractQueue",eventsDef:["open","close","switch"],handler:"tasked",priority:0},{name:"ResponsesQueue",eventsDef:["opened","closed","switched","resize","offset"],handler:"tasked",priority:1},{name:"GlobalSimple",eventsDef:["keydown","scroll","intersection","windowclick"],handler:"tasked",priority:2}];var Zo={setup:Qo,icons:qo(qo({},yi.a),Xo)},ea=new Xn(new Fi),ta=new We(new zi),na=new Pn(new Yi);window.$flow=Ei.FlowFactory.create(ea.getActions()),window.$actionsFlow=Ei.FlowFactory.create(ta.getActions()),window.$settingsFlow=Ei.FlowFactory.create(na.getActions()),(new class{constructor(){Go.set(this,void 0),Ho(this,Go,!1)}init(e){var t,n;return zo(this,void 0,void 0,(function*(){if(Yo(this,Go))return console.log("Module is already initialized"),!1;const i=new Fo,r=Object(Bo.a)({autoLight:!0,autoPrint:!0}),o=Object(Uo.a)({prefix:null===(t=e.setup)||void 0===t?void 0:t.prefix});let a=r;e.plugins&&(a=Object.assign(Object.assign({},r),e.plugins));let c=yield i.init({setup:e.setup,icons:e.icons,plugins:a,components:Object(qi.w)(e.components)?[...o,...e.components]:o,swipeAnimations:e.swipeAnimations});return c.result?(Ho(this,Go,!0),!0):(console.error(`A cUI instance failed to initialize: [${null!==(n=c.message)&&void 0!==n?n:"#"}]`),console.log("Cui Light failed to init"),!1)}))}}).init(Zo).then((function(e){r.render(i.createElement(gi,null),Ko)}))}});
//# sourceMappingURL=stopwatch.index.js.map