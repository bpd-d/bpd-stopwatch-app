!function(e){function t(t){for(var i,a,c=t[0],s=t[1],l=t[2],d=0,f=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={0:0},o=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;o.push([45,1]),n()}({39:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n(28),o=(n(39),n(10)),a=n(8),c=n(3);function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){window.$cui.alert("common-info-dialog","Info",{title:e,message:t})}function d(e){window.$cui.toast(e)}function f(e){return Object(c.c)(e)?e.reduce((function(e,t){return e+Number.parseInt(t.duration)}),0):0}function m(e){if(e<0)return"Error";if(e<60)return"00:"+h(e);if(e<3600){var t=e%60;return h(Math.floor(e/60))+":"+h(t)}var n=e%3600;return h(Math.floor(e/3600))+":"+m(n)}function h(e){return e<0||e>59?"Error":e<10?"0"+e:""+e}function p(e){window.$cui&&window.$cui.getUtils().setLightMode(e?"dark":"light")}function b(e,t){return Math.floor(100*e/t)}function v(e){return e.rounds.reduce((function(e,t){return[e[0]+t.actions.length,e[1]+f(t.actions)]}),[0,0])}function w(e){return"action-background-"+e}function g(e){switch(e){case"warmup":return"cui-text-success";case"break":return"cui-text-error";case"exercise":return"cui-text-accent";case"cooldown":return"cui-text-secondar";default:return""}}function y(e,t,n,i){if(!e||null===e||t<0)return e;var r=null!=i?i:1,o=e.length;if(o<2||t>=o)return s(e);var a=e.splice(t,r),c=o-r,l=n;return l<=0?[].concat(s(a),s(e)):l>=c?[].concat(s(e),s(a)):(e.splice.apply(e,[l,0].concat(s(a))),s(e))}function E(e,t){var n=[];if(e.warmup&&n.push(e.warmup),e.exercise)for(var i=0;i<t;i++)n.push(e.exercise),e.break&&i<t-1&&n.push(e.break);return e.cooldown&&n.push(e.cooldown),n}function O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var N=new WeakMap,k=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),N.set(this,{writable:!0,value:void 0}),function(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}}(this,N,t)}var t,n,i;return t=e,(n=[{key:"getRoute",value:function(e){return Object(c.c)(e)?function(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}(this,N)[e]:void 0}},{key:"getUrl",value:function(e){var t=this.getRoute(e);return Object(c.c)(t)?t.url:void 0}},{key:"getName",value:function(e){var t=this.getRoute(e);return Object(c.c)(t)?t.name:void 0}},{key:"renderUrl",value:function(e,t){var n=this.getUrl(e);return Object(c.c)(t)?(Object(c.b)(t,(function(e,t){n=n.replace(":"+e,t)})),n):n}}])&&O(t.prototype,n),i&&O(t,i),e}())({home:{url:"/",name:"Home",icon:"home"},about:{url:"/about",name:"About",icon:"info"},settings:{url:"/settings",name:"Settings",icon:"settings"},actions:{url:"/actions",name:"Actions",icon:"home"},newTraining:{url:"/trainings/edit/new",name:"New Training"},editTraining:{url:"/trainings/edit/:id",name:"Edit Training"},perform:{url:"/trainings/perform/:id",name:"Perform Training"}});function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function x(e){return i.createElement("ul",{className:"cui-list cui-hover"},e.list&&e.list.map((function(t){return i.createElement("li",{key:t.id,className:"stopwatch-content-width cui-corner-round"},i.createElement(A,{data:t,onDelete:e.onDelete}))})))}function A(e){var t,n,r,c=Object(a.f)();return i.useEffect((function(){var e=window.$flow.subscribe("DELETE_TRAINING").finish((function(e){window.$flow.perform("GET_TRAININGS")}));return function(){window.$flow.unsubscribe("DELETE_TRAINING",e.id)}})),i.createElement("div",{className:"cui-flex cui-middle cui-animation-fade-in cui-padding-bottom cui-padding-top"},i.createElement("div",{className:"cui-flex-grow",onClick:function(){c.push(k.renderUrl("perform",{id:e.data.id}))}},i.createElement("div",{className:"cui-flex cui-middle cui-nowrap"},i.createElement("div",{className:"training-list-item-icon"},i.createElement("span",{className:"cui-text-bold"},e.data.name[0].toUpperCase())),i.createElement("div",{className:"cui-flex-grow cui-margin-left"},i.createElement("span",null,e.data.name),i.createElement("div",{className:"cui-text-muted cui-text-truncate cui-overflow-hidden"},i.createElement("span",null,(t=e.data,(n=j(function(e){return e.rounds.reduce((function(e,t){return[e[0]+t.actions.length,e[1]+f(t.actions)]}),[0,0])}(t),2))[0],r=n[1],"".concat(r," seconds"))))))),i.createElement("div",{className:"cui-flex-shrink"},i.createElement("div",null,i.createElement(o.b,{to:k.renderUrl("editTraining",{id:e.data.id}),className:"cui-icon-button","cui-icon":"edit","cui-tooltip":"Edit training"}))))}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function M(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=W(e);if(t){var r=W(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(c,e);var t,n,r,a=$(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),F(L(t=a.call(this,e)),"list",void 0),F(L(t),"subscription",void 0),F(L(t),"onDeleteSubscription",void 0),F(L(t),"state",void 0),t.state={list:[]},t.updateList=t.updateList.bind(L(t)),t.onDeleteTrainingComplete=t.onDeleteTrainingComplete.bind(L(t)),t.deleteTraining=t.deleteTraining.bind(L(t)),t}return t=c,(n=[{key:"componentDidMount",value:function(){this.subscription=window.$flow.subscribe("GET_ALL_TRAININGS"),this.subscription.finish(this.updateList),this.onDeleteSubscription=window.$flow.subscribe("DELETE_TRAINING",{finish:this.onDeleteTrainingComplete}),window.$flow.perform("GET_ALL_TRAININGS")}},{key:"componentWillUnmount",value:function(){window.$flow.unsubscribe("GET_ALL_TRAININGS",this.subscription.id),window.$flow.unsubscribe("DELETE_TRAINING",this.onDeleteSubscription.id)}},{key:"deleteTraining",value:function(e){var t=P(this.state.list),n=t.findIndex((function(t){return t.id===e}));n>-1?window.$cui.alert("delete-training-dialog","YesNoCancel",{title:"Delete training",message:"Do you really want to delete training: "+t[n].name+"?",onYes:function(){window.$flow.perform("DELETE_TRAINING",e)}}):u("Delete training","We cannot remove this training. Identified doesn't match.")}},{key:"onDeleteTrainingComplete",value:function(e){e?window.$flow.perform("GET_ALL_TRAININGS"):u("Delete training","Service could not remove training")}},{key:"updateList",value:function(e){this.setState(I(I({},this.state),{},{list:e}))}},{key:"render",value:function(){return i.createElement("div",{className:"stopwatch-page-layout"},i.createElement("div",{className:"stopwatch-page-top cui-container cui-center"},i.createElement("div",null,i.createElement("span",{className:"cui-icon stopwatch-icon","cui-icon":"stopwatch"}),i.createElement("h1",{className:"cui-h3 cui-text-center cui-margin-small-top stopwatch-title"},"Stopwatch"))),i.createElement("div",{className:"stopwatch-page-bottom"},i.createElement("div",{className:"stopwatch-home-list cui-overflow-y-auto"},this.state.list.length>0?i.createElement(x,{list:this.state.list,onDelete:this.deleteTraining}):i.createElement(G,null))),i.createElement("div",{className:"cui-position-float cui-position-bottom cui-position-center cui-margin-large-bottom z-index-100"},i.createElement(o.b,{to:k.renderUrl("newTraining"),className:"cui-icon-button cui-large cui-background-default cui-box-shadow","cui-icon":"plus"})))}}])&&M(t.prototype,n),r&&M(t,r),c}(i.Component);function G(){return i.createElement("div",{className:"cui-container cui-center"},i.createElement("p",{className:"cui-text-muted cui-text-center"},"There are no trainings recorded. ",i.createElement(o.b,{className:"cui-link cui-accent",to:k.renderUrl("newTraining")},"Add new")," training to start your execises!"))}function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=q(e);if(t){var r=q(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return H(this,n)}}function H(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(c,e);var t,n,r,a=z(c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this,e)}return t=c,(n=[{key:"render",value:function(){return i.createElement("div",{className:"cui-section cui-flex-center cui-height-viewport-1-2"},i.createElement("div",{className:"cui-card cui-large"},i.createElement("div",{className:"cui-card-header cui-text-error"},i.createElement("span",{className:"cui-card-title"},"Error")),i.createElement("div",{className:"cui-card-body"},"It appears that page you looking for does not exist. Try to look for it again or go back to our Home page"),i.createElement("div",{className:"cui-card-footer cui-flex cui-right"},i.createElement(o.b,{to:"/",className:"cui-link"},"Go Home"))))}}])&&Y(t.prototype,n),r&&Y(t,r),c}(i.Component);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=ne(e);if(t){var r=ne(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ee(this,n)}}function ee(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?te(e):t}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(c,e);var t,n,r,a=Z(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this,e)).onClick=t.onClick.bind(te(t)),t}return t=c,(n=[{key:"onClick",value:function(){this.props.shouldClose&&window.$cui.get("#app-offcanvas").emit("close")}},{key:"render",value:function(){return i.createElement(o.c,{exact:!0,activeClassName:"cui-active",className:this.props.class,to:this.props.url,onClick:this.onClick},this.props.isIcon?i.createElement(re,{name:this.props.name,icon:this.props.icon}):this.props.name)}}])&&X(t.prototype,n),r&&X(t,r),c}(i.Component);function re(e){return i.createElement("span",{className:"cui-flex cui-middle"},i.createElement("span",{"cui-icon":e.icon}),i.createElement("span",{className:"cui-margin-small-left"},e.name))}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ue(e){var t=Object(a.g)(),n=se(i.useState({currentSite:"",darkMode:!1,soundEnabled:!1}),2),r=n[0],c=n[1],s=Object(a.f)();return i.useEffect((function(){var e=t.pathname.split("/");c(ae(ae({},r),{},{currentSite:e.length>1?t.pathname.split("/")[1].toLocaleUpperCase():""}))}),[t]),i.createElement("nav",{className:"cui-navbar cui-sticky cui-box-shadow-remove stopwatch-layout-navigation"},i.createElement("div",{className:"cui-navbar-left cui-width-1-1 cui-width-auto--m cui-flex cui-middle cui-between",id:"navbar-left"},i.createElement("ul",null,r.currentSite&&i.createElement(i.Fragment,null,i.createElement("li",null,i.createElement("a",{"cui-icon":"chevron_small_left",onClick:function(){s.goBack()}})),i.createElement("li",null,i.createElement(o.b,{className:"cui-icon",to:k.renderUrl("home"),"cui-icon":"stopwatch_small"})))),i.createElement("a",{className:"cui-icon cui-padding cui-button cui-hidden--m","cui-icon":"menu","cui-open":"target: #app-offcanvas"})),i.createElement("ul",{className:"cui-navbar-right cui-unhidden--m"},i.createElement("li",null,i.createElement(ie,{class:"cui-navbar-item",url:k.renderUrl("home"),name:k.getName("home")})),i.createElement("li",null,i.createElement(ie,{class:"cui-navbar-item",url:k.renderUrl("actions"),name:k.getName("actions")})),i.createElement("li",null,i.createElement(ie,{class:"cui-navbar-item",url:k.renderUrl("settings"),name:k.getName("settings")})),i.createElement("li",null,i.createElement(ie,{class:"cui-navbar-item",url:k.renderUrl("about"),name:k.getName("about")}))))}function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=be(e);if(t){var r=be(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(a,e);var t,n,r,o=he(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,e)}return t=a,(n=[{key:"render",value:function(){return i.createElement("div",{className:"cui-off-canvas",id:"app-offcanvas","cui-off-canvas":"escClose: y; outClose: y"},i.createElement("div",{className:"cui-off-canvas-container cui-card off-canvas-layout"},i.createElement("div",{className:"cui-card-header cui-flex cui-middle cui-right"},i.createElement("a",{href:"#",className:"cui-icon","cui-icon":"close","cui-close":""})),i.createElement("div",{className:"off-canvas-content cui-card-body"},i.createElement("div",{className:"cui-width-1-1"},i.createElement("h3",{className:"cui-h3"},"Menu"),i.createElement("ul",{className:"cui-list cui-interactive cui-margin-top"},i.createElement("li",null,i.createElement(ie,{url:k.renderUrl("home"),name:k.getName("home"),icon:"home",shouldClose:!0,isIcon:!0})),i.createElement("li",null,i.createElement(ie,{url:k.renderUrl("actions"),name:k.getName("actions"),icon:"link",shouldClose:!0,isIcon:!0})),i.createElement("li",null,i.createElement(ie,{url:k.renderUrl("settings"),name:k.getName("settings"),icon:"setup",shouldClose:!0,isIcon:!0})),i.createElement("li",null,i.createElement(ie,{url:k.renderUrl("about"),name:k.getName("about"),icon:"info",shouldClose:!0,isIcon:!0})))))))}}])&&fe(t.prototype,n),r&&fe(t,r),a}(i.Component);var we="exercise",ge="break",ye="cooldown",Ee="warmup",Oe="draft",Ne="publish",ke="new",je=[{id:"9996",name:"Warmup",duration:"5",type:Ee,removable:!1,editable:!1},{id:"9997",name:"Exercise",duration:"30",type:we,removable:!1,editable:!1},{id:"9998",name:"Break",duration:"60",type:ge,removable:!1,editable:!1},{id:"9999",name:"Cooldown",duration:"90",type:ye,removable:!1,editable:!1}],Se="An error occured",xe="Training is empty",Ae="Training name is not provided",Te="Training has no rounds",Ce="Round is empty",Ie="Round has no actions",Pe="Round name is missing",De="Action is empty",Me="Action name is not provided",_e="Action type is not provided",$e="Action duration is not correct";function Re(e){return"Round "+e}var Le={darkMode:!1,soundEnabled:!1,isWelcome:!1,simpleView:!1};function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ue(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var Ge="GET_ALL",Be="SET_ACTION",Ye="REMOVE_ACTION",Ve="CLEAR_ACTIONS",ze=new WeakMap,He=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ze.set(this,{writable:!0,value:void 0}),function(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}}(this,ze,t)}var t,n,i;return t=e,(n=[{key:"getActions",value:function(){var e,t=this;return We(e={},Ge,(function(){return Ue(t,ze).getAllActions()})),We(e,Be,(function(e){return Ue(t,ze).setAction(e)})),We(e,Ye,(function(e){return Ue(t,ze).removeAction(e)})),We(e,Ve,(function(){return Ue(t,ze).clearActions(),!0})),e}}])&&Fe(t.prototype,n),i&&Fe(t,i),e}();function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function Ke(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}function Xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=nt(e);if(t){var r=nt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return et(this,n)}}function et(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?tt(e):t}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ot(e,t,n){return t&&rt(e.prototype,t),n&&rt(e,n),e}var at=function(){function e(){it(this,e)}return ot(e,[{key:"validate",value:function(e){var t={status:!0};try{var n=this.performValidation(e);n&&n.length>0&&(t.status=!1,t.errors=n)}catch(e){var i="An error occured during validation";console.error(i),console.error(e),t.status=!1,t.errors=[i+": "+e.message]}return t}}]),e}(),ct=function(e){Xe(n,e);var t=Ze(n);function n(){return it(this,n),t.call(this)}return ot(n,[{key:"performValidation",value:function(e){if(!Object(c.c)(e))return[xe];var t=[];return Object(c.c)(e.name)||t.push(Ae),Object(c.c)(e.rounds)||t.push(Te),t}}]),n}(at),st=function(e){Xe(n,e);var t=Ze(n);function n(){return it(this,n),t.call(this)}return ot(n,[{key:"performValidation",value:function(e){if(!Object(c.c)(e))return[Ce];var t=[];return Object(c.c)(e.name)||t.push(Pe),Object(c.c)(e.actions)||t.push(Ie),t}}]),n}(at),lt=function(e){Xe(n,e);var t=Ze(n);function n(){return it(this,n),t.call(this)}return ot(n,[{key:"performValidation",value:function(e){if(!Object(c.c)(e))return[De];var t=[];return Object(c.c)(e.name)||t.push(Me),Object(c.c)(e.type)||t.push(_e),Object(c.c)(e.duration)||t.push($e),t}}]),n}(at),ut=new WeakMap,dt=new WeakMap,ft=new WeakMap,mt=function(e){Xe(n,e);var t=Ze(n);function n(){var e;return it(this,n),e=t.call(this),ut.set(tt(e),{writable:!0,value:void 0}),dt.set(tt(e),{writable:!0,value:void 0}),ft.set(tt(e),{writable:!0,value:void 0}),Ke(tt(e),ut,new ct),Ke(tt(e),ft,new st),Ke(tt(e),dt,new lt),e}return ot(n,[{key:"performValidation",value:function(e){var t=Qe(this,ut).validate(e);if(t.status)try{t=this.validateRounds(e.rounds)}catch(e){return[Se]}return t.errors}},{key:"validateRounds",value:function(e){for(var t=null,n=e.length,i=0;i<n&&(!(t=Qe(this,ft).validate(e[i])).status||(t=this.validateActions(e[i].actions)).status);i++);return t}},{key:"validateActions",value:function(e){for(var t=null,n=e.length,i=0;i<n;i++)if(!(t=Qe(this,dt).validate(e[i])).status)return;return t}}]),n}(at);function ht(e){var t;return i.useEffect((function(){}),[e]),i.createElement("div",{className:"cui-dialog ".concat(null!==(t=e.className)&&void 0!==t?t:""),"cui-dialog":"escClose: Y",id:e.id},i.createElement("div",{className:"cui-dialog-container"},i.createElement("div",{className:"cui-dialog-header"},i.createElement("span",{className:"cui-dialog-title"},e.title),i.createElement("a",{className:"cui-icon","cui-icon":"close","cui-close":""})),i.createElement("div",{className:"cui-dialog-body"},e.body),e.footer&&i.createElement("div",{className:"cui-dialog-footer"},e.footer)))}function pt(e){return i.createElement(i.Fragment,null,e.errors&&e.errors.length>0&&i.createElement("ul",{className:"cui-list"},e.errors.map((function(e,t){return i.createElement("li",{key:t,className:"cui-animation-fade-in"},i.createElement("span",{className:"cui-text-error"},e))}))))}function bt(e){var t;return i.createElement("span",{className:"cui-icon "+(null!==(t=e.className)&&void 0!==t?t:""),"cui-icon":"stopwatch_".concat(e.type)})}function vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function gt(e){var t="radio-group"+e.id,n="radio-"+e.id,r=vt(i.useState([]),2),o=r[0],a=r[1];function s(t){if(e.onChange&&t.target.checked){var n=o.find((function(e){return e.id===t.target.id}));Object(c.c)(n)&&n.name!==e.value&&e.onChange(n.name)}}function l(t){return e.value===t}function u(e,t){return{name:e,checked:l(e),id:n+t}}return i.useEffect((function(){return a([u(Ee,0),u(we,1),u(ge,2),u(ye,3)]),function(){}}),[e.value]),i.createElement("div",{id:e.id,className:"cui-flex-grid cui-child-width-1-4"},o.map((function(e){return i.createElement("div",{key:e.id},i.createElement("div",{className:"cui-radio-custom cui-width-1-1"},i.createElement("input",{type:"radio",id:e.id,name:t,checked:e.checked,onChange:s}),i.createElement("label",{htmlFor:e.id,className:"cui-content cui-padding-small cui-width-1-1"},i.createElement("div",{className:"cui-flex cui-center"},i.createElement(bt,{type:e.name})),i.createElement("div",{className:"cui-flex cui-center"},i.createElement("span",{className:"cui-text-small"},e.name)))))})))}function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){Ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function jt(e){var t=Nt(i.useState({id:void 0,name:"",duration:"5",removable:!0,editable:!1,type:we}),2),n=t[0],r=t[1],o=Nt(i.useState([]),2),a=o[0],c=o[1];function s(e){e.target.value;var t=e.target.name;switch(t){case"name":case"duration":case"type":r(Et(Et({},n),{},Ot({},t,e.target.value)));break;case"removable":case"editable":r(Et(Et({},n),{},Ot({},t,e.target.checked)))}}return i.useEffect((function(){return e.action&&(r(Et({},e.action)),c([])),function(){}}),[e.action]),i.createElement(ht,{title:"Add new",id:"add-action-dialog",body:i.createElement(i.Fragment,null,i.createElement("div",{className:"cui-form"},i.createElement("label",{className:"cui-form-label"},"Name"),i.createElement("input",{className:"cui-input stopwatch-input-width",type:"text",name:"name",value:n.name,placeholder:"Name",onChange:s})),i.createElement("div",{className:"cui-form cui-margin-top"},i.createElement("label",{className:"cui-form-label"},"Duration"),i.createElement("input",{className:"cui-input stopwatch-input-width",type:"number",min:"0",max:"100",name:"duration",value:n.duration,placeholder:"Duration",onChange:s})),i.createElement("div",{className:"cui-form cui-margin-top"},i.createElement("label",{className:"cui-form-label"},"Type"),i.createElement("div",{className:"stopwatch-input-width cui-margin-top"},i.createElement(gt,{id:"add-action",value:n.type,onChange:function(e){r(Et(Et({},n),{},{type:e}))}}))),i.createElement("div",{className:"cui-form cui-flex cui-middle cui-reverse cui-margin-top"},i.createElement("input",{type:"checkbox",className:"cui-checkbox",id:"checkbox-1-2",name:"editable",checked:n.editable,onChange:s}),i.createElement("label",{htmlFor:"checkbox-1-2"}," Editable")),i.createElement("div",{className:"cui-form cui-flex cui-middle cui-reverse cui-margin-top"},i.createElement("input",{type:"checkbox",className:"cui-checkbox",id:"checkbox-1-1",name:"removable",checked:n.removable,onChange:s}),i.createElement("label",{htmlFor:"checkbox-1-1"}," Removable")),i.createElement(pt,{errors:a})),footer:i.createElement("div",{className:"cui-flex cui-right"},i.createElement("button",{className:"cui-button cui-margin-small-right","cui-close":""},"Cancel"),i.createElement("button",{className:"cui-button cui-accent",onClick:function(){if(e.onSave){var t=Et({},n),i=(new lt).validate(t);if(i.status){var r=window.$cui.get("#add-action-dialog");e.onSave(t),r.emit("close")}c(i.errors)}}},"Save"))})}function St(e){return i.createElement("div",{className:"stopwatch-page-header cui-container cui-center"},i.createElement("div",null,e.icon&&i.createElement("div",{className:"cui-flex-center cui-margin-bottom"},i.createElement("span",{"cui-icon":e.icon})),i.createElement("h1",{className:"cui-h1 cui-text-center cui-margin-remove cui-anim-fade-in"},e.title),i.createElement("p",{className:"cui-text-center cui-text-muted cui-scale-y-in cui-animation-delay cui-margin-small-top"},e.description)))}function xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return At(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Tt(e){var t=xt(i.useState(""),2),n=t[0],r=t[1];function o(t){r(t),Object(c.c)(e.onUpdate)&&e.onUpdate(t)}return i.createElement("div",{className:"cui-input-mix "+e.className},i.createElement("input",{type:"text",className:"cui-input",placeholder:"Filter",value:n,onChange:function(e){o(e.target.value)}}),Object(c.c)(n)&&i.createElement("a",{className:"cui-icon","cui-icon":"close",onClick:function(){return o("")}}))}function Ct(e){return i.createElement("span",{className:"cui-margin-small-left cui-unhidden--m"},e.label)}function It(e){function t(t,n){switch(t){case"edit":e.onEdit(n);break;case"delete":e.onDelete(n)}}return i.createElement("div",{className:"cui-container cui-flex-grid cui-flex-grid-match cui-child-width-1-1 cui-child-width-1-3--m"},Object(c.c)(e.actions)&&e.actions.map((function(n,r){return function(t){if(!Object(c.c)(e.filter))return!0;var n=t.toLowerCase().match(e.filter.toLowerCase());return Object(c.c)(n)}(n.name)&&i.createElement("div",{key:r,className:"cui-animation-fade-in"},i.createElement("div",{className:"cui-card cui-default "+w(n.type)},i.createElement("div",{className:"cui-card-header cui-flex cui-between cui-nowrap cui-middle"},i.createElement("span",{className:"cui-card-title cui-text-truncate cui-overflow-hidden"},n.name),i.createElement(bt,{className:"cui-padding-small",type:n.type})),i.createElement("div",{className:"cui-card-body cui-flex cui-middle cui-nowrap action-card-height"},i.createElement("div",{className:"cui-flex-grow cui-overflow-hidden"},i.createElement("div",{className:"cui-text-truncate"},i.createElement("span",null,n.duration," seconds"))),i.createElement("div",{className:"cui-flex-shrink"},i.createElement("ul",{className:"cui-icon-nav"},n.editable&&i.createElement("li",null,i.createElement("a",{className:"cui-icon","cui-icon":"edit",onClick:function(){t("edit",n)}},i.createElement(Ct,{label:"Edit"}))),n.removable&&i.createElement("li",null,i.createElement("a",{className:"cui-icon","cui-icon":"trash",onClick:function(){t("delete",n)}},i.createElement(Ct,{label:"Delete"}))))))))})))}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e){return function(e){if(Array.isArray(e))return Lt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Rt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||Rt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){if(e){if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(e,t):void 0}}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Wt={id:void 0,name:"",type:"exercise",duration:"5",removable:!0,editable:!0};function Ft(){var e=$t(i.useState({actions:_t(je),current:null}),2),t=e[0],n=e[1],r=$t(i.useState(""),2),o=r[0],a=r[1];function c(e){n(Dt(Dt({},t),{},{actions:[].concat(_t(je),_t(e))}))}function s(e){n(Dt(Dt({},t),{},{current:e||Dt({},Wt)})),window.$cui.get("#add-action-dialog").emit("open")}return i.useEffect((function(){var e=window.$actionsFlow.subscribe(Ge,{finish:c}),t=window.$actionsFlow.subscribe(Be),n=window.$actionsFlow.subscribe(Ye);return window.$actionsFlow.perform(Ge),function(){window.$actionsFlow.unsubscribe(Ge,e.id),window.$actionsFlow.unsubscribe(Be,t.id),window.$actionsFlow.unsubscribe(Ye,n.id)}}),[t.actions]),i.createElement(i.Fragment,null,i.createElement("div",{className:"stopwatch-content-width"},i.createElement(St,{title:"Activities",description:"Define activies which you want to perform in trainings!",icon:"link"}),i.createElement("div",{className:"cui-container cui-flex cui-middle cui-middle cui-center cui-right--s"},i.createElement(Tt,{value:o,onUpdate:function(e){a(e)},className:"cui-width-1-1 cui-width-1-3--m cui-width-1-4--l"})),i.createElement(It,{filter:o,actions:t.actions,onEdit:s,onDelete:function(e){var t,n;t=e.name,n=function(){window.$actionsFlow.perform(Ye,e)},window.$cui.alert("delete-action-dialog","YesNoCancel",{title:"Delete action",message:"Do you really want to delete action: "+t,onYes:n})}}),i.createElement("div",{className:"cui-position-float cui-position-bottom cui-position-center cui-margin-large-bottom z-index-100"},i.createElement("button",{className:"cui-icon-button cui-large cui-background-default cui-box-shadow","cui-icon":"plus",onClick:function(){s()}}))),i.createElement(jt,{action:t.current,onSave:function(e){window.$actionsFlow.perform(Be,e)}}))}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Bt(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var Yt="GET_ALL_TRAININGS",Vt="ADD_TRAINING",zt="UPDATE_TRAINING",Ht="DELETE_TRAINING",qt="GET_TRAINING",Qt="CLEAR_TRAININGS",Kt="GET_DRAFT",Xt="SET_DRAFT",Jt="CLEAR_DRAFT",Zt="GET_FOR_EDIT",en=new WeakMap,tn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),en.set(this,{writable:!0,value:void 0}),function(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}}(this,en,t)}var t,n,i;return t=e,(n=[{key:"getActions",value:function(){var e,t=this;return Ut(e={},Yt,(function(){return Bt(t,en).getAllTrainings()})),Ut(e,Vt,(function(e){return Bt(t,en).addTraining(e)})),Ut(e,zt,(function(e){return Bt(t,en).updateTraining(e)})),Ut(e,Ht,(function(e){return Bt(t,en).deleteTraining(e)})),Ut(e,qt,(function(e){return Bt(t,en).getTraining(e)})),Ut(e,Kt,(function(){return Bt(t,en).getDraft()})),Ut(e,Xt,(function(e){return Bt(t,en).setDraft(e)})),Ut(e,Jt,(function(){return Bt(t,en).clearDraft()})),Ut(e,Zt,(function(e){var n=Bt(t,en).getDraft();return Object(c.c)(n)&&n.id===e?n:Object(c.c)(e)||!Object(c.c)(n.id)?Bt(t,en).getTraining(e):void 0})),Ut(e,Qt,(function(){return Bt(t,en).clearTrainings(),!0})),e}}])&&Gt(t.prototype,n),i&&Gt(t,i),e}();var nn=Object(a.i)((function(e){var t=e.history;return i.createElement("button",{className:"cui-button cui-accent",onClick:function(){return t.goBack()}},"Go Back")}));function rn(e){var t;return i.createElement("div",{className:e.classes},i.createElement("h2",{className:"cui-h2 cui-text-center cui-text-error"},e.message),i.createElement("div",{className:""},i.createElement("div",{className:"cui-flex cui-center"},i.createElement(o.b,{to:"/",className:"cui-button cui-margin-small-right"},"Go Home"),null!==(t=e.goBack)&&void 0!==t?t:i.createElement(nn,null))))}function on(e){return i.useEffect((function(){}),[e.items]),i.createElement("ul",{className:"cui-list cui-inline"},e.items&&e.items.length>0&&e.items.map((function(e,t){return i.createElement(an,{key:e.icon,icon:e.icon,label:e.label,onClick:e.onClick,modifiers:e.modifiers})})))}function an(e){var t,n="cui-button cui-rounded "+(null!==(t=e.modifiers)&&void 0!==t?t:"");return i.createElement("li",{className:"cui-padding-small-horizontal"},i.createElement("a",{className:n,"cui-icon":e.icon,onClick:e.onClick},i.createElement(Ct,{label:e.label})))}function cn(e){return i.createElement("div",{className:"cui-flex cui-middle"},i.createElement("div",{className:"cui-flex-center cui-margin-right"},i.createElement(bt,{type:e.action.type})),i.createElement("div",{className:"cui-flex-grow"},i.createElement("div",{className:""},e.action.name),i.createElement("div",{className:"cui-text-muted"},"Lasts ",e.action.duration," seconds")))}function sn(e){return i.createElement("div",{className:"cui-drop-trigger cui-block"},i.createElement("a",{className:"cui-link cui-block"},i.createElement(ln,{action:e.value})),i.createElement("div",{className:"cui-dropdown drop-height","cui-drop":"outClose: Y;",id:e.id},i.createElement("ul",{className:"cui-drop-nav drop-max-width"},e.actions&&e.actions.map((function(t){return i.createElement("li",{key:t.id},i.createElement("a",{className:"cui-overflow-hidden cui-text-truncate",onClick:function(){!function(t){!e.onSelect||e.value&&e.value.id===t.id||e.onSelect(t),window.$cui.get("#"+e.id).emit("close")}(t)}},i.createElement(cn,{action:t})))})))))}function ln(e){return i.createElement("div",{className:"cui-flex cui-middle cui-width-1-1"},i.createElement("div",{className:"cui-flex-grow"},e.action?i.createElement(cn,{action:e.action}):i.createElement("span",{className:"cui-inline-block cui-padding-small"},"No action selected")),i.createElement("span",{"cui-icon":"chevron_small_down"}))}function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){fn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mn(e){return function(e){if(Array.isArray(e))return bn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||pn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||pn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e,t){if(e){if("string"==typeof e)return bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bn(e,t):void 0}}function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function vn(e){var t=hn(Object(i.useState)({actions:[],selected:null,errors:[],name:""}),2),n=t[0],r=t[1];function o(t,i){var o;r(dn(dn({},n),{},{actions:t,selected:null!==(o=n.selected)&&void 0!==o?o:e.definedActions[0],errors:[],name:i||n.name}))}return i.useEffect((function(){var t=e.round&&e.round.name?e.round.name:Re(e.currentCount);return o(Object(c.c)(e.round)?e.round.actions:[],t),function(){}}),[e.round,e.definedActions,e.currentCount]),i.createElement(ht,{id:"edit-round-dialog",title:"Edit Round",body:i.createElement(i.Fragment,null,i.createElement("div",{className:""},i.createElement("div",{className:"cui-form"},i.createElement("label",{htmlFor:"",className:"cui-form-label"},"Round name"),i.createElement("input",{type:"text",className:"cui-input",placeholder:"Round name",value:n.name,onChange:function(e){var t=e.target.value,i=[];Object(c.c)(t)||i.push("Name cannot be empty"),r(dn(dn({},n),{},{errors:i,name:t}))}})),i.createElement("div",{className:"cui-margin-top"},"Actions"),i.createElement("ul",{className:"cui-list cui-margin-top edit-round-dialog-body"},n.actions&&n.actions.map((function(e,t){return i.createElement("li",{key:e.id+t,className:"animation-fade-in"},i.createElement("div",{className:"cui-flex cui-middle"},i.createElement("div",{className:"cui-flex-grow"},i.createElement(cn,{action:e})),i.createElement("ul",{className:"cui-icon-nav"},i.createElement("li",null,i.createElement("a",{className:"cui-icon","cui-icon":"trash",onClick:function(){!function(e){var t=mn(n.actions);t.splice(e,1),o(t)}(t)}})))))}))),i.createElement("div",{className:"cui-flex cui-middle cui-nowrap cui-margin-top"},i.createElement("div",{className:"cui-flex-grow"},i.createElement(sn,{value:n.selected,actions:e.definedActions,onSelect:function(e){e&&r(dn(dn({},n),{},{selected:e}))},name:"actioonaa",id:"round-select-drop"})),i.createElement("div",{className:"cui-padding-horizontal"},i.createElement("button",{"cui-icon":"plus",className:"cui-icon cui-icon-button",onClick:function(){n.selected&&o([].concat(mn(n.actions),[n.selected]))}}))),i.createElement(pt,{errors:n.errors}))),footer:i.createElement("div",{className:"cui-flex cui-right"},i.createElement("button",{className:"cui-button cui-margin-small-right","cui-close":""},"Cancel"),i.createElement("button",{className:"cui-button cui-accent",onClick:function(){if(e.onSave){var t={actions:mn(n.actions),name:n.name},i=(new st).validate(t);if(i.status)return e.onSave(t,e.index),void r(dn(dn({},n),{},{name:Re(e.currentCount+1),selected:null,actions:[]}));r(dn(dn({},n),{},{errors:i.errors}))}}},"Save"))})}function wn(e){var t,n,r=null!==(t=e.cancelLabel)&&void 0!==t?t:"Cancel",o=null!==(n=e.confirmLabel)&&void 0!==n?n:"OK";return i.createElement("div",{className:"cui-dropdown cui-section drop-max-width","cui-drop":"outClose: Y; autoClose: Y",id:e.id},i.createElement("p",null,e.message),i.createElement("div",{className:"cui-flex cui-right cui-margin-top"},i.createElement("button",{className:"cui-button cui-small",onClick:function(){window.$cui.get("#"+e.id).emit("close"),e.onCancel&&e.onCancel()}},r),i.createElement("button",{className:"cui-button cui-accent cui-small cui-margin-small-left",onClick:function(){window.$cui.get("#"+e.id).emit("close"),e.onConfirm()}},o)))}function gn(e){return i.createElement("div",{className:"cui-flex cui-middle cui-nowrap"},i.createElement("div",{className:"cui-flex-grow"},i.createElement("div",null,i.createElement("span",{className:"cui-text-bold"},e.round.name)),i.createElement("div",{className:"cui-text-muted cui-text-small cui-text-no-wrap"},i.createElement("span",null,e.round.actions.length," actions, ",f(e.round.actions)," seconds"))),i.createElement("ul",{className:"cui-icon-nav cui-flex-shrink"},!e.isFirst&&i.createElement("li",null,i.createElement("a",{className:"cui-icon","cui-icon":"chevron_up",onClick:function(){e.onMoveUp(e.round,e.index)},"cui-tooltip":"Move up"})),!e.isLast&&i.createElement("li",null,i.createElement("a",{className:"cui-icon","cui-icon":"chevron_down",onClick:function(){e.onMoveDown(e.round,e.index)},"cui-tooltip":"Move down"})),i.createElement("li",null,i.createElement("a",{className:"cui-icon","cui-icon":"copy",onClick:function(){e.onClone(e.round,e.index)},"cui-tooltip":"Clone"})),i.createElement("li",null,i.createElement("a",{className:"cui-icon","cui-icon":"edit",onClick:function(){e.onEdit(e.round,e.index)},"cui-tooltip":"Edit"})),i.createElement("li",null,i.createElement("div",{className:"cui-drop-trigger"},i.createElement("a",{className:"cui-icon","cui-icon":"trash"}),i.createElement(wn,{id:"delete-confirm-drop",message:"Do you really want to delete this round?",cancelLabel:"No",confirmLabel:"Yes",onConfirm:function(){e.onDelete(e.round,e.index)}})))))}function yn(e){return i.createElement("div",{className:"cui-flex cui-right cui-middle"},i.createElement("button",{className:"cui-button",onClick:e.onCancel},"Cancel"),i.createElement("button",{className:"cui-button cui-accent cui-margin-small-left",onClick:e.onConfirm},e.confirmLabel))}function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Sn(e){var t=i.useMemo((function(){return function(e){return e.reduce((function(e,t){var n,i=null!==(n=t.type)&&void 0!==n?n:"Unknown";return e[i]?e[i].push(t):e[i]=[t],e}),{})}(e.actions)}),[e.actions]),n=kn(i.useState({warmup:t.warmup?t.warmup[0]:null,exercise:t.exercise?t.exercise[0]:null,break:t.break?t.break[0]:null,cooldown:t.cooldown?t.cooldown[0]:null}),2),r=n[0],o=n[1],a=kn(i.useState(1),2),c=a[0],s=a[1];return i.useEffect((function(){return o({warmup:t.warmup?t.warmup[0]:null,break:t.break?t.break[0]:null,exercise:t.exercise?t.exercise[0]:null,cooldown:t.cooldown?t.cooldown[0]:null}),function(){}}),[e.actions]),i.createElement(ht,{title:"Quick Round",id:e.id,body:i.createElement(xn,{actions:t,onUpdate:function(e,t){o(On(On({},r),{},Nn({},t,e)))},data:r,count:c,onCounterUpdate:function(e){s(e)}}),footer:i.createElement(yn,{confirmLabel:"Save",onCancel:function(){window.$cui.get("#"+e.id).emit("close")},onConfirm:function(){if(!(c<1)){var t={name:"Quick",actions:E(r,c)};e.onSave(t)}}})})}function xn(e){function t(t){t>0&&t<12&&e.onCounterUpdate(t)}return i.createElement(i.Fragment,null,i.createElement("div",null,i.createElement(An,{actions:e.actions[Ee],value:e.data.warmup,onUpdate:e.onUpdate,type:Ee,id:"warmup-select-drop",name:"warmup-action"})),i.createElement("div",{className:"cui-margin-top"},i.createElement(An,{actions:e.actions[we],value:e.data.exercise,onUpdate:e.onUpdate,type:we,id:"exercise-select-drop",name:"exercise-action"})),i.createElement("div",{className:"cui-form cui-margin-top"},i.createElement(An,{actions:e.actions[ge],value:e.data.break,onUpdate:e.onUpdate,type:ge,id:"break-select-drop",name:"break-action"})),i.createElement("div",{className:"cui-margin-top"},i.createElement(An,{actions:e.actions[ye],value:e.data.cooldown,onUpdate:e.onUpdate,type:ye,id:"cooldown-select-drop",name:"cooldown-action"})),i.createElement("div",{className:"cui-form cui-margin-top"},i.createElement("label",{className:"cui-form-label"},"Number of exercises"),i.createElement("div",{className:"cui-flex cui-middle cui-margin-small-top"},i.createElement("button",{className:"cui-icon-button","cui-icon":"minus",onClick:function(){return t(e.count-1)}}),i.createElement("span",{className:"cui-margin-horizontal"},e.count),i.createElement("button",{className:"cui-icon-button","cui-icon":"plus",onClick:function(){return t(e.count+1)}}))))}function An(e){return i.createElement(i.Fragment,null,i.createElement("span",{className:"cui-text-capital cui-inline-block"},e.type),i.createElement("div",{className:"cui-flex cui-middle cui-margin-small-top"},i.createElement("div",{className:"cui-flex-grow"},i.createElement(sn,{value:e.value,actions:e.actions,onSelect:function(t){e.onUpdate(t,e.type)},name:e.name,id:e.id})),i.createElement("button",{className:"cui-icon-button","cui-icon":"close",onClick:function(){e.onUpdate(null,"cooldown")}})))}function Tn(e){return function(e){if(Array.isArray(e))return _n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Mn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||Mn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e,t){if(e){if("string"==typeof e)return _n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_n(e,t):void 0}}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function $n(e){var t=Dn(i.useState({currentIndex:-1,currentCount:0,currentRound:null}),2),n=t[0],r=t[1],o=Dn(i.useState({actions:[]}),2),a=o[0],l=o[1];function u(t,i){r(In(In({},n),{},{currentIndex:i,currentRound:t,currentCount:e.training&&e.training.rounds?e.training.rounds.length:0})),window.$cui.get("#edit-round-dialog").emit("open")}function d(t,n){var i=Tn(e.training.rounds);i.splice(n,1),b(i)}function f(t,n){b(y(e.training.rounds,n,n+1))}function m(t,n){b(y(e.training.rounds,n,n-1))}function h(t,n){var i=n+1,r=Object(c.a)(t);b(function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(!e||null===e||!i||null===i||0===i.length)return e;var o=e.length;return!t||0===t||t>=o?[].concat(s(e),i):t<=0?[].concat(i,s(e)):(e.splice.apply(e,[t,0].concat(i)),s(e))}(e.training.rounds,i,r))}function p(t,n){var i=[];return n>-1?(i=Tn(e.training.rounds))[n]=t:i=[].concat(Tn(e.training.rounds),[t]),i}function b(t){e.onUpdate(In(In({},e.training),{},{rounds:t}))}function v(t){var n=t.target.name;["name","description"].includes(n)&&e.onUpdate(In(In({},e.training),{},Pn({},n,t.target.value)))}function w(e){l({actions:[].concat(Tn(je),Tn(e))})}return i.useEffect((function(){var e=window.$actionsFlow.subscribe(Ge,{finish:w});return window.$actionsFlow.perform(Ge),r(In({},n)),function(){window.$actionsFlow.unsubscribe(Ge,e.id)}}),[e.training]),i.createElement(i.Fragment,null,i.createElement("div",{className:"cui-container stopwatch-content-width cui-flex-grid cui-child-width-1-1 cui-child-width-1-2--m"},i.createElement("div",{className:"cui-padding-small-right"},i.createElement("div",{className:"cui-form"},i.createElement("label",{htmlFor:"",className:"cui-form-label"},"Name"),i.createElement("input",{type:"text",className:"cui-input stopwatch-input-width",placeholder:"Name",name:"name",value:e.training.name,onChange:v})),i.createElement("div",{className:"cui-form cui-margin-top"},i.createElement("label",{htmlFor:"",className:"cui-form-label"},"Description"),i.createElement("textarea",{className:"cui-textarea stopwatch-input-width stopwatch-text-area",placeholder:"Description",name:"description",rows:5,value:e.training.description,onChange:v}))),i.createElement("div",{className:"cui-padding-small-left"},i.createElement("ul",{className:"cui-list"},e.training&&e.training.rounds.map((function(e,t,n){return i.createElement("li",{key:t,className:"animation-fade-in"},i.createElement(gn,{index:t,round:e,onEdit:u,onDelete:d,onMoveUp:m,onMoveDown:f,onClone:h,isFirst:0===t,isLast:t===n.length-1}))})),i.createElement("li",null,i.createElement("div",{className:"cui-flex-grid cui-center cui-child-width-1-2--m"},i.createElement("div",{className:""},i.createElement("button",{className:"cui-button cui-default cui-icon cui-icon-margin cui-width-1-1","cui-icon":"plus",onClick:function(){u(null,-1)}},"Add Round")),i.createElement("div",null,i.createElement("button",{className:"cui-button cui-accent cui-icon cui-icon-margin cui-width-1-1","cui-icon":"bolt",onClick:function(){window.$cui.get("#quick-round-create").emit("open")}},"Quick Round"))))))),i.createElement(vn,{index:n.currentIndex,round:n.currentRound,onSave:function(e,t){b(p(e,t)),window.$cui.get("#edit-round-dialog").emit("close")},currentCount:n.currentCount,definedActions:a.actions}),i.createElement(Sn,{id:"quick-round-create",actions:a.actions,onSave:function(e){b(p(e,-1)),window.$cui.get("#quick-round-create").emit("close")}}))}var Rn=Object(a.i)((function(e){var t,n=Dn(i.useState(!1),2),r=(n[0],n[1]),o=Dn(i.useState({training:{name:"",rounds:[],state:ke}}),2),s=o[0],l=o[1],f=Object(a.h)().id;function m(e){e?(d("Saved"),h()):u("Fail","Training was not saved")}function h(){e.history&&e.history.goBack()}function p(e){e?l({training:In({},e)}):u("Fail","Training was not found")}function b(e){r(!1),e&&!Object(c.c)(e.id)&&l({training:In({},e)})}function v(){var e=(new ct).validate(s.training);e.status?window.$flow.perform(zt,s.training):u("Training not valid",e.errors.join(", "))}function w(){var e,t;Object(c.c)(s.training.id)&&s.training.state===Ne?(e=s.training.name,t=g,window.$cui.alert("delete-training-dialog","YesNoCancel",{title:"Delete training",message:"Do you really want to delete training: "+e+"?",onYes:t})):(d("Draft removed"),window.$flow.perform(Jt),h())}function g(){window.$flow.perform("DELETE_TRAINING",s.training.id)}function y(e){d("Removed"),h()}return i.useEffect((function(){var e=window.$flow.subscribe("UPDATE_TRAINING",{finish:m}),t=window.$flow.subscribe(Zt,{finish:p}),n=window.$flow.subscribe("GET_DRAFT",{finish:b}),i=window.$flow.subscribe("DELETE_TRAINING",{finish:y});return r(!0),f?window.$flow.perform(Zt,f):window.$flow.perform(Kt),function(){window.$flow.unsubscribe("UPDATE_TRAINING",e.id),window.$flow.unsubscribe(Zt,t.id),window.$flow.unsubscribe("DELETE_TRAINING",i.id),window.$flow.unsubscribe("GET_DRAFT",n.id)}}),[s.training.id]),i.createElement(i.Fragment,null,i.createElement("div",{className:"edit-container"},i.createElement("div",{className:"edit-container-content cui-overflow-y-auto"},i.createElement("div",{className:"cui-container stopwatch-content-width"},i.createElement(St,{title:Object(c.c)(s.training)&&Object(c.c)(s.training.name)?"Update ".concat(s.training.state===Oe?"draft":"training"," ").concat(s.training.name):"Define training",description:"Customize your training settings",icon:"dumbbell"})),i.createElement("div",{className:""},s.training?i.createElement($n,{training:s.training,onUpdate:function(e){!function(e){window.$flow.perform(Xt,e),l({training:In(In({},e),{},{state:Oe})})}(e)},onCancel:h}):i.createElement(rn,{message:"The training you looking for could not be found",classes:""}))),i.createElement("div",{className:"edit-container-bottom cui-padding-small-vertical cui-border-top cui-border-remove--l cui-flex stopwatch-content-width"},i.createElement("div",{className:"stopwatch-content-width cui-flex cui-middle cui-center"},i.createElement(on,{items:(t=[],Object(c.c)(s.training.id)&&t.push({icon:"media_play",label:"Run",onClick:function(){e.history.push(k.renderUrl("perform",{id:s.training.id}))}}),s.training.state!==ke&&t.push({icon:"trash",label:"Delete",onClick:function(){w()}}),t.push({icon:"checkmark",label:"Save",onClick:v,modifiers:"cui-success"}),t)})))))}));function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Un(e,t,n){return t&&Fn(e.prototype,t),n&&Fn(e,n),e}function Gn(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function Bn(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}var Yn=new WeakMap,Vn=function(){function e(){Wn(this,e),Yn.set(this,{writable:!0,value:void 0}),Bn(this,Yn,screen)}return Un(e,[{key:"activate",value:function(){Gn(this,Yn).keepAwake=!0}},{key:"release",value:function(){Gn(this,Yn).keepAwake=!1}}]),e}(),zn=function(){function e(){Wn(this,e),Ln(this,"element",void 0),this.element=void 0}return Un(e,[{key:"activate",value:function(){this.element||(this.element=this.createElement("/static/video/Screen.mp4"),document.body.appendChild(this.element))}},{key:"release",value:function(){this.element&&(this.element.remove(),this.element=void 0)}},{key:"createElement",value:function(e){var t=document.createElement("video");return t.autoplay=!0,t.muted=!0,t.loop=!0,t.src=e,t.classList.add("loop-screen"),t.textContent="Not Supported",t}}]),e}(),Hn=new WeakMap,qn=function(){function e(){Wn(this,e),Hn.set(this,{writable:!0,value:void 0}),Bn(this,Hn,this.getToggle())}return Un(e,[{key:"activate",value:function(){Gn(this,Hn).activate()}},{key:"release",value:function(){Gn(this,Hn).release()}},{key:"getToggle",value:function(){return"keepAwake"in screen?new Vn:new zn}}]),e}();function Qn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Kn(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function Xn(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}var Jn="RUNNING",Zn="STOPPED",ei="PAUSED",ti=new WeakMap,ni=new WeakMap,ii=new WeakMap,ri=new WeakMap,oi=new WeakMap,ai=new WeakMap,ci=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ti.set(this,{writable:!0,value:void 0}),ni.set(this,{writable:!0,value:void 0}),ii.set(this,{writable:!0,value:void 0}),ri.set(this,{writable:!0,value:void 0}),oi.set(this,{writable:!0,value:void 0}),ai.set(this,{writable:!0,value:void 0}),Xn(this,ni,0),Xn(this,ii,0),Xn(this,ri,!1),Xn(this,oi,Zn),Xn(this,ai,void 0)}var t,n,i;return t=e,(n=[{key:"onTick",value:function(e){Xn(this,ti,e)}},{key:"tick",value:function(){var e=this;Xn(this,ai,setTimeout((function(){try{Kn(e,oi)===Jn&&Kn(e,ti).call(e,Kn(e,ni),Kn(e,ii),e)?(Kn(e,ri)?(Xn(e,ni,0),Xn(e,ri,!1)):(Xn(e,ni,Kn(e,ni)+1),Xn(e,ii,Kn(e,ii)+1)),e.tick()):Kn(e,oi)!==ei&&e.stop()}catch(t){console.error("An error occured on stopwatch tick"),console.error(t),e.stop()}}),1e3))}},{key:"reset",value:function(){Xn(this,ri,!0)}},{key:"start",value:function(){return Kn(this,oi)!==Jn&&(Xn(this,ni,0),Xn(this,oi,Jn),this.tick(),!0)}},{key:"stop",value:function(){return Kn(this,oi)===Jn&&(this.finish(),Xn(this,oi,Zn),!0)}},{key:"pause",value:function(){return Kn(this,oi)===Jn&&(Xn(this,oi,ei),!0)}},{key:"resume",value:function(){return Kn(this,oi)===ei&&(Xn(this,oi,Jn),this.tick(),!0)}},{key:"finish",value:function(){Kn(this,ai)&&(clearTimeout(Kn(this,ai)),Xn(this,ai,void 0)),Xn(this,ni,0),Xn(this,ii,0)}},{key:"getState",value:function(){return Kn(this,oi)}}])&&Qn(t.prototype,n),i&&Qn(t,i),e}();function si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ui(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}var di="GET_DARK_MODE",fi="SET_DARK_MODE",mi="GET_SOUND_ENABLED",hi="SET_SOUND_ENABLED",pi="SET_SETTINGS",bi="GET_SETTINGS",vi="GET_IS_WELCOME",wi="SET_IS_WELCOME",gi="GET_SIMPLE_VIEW",yi="CLEAR_SETTINGS",Ei=new WeakMap,Oi=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ei.set(this,{writable:!0,value:void 0}),function(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}}(this,Ei,t)}var t,n,i;return t=e,(n=[{key:"getActions",value:function(){var e,t=this;return si(e={},mi,(function(){return ui(t,Ei).isSoundEnabled()})),si(e,hi,(function(e){ui(t,Ei).setSoundEnabled(e)})),si(e,di,(function(){return ui(t,Ei).isDarkMode()})),si(e,fi,(function(e){ui(t,Ei).setDarkMode(e)})),si(e,pi,(function(e){ui(t,Ei).setSettings(e)})),si(e,bi,(function(){return ui(t,Ei).getSettings()})),si(e,vi,(function(){return ui(t,Ei).isWelcomeSet()})),si(e,gi,(function(){return ui(t,Ei).getSettings().simpleView})),si(e,wi,(function(e){ui(t,Ei).setIsWelcome(e)})),si(e,yi,(function(){return ui(t,Ei).clearSettings(),!0})),e}}])&&li(t.prototype,n),i&&li(t,i),e}();function Ni(e){return i.createElement("span",{className:"cui-svg total-circle-progress","cui-circle-progress":e.watchState.trainingProgress},i.createElement("div",{className:""},i.createElement("span",{className:"cui-svg current-circle-progress","cui-circle-progress":e.watchState.roundProgress},i.createElement("div",null,i.createElement("span",{className:"cui-svg countdown-circle-progress","cui-circle-progress":e.watchState.progress},i.createElement("div",null,i.createElement("span",{className:"cui-block cui-text-small"},e.actionIdx+1),i.createElement("h1",{className:"cui-h1 cui-margin-remove "+e.watchState.timerCls},e.watchState.timer)))))))}function ki(e){return i.createElement("div",null,i.createElement("span",{className:"cui-block cui-text-small"},e.actionIdx+1),i.createElement("h1",{className:"cui-h1 cui-margin-remove countdown-timer-size "+e.watchState.timerCls},e.watchState.timer))}function ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(n),!0).forEach((function(t){xi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ai(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ti(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ti(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ci={round:void 0,roundIdx:-1,actionIdx:-1,action:void 0,class:"",roundDuration:0,totalDuration:0};function Ii(){var e,t,n=Ai(i.useState({training:void 0}),2),r=n[0],o=n[1],s=Ai(i.useState(void 0),2),l=s[0],d=s[1],h=Ai(i.useState(Ci),2),p=h[0],y=h[1],E=Ai(i.useState(!1),2),O=E[0],N=E[1],k=Ai(i.useState(!1),2),j=k[0],S=k[1],x=Ai(i.useState({timer:"00:00",state:Zn,startBtnCls:X(Zn),timerCls:"",progress:100,roundProgress:100,trainingProgress:100}),2),A=x[0],T=x[1],C=Ai(i.useState(""),2),I=C[0],P=C[1],D=Object(a.h)().id,M=i.useRef(p);M.current=p;var _=i.useRef(r.training);_.current=r.training;var $=i.useRef(O);$.current=O;var R,L=i.useRef(null),W=i.useRef(null),F=i.useRef(null),U=i.useRef(null),G=i.useRef(null),B=i.useRef(null),Y=i.useRef(null);function V(e){var t=(new mt).validate(e);t.status?(o(Si(Si({},r),{},{training:e})),z(e)):u("Incorrect training","Training is not correct: ".concat(t.errors.join(", ")))}function z(e){var t=e.rounds[0],n=t.actions[0];y({roundIdx:0,round:t,action:n,actionIdx:0,class:g(n.type),roundDuration:f(t.actions),totalDuration:v(e)[1]})}function H(e,t,n){var i=parseInt(M.current.action.duration),r=i-e,o=b(e,i);return 0===e&&Q(M.current.action.type),r>0?(q(n.getState(),{time:r,progress:100-o,ct:e,total:t}),r<=2&&Q("countdown"),!0):(console.log(r),function(){var e=M.current.actionIdx+1;if(M.current.round.actions.length>e){var t=M.current.round.actions[e];return y(Si(Si({},M.current),{},{actionIdx:e,action:t,class:g(t.type)})),!0}var n=M.current.roundIdx+1;if(_.current.rounds.length>n){var i=_.current.rounds[n],r=i.actions[0];return y(Si(Si({},M.current),{},{round:i,roundIdx:n,actionIdx:0,action:r,class:g(r.type),roundDuration:f(i.actions)})),!0}return z(_.current),!1}()?(Q("countdown"),q(Jn,{time:0,progress:0,ct:r,total:t}),n.reset(),!0):(Q("end"),q(Zn,{time:0,progress:100,ct:0,total:0}),!1))}function q(e,t){if(!Object(c.c)(t)||t.time<0)T(Si(Si({},A),{},{state:e,startBtnCls:X(e)}));else{var n=100-b(function(e){return M.current.round.actions.reduce((function(e,t,n){return n<M.current.actionIdx?e+parseInt(t.duration):e}),0)+e}(t.ct),M.current.roundDuration),i=function(e){return 100-b(e,M.current.totalDuration)}(t.total);T({timer:m(t.time),timerCls:K(t.time,e),state:e,startBtnCls:X(e),progress:t.progress,roundProgress:n,trainingProgress:i})}}function Q(e){if($.current){var t=void 0;switch(e){case"countdown":t=L.current;break;case"end":t=B.current;break;case"exercise":t=W.current;break;case"warmup":t=F.current;break;case"break":t=U.current;break;case"cooldown":t=G.current}t&&(t.currentTime=0,t.play())}}function K(e,t){return t===Jn&&e>=0&&e<3?"cui-text-warning timer-blink-animation":""}function X(e){return e!==Zn?"cui-error":"cui-accent"}function J(e){N(e)}function Z(e){S(e)}return i.useEffect((function(){var e=window.$flow.subscribe("GET_TRAINING",{finish:V}),t=window.$settingsFlow.subscribe(mi,{finish:J}),n=window.$settingsFlow.subscribe(gi,{finish:Z});window.$settingsFlow.perform(mi),window.$settingsFlow.perform(gi);var i=new qn;try{i.activate()}catch(e){P("We could not activate feature to keep your device's screen awake during training performance")}var r=new ci;return r.onTick(H),d(r),D>-1&&window.$flow.perform("GET_TRAINING",D),function(){window.$flow.unsubscribe("GET_TRAINING",e.id),window.$settingsFlow.unsubscribe(mi,t.id),window.$settingsFlow.unsubscribe(gi,n.id),l&&l.stop(),i.release()}}),[D,O]),i.createElement(i.Fragment,null,r.training?i.createElement("div",{className:"stopwatch-layout-content cui-flex-center "+(R=p.action,Object(c.c)(R)?w(R.type):""),ref:Y},i.createElement("div",{className:"stopwatch-content-width perform-layout cui-text-center animation-fade-in"},i.createElement("div",{className:"perform-main-controls"},i.createElement("h2",{className:"cui-h2 cui-margin-remove"},r.training.name),i.createElement("p",{className:"cui-margin-remove"},null==r||null===(e=r.training)||void 0===e||null===(t=e.rounds[p.roundIdx])||void 0===t?void 0:t.name),i.createElement("p",{className:"cui-text-muted cui-text-small cui-margin-remove"},"Round ",p.roundIdx+1," of ",r.training.rounds.length),j?i.createElement(ki,{actionIdx:p.actionIdx,watchState:A}):i.createElement(Ni,{actionIdx:p.actionIdx,watchState:A})),i.createElement("div",{className:"perform-buttons"},i.createElement("div",{className:"cui-width-1-1"},i.createElement("h3",{className:"cui-h3 "+p.class},p.action&&p.action.name),i.createElement("div",{className:"cui-flex cui-center"},A.state!==Zn&&i.createElement("button",{className:"cui-button cui-margin-small-right",onClick:function(){A.state===Jn&&l.pause()?q(ei):A.state===ei&&l&&l.resume()&&q(Jn)}},A.state===ei?"Resume":"Pause"),i.createElement("button",{className:"cui-button "+A.startBtnCls,onClick:function(){A.state===Zn&&l.start()?q(Jn):A.state!==Zn&&l.stop()&&(z(r.training),q(Zn,{time:0,progress:100,ct:0,total:0}))}},A.state===Zn?"Start":"Stop")),i.createElement("p",{className:"cui-text-muted"},r.training.description),i.createElement("div",{className:""},Object(c.c)(I)&&i.createElement("span",{className:"cui-icon cui-error cui-tooltip","cui-icon":"ban","data-tooltip":I}),i.createElement("a",{className:"cui-icon-button cui-default","cui-icon":O?"speaker":"volume_muted",onClick:function(){window.$settingsFlow.perform(hi,!O),window.$settingsFlow.perform(mi)}}),i.createElement("a",{className:"cui-icon-button cui-default cui-margin-small-left","cui-icon":"expand",onClick:function(){Y.current&&Object(c.d)(Y.current)}}))))),i.createElement("audio",{ref:L,id:"stopwatch-countdown",src:"/static/audio/stopwatch_countdown.mp3"}),i.createElement("audio",{ref:W,id:"stopwatch-exercise",src:"/static/audio/stopwatch_exercise.mp3"}),i.createElement("audio",{ref:F,id:"stopwatch-warmup",src:"/static/audio/stopwatch_warmup.mp3"}),i.createElement("audio",{ref:U,id:"stopwatch-break",src:"/static/audio/stopwatch_break.mp3"}),i.createElement("audio",{ref:G,id:"stopwatch-cooldown",src:"/static/audio/stopwatch_cooldown.mp3"}),i.createElement("audio",{ref:B,id:"stopwatch-cooldown",src:"/static/audio/stopwatch_end.mp3"})):i.createElement(rn,{message:"We couldn't find training"}))}function Pi(){function e(){window.$cui.toast("Data cleared")}function t(){console.log("Settings cleared"),window.$settingsFlow.perform(bi)}return i.useEffect((function(){var n=window.$settingsFlow.subscribe(yi,{finish:t}),i=window.$actionsFlow.subscribe(Ve,{finish:e}),r=window.$flow.subscribe(Qt,{finish:e});return function(){window.$settingsFlow.unsubscribe(yi,n.id),window.$actionsFlow.unsubscribe(Ve,i.id),window.$flow.unsubscribe(Qt,r.id)}}),[]),i.createElement("div",{className:"cui-section"},i.createElement("h3",{className:"cui-h3"},"Dev tools"),i.createElement("div",{className:""},i.createElement("div",null),i.createElement("button",{className:"cui-button cui-margin-small cui-default ",onClick:function(){window.$actionsFlow.perform(Ve)}},"Clear actions only")),i.createElement("div",null,i.createElement("button",{className:"cui-button cui-margin-small cui-default",onClick:function(){window.$flow.perform(Qt)}},"Clear trainings only")),i.createElement("div",null,i.createElement("button",{className:"cui-button cui-margin-small cui-default",onClick:function(){window.$settingsFlow.perform(yi)}},"Clear settings only")),i.createElement("div",null,i.createElement("button",{className:"cui-button cui-margin-small cui-error",onClick:function(){window.$actionsFlow.perform(Ve),window.$flow.perform(Qt),window.$settingsFlow.perform(yi)}},"Clear data")))}function Di(e){return i.useEffect((function(){}),[e.value,e.name]),i.createElement("div",{className:"cui-flex cui-middle cui-padding-small"},i.createElement("div",{className:"cui-flex-grow"},e.label),i.createElement("div",{className:"cui-input-switch"},i.createElement("input",{type:"checkbox",id:e.name,name:e.name,checked:e.value,onChange:function(t){var n=t.target;e.onUpdate&&e.onUpdate(n.name,n.checked)}}),i.createElement("label",{htmlFor:e.name,className:"cui-content"})))}function Mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mi(Object(n),!0).forEach((function(t){$i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Li(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Li(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Wi(){var e=Ri(i.useState(_i({},Le)),2),t=e[0],n=e[1];function r(e,i){if("soundEnabled"===e||"darkMode"===e||"simpleView"===e){var r=_i(_i({},t),{},$i({},e,i));window.$settingsFlow.perform(pi,r),n(r)}}function o(){window.$settingsFlow.perform(bi)}function a(e){e&&(console.log(e),n(e),p(e.darkMode))}return i.useEffect((function(){console.log("Reload");var e=window.$settingsFlow.subscribe(bi,{finish:a}),t=window.$settingsFlow.subscribe(pi,{finish:o});return o(),function(){window.$settingsFlow.unsubscribe(bi,e.id),window.$settingsFlow.unsubscribe(pi,t.id)}}),[t.darkMode,t.soundEnabled]),i.createElement(i.Fragment,null,i.createElement("div",{className:"stopwatch-content-width"},i.createElement(St,{title:"Settings",description:"Change application setup",icon:"setup"}),i.createElement("div",{className:"cui-section"},i.createElement("ul",{className:"cui-list"},i.createElement("li",null,i.createElement(Di,{label:"Dark mode",name:"darkMode",value:t.darkMode,onUpdate:r})),i.createElement("li",null,i.createElement(Di,{label:"Play sound",name:"soundEnabled",value:t.soundEnabled,onUpdate:r})),i.createElement("li",null,i.createElement(Di,{label:"Simple timer view",name:"simpleView",value:t.simpleView,onUpdate:r})),i.createElement("li",null,"Welcome screen status: ",t.isWelcome?"Yes":"No")),i.createElement("div",{className:"cui-section"},i.createElement("button",{className:"cui-button cui-default",onClick:function(){window.$cui.get("#welcome-dialog").emit("open")}},"Show tutorial dialog"))),i.createElement(Pi,null)))}function Fi(){return i.createElement(i.Fragment,null,i.createElement("div",{className:"stopwatch-content-width"},i.createElement(St,{title:"About",description:"Some details about the application",icon:"info"}),i.createElement("div",{className:""},i.createElement("div",{className:"cui-container "},i.createElement("h3",{className:"cui-h3"},"Repository"),i.createElement("p",{className:""},"Project sources can be found on Github under following link: ",i.createElement("a",{className:"cui-link cui-accent",href:"https://github.com/bpd-d/bpd-stopwatch-app"},"bpd-stopwatch-app"))),i.createElement("div",{className:"cui-container"},i.createElement("h3",{className:"cui-h3"},"Links"),i.createElement("p",{className:""},"Project uses third party libraries, see following list: "),i.createElement("ul",{className:"cui-list"},i.createElement("li",null,i.createElement("div",{className:""},i.createElement("div",{className:""},i.createElement("span",null,"React")),i.createElement("a",{href:"https://github.com/facebook/react",className:"cui-link"},"Github"),i.createElement("a",{href:"https://reactjs.org/",className:"cui-link cui-margin-left"},"React JS home page"))),i.createElement("li",null,i.createElement("div",{className:""},i.createElement("div",{className:""},i.createElement("span",null,"cUI Light")),i.createElement("a",{href:"https://github.com/bpd-d/cui-light",className:"cui-link"},"cUI Light on Github"),i.createElement("a",{href:"https://github.com/bpd-d/cui-styles",className:"cui-link cui-margin-left"},"cUI Styles on Github"),i.createElement("a",{href:"https://github.com/bpd-d/cui-icons",className:"cui-link cui-margin-left"},"cUI Icons on Github"))),i.createElement("li",null,i.createElement("div",{className:""},i.createElement("div",{className:""},i.createElement("span",null,"BPD Flow")),i.createElement("a",{href:"https://github.com/bpd-d/bpd-flow",className:"cui-link"},"Github"))),i.createElement("li",null,i.createElement("div",{className:""},i.createElement("div",{className:""},i.createElement("span",null,"BPD Storage")),i.createElement("a",{href:"https://github.com/bpd-d/bpd-storage",className:"cui-link"},"Github"))))))))}function Ui(e){return i.createElement("div",{className:"stopwatch-footer cui-flex cui-right cui-middle"},i.createElement("div",{className:"cui-margin-horizontal"},i.createElement("span",{className:"cui-margin-small-right"},"Copyrights ",(new Date).getFullYear()+""),i.createElement("a",{href:"https://github.com/bpd-d",target:"_blank",className:"cui-link cui-accent"},"BPDDev"),"development"===e.mode&&i.createElement("span",{className:"cui-margin-left cui-text-bold"},"Dev")))}function Gi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Bi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Yi(){var e=Gi(i.useState(!1),2),t=e[0],n=e[1],r=null;function o(e){Object(c.c)(e)&&Object(c.c)(e.index)&&2===e.index?n(!0):n(!1)}return i.useEffect((function(){var e=(r=window.$cui.get("#welcome-switch")).on("switched",o);return function(){Object(c.c)(e)&&e.forEach((function(e){r.detach("switched",e)}))}}),[t]),i.createElement(ht,{id:"welcome-dialog",title:"Welcome",body:i.createElement("ul",{id:"welcome-switch","cui-switch":"links: #welcome-step-indicator > li; height: 250px"},i.createElement("li",{className:"cui-active"},i.createElement("div",null,"Welcome to ",i.createElement("span",{className:"cui-text-bold cui-text-accent"},"Bpd Stopwatch")," app. It is simple, offline tool which will allow you to perform highly custimzed trainings that need stopwatch.")),i.createElement("li",null,i.createElement("div",null,"Set up some ",i.createElement("span",{className:"cui-text-bold cui-text-accent"},"Actions")," to build your trainings from. You can define action name, type and it's duration. Action type has it's indications in ",i.createElement("span",{className:"cui-text-bold"},"colors")," and ",i.createElement("span",{className:"cui-text-bold"},"sounds")," later when your training is performed, so choose type accordingly to your action type. You can choose from ",i.createElement("span",{className:"cui-text-italic"},"warmup"),", ",i.createElement("span",{className:"cui-text-italic"},"exercise"),", ",i.createElement("span",{className:"cui-text-italic"},"break")," and ",i.createElement("span",{className:"cui-text-italic"},"cooldown"),". There are some actions already defined (they cannot be modified or deleted), which can help you to start with building your trainings.")),i.createElement("li",null,i.createElement("div",null,"Give your ",i.createElement("span",{className:"cui-text-bold cui-text-accent"},"training")," a name and optionally  ",i.createElement("span",{className:"cui-text-bold cui-accent"},"description"),", then setup ",i.createElement("span",{className:"cui-text-bold cui-accent"},"rounds"),". You can define rounds from available actions. Once added they can be ",i.createElement("span",{className:"cui-text-italic"},"re-positioned"),", ",i.createElement("span",{className:"cui-text-italic"},"cloned")," or ",i.createElement("span",{className:"cui-text-italic"},"deleted"),"."))),footer:i.createElement("div",{className:"cui-flex cui-middle"},i.createElement("ul",{id:"welcome-step-indicator",className:"cui-switcher-indicator cui-flex-grow","cui-switcher":"target: #welcome-switch"},i.createElement("li",null,i.createElement("a",null)),i.createElement("li",null,i.createElement("a",null)),i.createElement("li",null,i.createElement("a",null))),i.createElement("div",null,i.createElement("button",{className:"cui-button",onClick:function(){t?window.$cui.get("#welcome-dialog").emit("close"):r.emit("switch","next")}},t?"Close":"Next")))})}function Vi(e){return i.createElement(o.a,null,i.createElement(a.a,{path:"*"},i.createElement(zi,{mode:e.mode})))}function zi(e){var t,n=Object(a.g)();function r(e){p(e)}function o(e){var t=this;e||setTimeout((function(){t.welcomeDialogHandle=window.$cui.get("#welcome-dialog"),t.welcomeDialogCloseEventIds=t.welcomeDialogHandle.on("close",t.onWelcomeDialogClose.bind(t)),window.$cui.get("#welcome-dialog").emit("open")}),100)}function s(){window.$settingsFlow.perform(wi,!0)}return i.useEffect((function(){var e=window.$settingsFlow.subscribe(di,{finish:r}),n=window.$settingsFlow.subscribe(vi,{finish:o}),i=(t=window.$cui.get("#welcome-dialog")).on("close",s);return window.$settingsFlow.perform(vi),window.$settingsFlow.perform(di),function(){window.$settingsFlow.unsubscribe(di,e.id),window.$settingsFlow.unsubscribe(vi,n.id),Object(c.c)(i)&&i.forEach((function(e){t.detach("close",e)}))}})),i.createElement("div",{className:"stopwatch-layout-main"},i.createElement(ue,null),i.createElement("div",{className:"stopwatch-layout-content cui-overflow-y-auto"},i.createElement(a.c,{location:n},i.createElement(a.a,{path:k.getUrl("perform"),component:Ii}),i.createElement(a.a,{path:k.getUrl("newTraining"),component:Rn}),i.createElement(a.a,{path:k.getUrl("editTraining"),component:Rn}),i.createElement(a.a,{path:k.getUrl("actions"),component:Ft}),i.createElement(a.a,{path:k.getUrl("settings"),component:Wi}),i.createElement(a.a,{path:k.getUrl("about"),component:Fi}),i.createElement(a.a,{path:k.getUrl("home"),component:U}),i.createElement(a.a,null,i.createElement(Q,null)))),i.createElement(Ui,{mode:e.mode}),i.createElement(ve,null),i.createElement(Yi,null))}var Hi=n(30),qi=n(21),Qi=n(22);function Ki(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ji(e){return function(e){if(Array.isArray(e))return Zi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tr(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function nr(e,t,n){return t&&tr(e.prototype,t),n&&tr(e,n),e}function ir(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function rr(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}var or,ar,cr,sr,lr,ur,dr=new WeakMap,fr=new WeakMap,mr=function(){function e(){er(this,e),dr.set(this,{writable:!0,value:void 0}),fr.set(this,{writable:!0,value:void 0}),rr(this,dr,new Qi.BpdStorage("local","BPD_TRAININGS")),rr(this,fr,new ct)}return nr(e,[{key:"getAllTrainings",value:function(){return this.getTrainings()}},{key:"addTraining",value:function(e){var t=this,n=!1;return this.validate(e)&&this.onAction((function(i){return Object(c.c)(e.id)?null:(e.state===Oe&&t.clearDraft(),e.id="00"+t.getNextIndex(),e.state=Ne,i.push(e),n=!0,i)})),n}},{key:"updateTraining",value:function(e){var t=this,n=!1;return this.validate(e)&&(Object(c.c)(e.id)?this.onAction((function(i){var r=i.findIndex((function(t){return t.id===e.id}));return r>-1?(e.state===Oe&&t.clearDraft(),e.state=Ne,i[r]=e,n=!0,i):null})):n=this.addTraining(e)),n}},{key:"deleteTraining",value:function(e){var t=!1;return!!Object(c.c)(e)&&(this.onAction((function(n){var i=n.findIndex((function(t){return t.id===e}));return i>-1?(n.splice(i,1),t=!0,n):null})),t)}},{key:"getTraining",value:function(e){var t=void 0;return this.onAction((function(n){return t=n.find((function(t){return t.id===e})),null})),t}},{key:"clearTrainings",value:function(){this.onAction((function(e){return[]}))}},{key:"isDraft",value:function(){throw Object(c.c)(ir(this,dr).getAny("DRAFT_TRAINING"))}},{key:"getDraft",value:function(){var e;return null!==(e=ir(this,dr).getAny("DRAFT_TRAINING"))&&void 0!==e?e:void 0}},{key:"setDraft",value:function(e){Object(c.c)(e)&&(e.state=Oe,ir(this,dr).setAny("DRAFT_TRAINING",e))}},{key:"clearDraft",value:function(){ir(this,dr).removeItem("DRAFT_TRAINING")}},{key:"getCurrentTraining",value:function(){throw new Error("Method not implemented.")}},{key:"setCurrentTraining",value:function(e){throw new Error("Method not implemented.")}},{key:"getTrainings",value:function(){var e;return null!==(e=ir(this,dr).getAny("Trainings"))&&void 0!==e?e:[]}},{key:"setTrainings",value:function(e){ir(this,dr).setAny("Trainings",e)}},{key:"getNextIndex",value:function(){var e=ir(this,dr).getNumber("TRAININGS_INDEX");return e&&NaN!==e?e+=1:e=1,ir(this,dr).setNumber("TRAININGS_INDEX",e),e}},{key:"validate",value:function(e){return ir(this,fr).validate(e).status}},{key:"onAction",value:function(e){var t=e(this.getTrainings());null!==t&&this.setTrainings(t)}}]),e}(),hr=new WeakMap,pr=new WeakMap,br=new WeakMap,vr=function(){function e(){er(this,e),hr.set(this,{writable:!0,value:void 0}),pr.set(this,{writable:!0,value:void 0}),br.set(this,{writable:!0,value:void 0}),rr(this,hr,new Qi.BpdStorage("local","BPD_TRAININGS")),rr(this,pr,[]),rr(this,br,new lt),this.getActionsFromStorage()}return nr(e,[{key:"getAllActions",value:function(){return Ji(ir(this,pr))}},{key:"setAction",value:function(e){if(!ir(this,br).validate(e).status)return!1;Object(c.c)(e.id)||(e.id="000"+this.getNextIndex(),ir(this,pr).push(e));var t=this.getIndex(e);return t>-1?(ir(this,pr)[t]=e,this.setActionsToStorage(),!0):(console.log("Unknown action id: "+e.id),!1)}},{key:"removeAction",value:function(e){if(!ir(this,br).validate(e).status)return!1;var t=this.getIndex(e);return t<0?(console.log("Unknown action id: "+e.id),!1):(ir(this,pr).splice(t,1),this.setActionsToStorage(),!0)}},{key:"clearActions",value:function(){rr(this,pr,[]),this.setActionsToStorage()}},{key:"getActionsById",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Object(c.c)(t))return ir(this,pr).reduce((function(e,n,i){return t.includes(n.id)&&e.push(n),e}),[])}},{key:"getIndex",value:function(e){return ir(this,pr).findIndex((function(t){return t.id===e.id}))}},{key:"getActionsFromStorage",value:function(){var e=ir(this,hr).getAny("ACTIONS");rr(this,pr,null!=e?e:[])}},{key:"setActionsToStorage",value:function(){ir(this,hr).setAny("ACTIONS",ir(this,pr))}},{key:"getNextIndex",value:function(){var e=ir(this,hr).getNumber("ACTION_INDEX");return e?e+=1:e=5,ir(this,hr).setNumber("ACTION_INDEX",e),e}}]),e}(),wr=new WeakMap,gr=function(){function e(){er(this,e),wr.set(this,{writable:!0,value:void 0}),rr(this,wr,new Qi.BpdStorage("local","BPD_SETTINGS"))}return nr(e,[{key:"setSettings",value:function(e){return ir(this,wr).setAny("SETTINGS",e),!0}},{key:"getSettings",value:function(){return ir(this,wr).getAny("SETTINGS")||{darkMode:!1,soundEnabled:!1}}},{key:"setSoundEnabled",value:function(e){var t=this.getSettings();e!==t.soundEnabled&&(t.soundEnabled=e,this.setSettings(t))}},{key:"isSoundEnabled",value:function(){var e;return null===(e=this.getSettings())||void 0===e?void 0:e.soundEnabled}},{key:"setDarkMode",value:function(e){var t=this.getSettings();e!==t.darkMode&&(t.darkMode=e,this.setSettings(t))}},{key:"isDarkMode",value:function(){var e;return null===(e=this.getSettings())||void 0===e?void 0:e.darkMode}},{key:"isWelcomeSet",value:function(){var e;return null===(e=this.getSettings())||void 0===e?void 0:e.isWelcome}},{key:"setIsWelcome",value:function(e){var t=this.getSettings();e!==t.isWelcome&&(t.isWelcome=e,this.setSettings(t))}},{key:"clearSettings",value:function(){this.setSettings(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(n),!0).forEach((function(t){Xi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ki(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Le))}}]),e}(),yr=n(31),Er=n(1),Or=n(18),Nr=n(2),kr=n(19),jr=n(6),Sr=n(34),xr=n(5),Ar=n(20),Tr=n(4),Cr=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},Ir=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Pr=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Dr{constructor(e,t){or.set(this,void 0),ar.set(this,void 0),cr.set(this,void 0),sr.set(this,void 0),lr.set(this,void 0),ur.set(this,void 0),Ir(this,or,e),Ir(this,ar,!1),Ir(this,cr,jr.a.get("ElementManager")),Ir(this,lr,t),Ir(this,sr,Date.now()),Ir(this,ur,new Ar.a(t.interactions))}toggleClass(e){return Cr(this,void 0,void 0,(function*(){return!!Object(Er.w)(e)&&this.call(t=>{t.classList.contains(e)?t.classList.remove(e):t.classList.add(e)},"toggleClass")}))}toggleClassAs(e){return Cr(this,void 0,void 0,(function*(){return!!Object(Er.w)(e)&&this.call(t=>{let n=t.classList;Pr(this,lr).interactions.fetch(()=>{n.contains(e)?Pr(this,lr).interactions.mutate(n.remove,n,e):Pr(this,lr).interactions.mutate(n.add,n,e)},this)},"toggleClassAs")}))}setClass(e){return Cr(this,void 0,void 0,(function*(){return!!Object(Er.w)(e)&&this.call(t=>{t.classList.contains(e)||t.classList.add(e)},"setClass")}))}setClassAs(e){return Cr(this,void 0,void 0,(function*(){return!!Object(Er.w)(e)&&this.call(t=>{let n=t.classList;Pr(this,lr).interactions.fetch(()=>{n.contains(e)||Pr(this,lr).interactions.mutate(n.add,n,e)},this)},"setClassAs")}))}removeClass(e){return Cr(this,void 0,void 0,(function*(){return!!Object(Er.w)(e)&&this.call(t=>{t.classList.contains(e)&&t.classList.remove(e)},"removeClass")}))}removeClassAs(e){return Cr(this,void 0,void 0,(function*(){return!!Object(Er.w)(e)&&this.call(t=>{let n=t.classList;Pr(this,lr).interactions.fetch(()=>{n.contains(e)&&Pr(this,lr).interactions.mutate(n.remove,n,e)},this)},"removeClass")}))}getAttribute(e){return Object(Er.w)(e)?Pr(this,or).reduce((t,n)=>{let i=n.getAttribute(e);return null!=i&&t.push(i),t},[]):[]}setAttribute(e,t){return Cr(this,void 0,void 0,(function*(){return!!Object(Er.w)(e)&&this.call(n=>{n.setAttribute(e,null!=t?t:"")},"setAttribute")}))}setAttributeAs(e,t){return Cr(this,void 0,void 0,(function*(){return!!Object(Er.w)(e)&&this.call(n=>{Pr(this,lr).interactions.mutate(n.setAttribute,n,e,null!=t?t:"")},"setAttributeAs")}))}removeAttribute(e){return Cr(this,void 0,void 0,(function*(){return!!Object(Er.w)(e)&&this.call(t=>{t.removeAttribute(e)},"removeAttribute")}))}removeAttributeAs(e){return Cr(this,void 0,void 0,(function*(){return!!Object(Er.w)(e)&&this.call(t=>{Pr(this,lr).interactions.mutate(t.removeAttribute,t,e)},"removeAttributeAs")}))}toggleAttribute(e,t){return Cr(this,void 0,void 0,(function*(){return!!Object(Er.w)(e)&&this.call(n=>{n.hasAttribute(e)?n.removeAttribute(e):n.setAttribute(e,null!=t?t:"")},"toggleAttribute")}))}toggleAttributeAs(e,t){return Cr(this,void 0,void 0,(function*(){return!!Object(Er.w)(e)&&this.call(n=>{Pr(this,lr).interactions.fetch(()=>{n.hasAttribute(e)?Pr(this,lr).interactions.mutate(n.removeAttribute,n,e):Pr(this,lr).interactions.mutate(n.setAttribute,n,e,null!=t?t:"")},this)},"toggleAttributeAs")}))}click(e){return Cr(this,void 0,void 0,(function*(){return!!Object(Er.w)(e)&&this.call(t=>{t.addEventListener("click",e)},"click")}))}event(e,t){return Cr(this,void 0,void 0,(function*(){return!(!Object(Er.w)(e)||!Object(Er.w)(t))&&this.call(n=>{n.addEventListener(e,t)},"event")}))}call(e,t){return Cr(this,void 0,void 0,(function*(){return Pr(this,ar)&&Pr(this,cr).error("Element is locked",t),this.lock(),Pr(this,or).forEach((t,n)=>{e(t,n)}),this.unlock(),!0}))}animate(e,t){return Cr(this,void 0,void 0,(function*(){if(!Object(Er.w)(e))return!1;const n=null!=t?t:Pr(this,lr).setup.animationTime;return this.call(t=>{this.change(()=>{t.classList.add(e),t.classList.add(Nr.a.animProgress),setTimeout(()=>{this.change(()=>{t.classList.remove(e),t.classList.remove(Nr.a.animProgress)})},n)})})}))}open(e,t,n){return Cr(this,void 0,void 0,(function*(){if(!Object(Er.b)(e,t))return!1;const i=null!=n?n:Pr(this,lr).setup.animationTime,r=new Tr.b(t);return this.call(t=>{Pr(this,ur).performAction(t,r,null!=i?i:0).then(()=>{t.classList.add(e)})})}))}close(e,t,n){return Cr(this,void 0,void 0,(function*(){if(!Object(Er.b)(e,t))return!1;const i=null!=n?n:Pr(this,lr).setup.animationTime,r=new Tr.b(t);return this.call(t=>{Pr(this,ur).performAction(t,r,null!=i?i:0).then(()=>{t.classList.remove(e)})})}))}emit(e,...t){Object(Er.w)(e)?this.call(n=>{let i=n.$cuid;Object(Er.w)(i)&&(Pr(this,cr).debug(`Emitting event ${e} to ${i}`),Pr(this,lr).bus.emit(e,i,...t))},"emit"):Pr(this,cr).warning("Not enough data to emit event","emit")}on(e,t){let n=[];return Object(Er.b)(e,t)?(this.call(i=>{let r=i;if(Object(Er.w)(r)){let i=Pr(this,lr).bus.on(e,t,r);null!=i&&n.push(i)}},"on"),n):(Pr(this,cr).error("Incorrect arguments","on"),n)}detach(e,t){Object(Er.b)(e,t)||Pr(this,cr).error("Incorrect arguments","detach"),this.call(n=>{let i=n;Object(Er.w)(i)&&Pr(this,lr).bus.detach(e,t,i)},"detach")}read(e,...t){Pr(this,lr).interactions.fetch(e,this,...t)}change(e,...t){Pr(this,lr).interactions.mutate(e,this,...t)}elements(){return Pr(this,or)}count(){return Pr(this,or).length}lock(){Ir(this,ar,!0)}unlock(){Ir(this,ar,!1)}isLocked(){return Pr(this,ar)}refresh(){return Date.now()-Pr(this,sr)<36e4}}or=new WeakMap,ar=new WeakMap,cr=new WeakMap,sr=new WeakMap,lr=new WeakMap,ur=new WeakMap;var Mr,_r,$r,Rr,Lr,Wr,Fr=n(7),Ur=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Gr=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Br{constructor(e,t,n){Mr.set(this,void 0),_r.set(this,void 0),$r.set(this,void 0),Rr.set(this,void 0),Lr.set(this,void 0),Wr.set(this,void 0),Ur(this,Rr,e),Ur(this,Mr,Ur(this,$r,Ur(this,_r,void 0))),Ur(this,Lr,null!=n?n:""),Ur(this,Wr,t)}createHeader(e,t,n){Object(Er.w)(t)||(t=[]),Object(Er.w)(n)||(n=[]);let i=new Fr.a("div");i.setClasses(Gr(this,Rr)+"-dialog-header",...t),Ur(this,Mr,i.build());let r=new Fr.a("span").setClasses(this.getPrefixedString("-dialog-title")).build(e);Gr(this,Mr).appendChild(r),this.appendChildrens(Gr(this,Mr),...n)}createFooter(e,t){Object(Er.w)(e)||(e=[]),Object(Er.w)(t)||(t=[]),Ur(this,$r,new Fr.a("div").setClasses(this.getPrefixedString("-dialog-footer"),...e).build()),this.appendChildrens(Gr(this,$r),...t)}createBody(e,t){Object(Er.w)(e)||(e=[]),Object(Er.w)(t)||(t=[]),Ur(this,_r,new Fr.a("div").setClasses(this.getPrefixedString("-dialog-body"),...e).build()),this.appendChildrens(Gr(this,_r),...t)}build(e){let t=[this.getPrefixedString("-dialog")];Gr(this,Wr)&&t.push(this.getPrefixedString("-reverse-auto"));let n=new Fr.a("div").setId(e).setClasses(...t).setAttributes({[this.getPrefixedString("-dialog")]:Gr(this,Lr)}).build(),i=new Fr.a("div").setClasses(this.getPrefixedString("-dialog-container")).build();return Gr(this,Mr)&&i.appendChild(Gr(this,Mr)),Gr(this,_r)&&i.appendChild(Gr(this,_r)),Gr(this,$r)&&i.appendChild(Gr(this,$r)),n.appendChild(i),n}appendChildrens(e,...t){Object(Er.w)(t)&&t.forEach(t=>e.appendChild(t))}getPrefixedString(e){return Gr(this,Rr)+e}}Mr=new WeakMap,_r=new WeakMap,$r=new WeakMap,Rr=new WeakMap,Lr=new WeakMap,Wr=new WeakMap;var Yr,Vr,zr,Hr,qr,Qr,Kr,Xr,Jr=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Zr=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class eo{constructor(e,t,n){Yr.set(this,void 0),Vr.set(this,void 0),zr.set(this,void 0),Hr.set(this,void 0),qr.set(this,void 0),Jr(this,Yr,{yes:n.onYes,no:n.onNo,cancel:n.onCancel,ok:n.onOk}),this.content=n.message,this.title=n.title,this.prefix=e.setup.prefix,Jr(this,Vr,e),Jr(this,zr,t),this.reverse=!1,Jr(this,qr,null),this.closeStr=Zr(this,Vr).setup.prefix+"-close",this.iconStr=Zr(this,Vr).setup.prefix+"-icon",Jr(this,Hr,void 0)}getId(){return Zr(this,zr)}show(e){let t=document.getElementById(Zr(this,zr));Object(Er.w)(t)?this.updateElement(t):(t=this.createElement(),e.appendChild(t)),setTimeout(()=>{Jr(this,Hr,new Dr([t],Zr(this,Vr)));let e=Zr(this,Hr).on("closed",this.onClose.bind(this));Jr(this,qr,e.length>0?e[0]:null),Zr(this,Hr).emit("open")},100)}updateElement(e){let t=e.querySelector(`.${this.prefix}-dialog-title`),n=e.querySelector(`.${this.prefix}-dialog-body>p`);Zr(this,Vr).interactions.mutate(()=>{t&&(t.innerHTML=this.title),n&&(n.innerHTML=this.content)},null)}onClose(e){try{if(Object(Er.w)(e)&&e.state&&Zr(this,Yr)&&Object(Er.w)(Zr(this,Yr)[e.state])){let t=Zr(this,Yr)[e.state];t&&t()}}finally{null!=Zr(this,qr)&&(Zr(this,Hr)&&Zr(this,Hr).detach("closed",Zr(this,qr)),Jr(this,qr,null)),Jr(this,Hr,void 0)}}}Yr=new WeakMap,Vr=new WeakMap,zr=new WeakMap,Hr=new WeakMap,qr=new WeakMap;class to extends eo{constructor(e,t,n){var i;super(e,t,n),Qr.set(this,void 0),Jr(this,Qr,t),this.reverse=null!==(i=n.reverse)&&void 0!==i&&i}createElement(){let e=new Br(this.prefix,this.reverse);return e.createHeader(this.title,[],[new Fr.a("a").setClasses(this.prefix+"-icon").setAttributes({[this.closeStr]:"state: cancel",[this.iconStr]:"close"}).build()]),e.createBody([],[new Fr.a("p").build(this.content)]),e.createFooter([this.prefix+"-flex",this.prefix+"-right"],[new Fr.a("button").setClasses(this.prefix+"-button",this.prefix+"-margin-small-right").setAttributes({[this.closeStr]:"state: cancel"}).build("Cancel"),new Fr.a("button").setClasses(this.prefix+"-button",this.prefix+"-accent").setAttributes({[this.closeStr]:"state: ok"}).build("Ok")]),e.build(Zr(this,Qr))}}Qr=new WeakMap;class no extends eo{constructor(e,t,n){var i;super(e,t,n),Kr.set(this,void 0),Jr(this,Kr,t),this.content=n.message,this.title=n.title,this.prefix=e.setup.prefix,this.reverse=null!==(i=n.reverse)&&void 0!==i&&i}createElement(){let e=new Br(this.prefix,this.reverse);return e.createHeader(this.title,[]),e.createBody([],[new Fr.a("p").build(this.content)]),e.createFooter([this.prefix+"-flex",this.prefix+"-right"],[new Fr.a("button").setClasses(this.prefix+"-button",this.prefix+"-accent").setAttributes({[this.closeStr]:"state: ok"}).build("Ok")]),e.build(Zr(this,Kr))}}Kr=new WeakMap;class io extends eo{constructor(e,t,n){var i;super(e,t,n),Xr.set(this,void 0),Jr(this,Xr,t),this.content=n.message,this.title=n.title,this.prefix=e.setup.prefix,this.reverse=null!==(i=n.reverse)&&void 0!==i&&i}createElement(){let e=new Br(this.prefix,this.reverse);return e.createHeader(this.title,[],[new Fr.a("a").setClasses(this.prefix+"-icon").setAttributes({[this.closeStr]:"state: cancel",[this.iconStr]:"close"}).build()]),e.createBody([],[new Fr.a("p").build(this.content)]),e.createFooter([this.prefix+"-flex",this.prefix+"-right"],[new Fr.a("button").setClasses(this.prefix+"-button",this.prefix+"-margin-small-right").setAttributes({[this.closeStr]:"state: no"}).build("No"),new Fr.a("button").setClasses(this.prefix+"-button",this.prefix+"-accent").setAttributes({[this.closeStr]:"state: yes"}).build("Yes")]),e.build(Zr(this,Xr))}}Xr=new WeakMap;var ro,oo,ao,co,so,lo=n(16),uo=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},fo=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class mo{constructor(e){ro.set(this,void 0),oo.set(this,void 0),ao.set(this,void 0),co.set(this,void 0),so.set(this,void 0),uo(this,ro,e),uo(this,oo,new lo.a),fo(this,oo).setCallback(this.onMove.bind(this)),uo(this,so,void 0),uo(this,ao,!1),uo(this,co,null)}attach(){fo(this,oo).isAttached()||(fo(this,oo).attach(),uo(this,co,fo(this,ro).on(Nr.i.MOVE_LOCK,this.onMoveLock.bind(this))))}detach(){fo(this,oo).isAttached()&&(fo(this,oo).detach(),null!=fo(this,co)&&fo(this,ro).detach(Nr.i.MOVE_LOCK,fo(this,co)))}isAttached(){return fo(this,oo).isAttached()}onMove(e){if(!fo(this,ao))switch(e.type){case"down":uo(this,so,e);break;case"move":fo(this,so)&&(fo(this,ro).emit(Nr.i.GLOBAL_MOVE,null,fo(this,so)),uo(this,so,void 0)),fo(this,ro).emit(Nr.i.GLOBAL_MOVE,null,e);break;case"up":if(fo(this,so))return void uo(this,so,void 0);fo(this,ro).emit(Nr.i.GLOBAL_MOVE,null,e)}}onMoveLock(e){uo(this,ao,e)}}ro=new WeakMap,oo=new WeakMap,ao=new WeakMap,co=new WeakMap,so=new WeakMap;var ho,po,bo,vo,wo,go,yo,Eo,Oo=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},No=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},ko=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class jo{constructor(e,t,n){ho.set(this,void 0),po.set(this,void 0),bo.set(this,void 0),vo.set(this,void 0),wo.set(this,void 0),go.set(this,void 0),yo.set(this,void 0),Eo.set(this,void 0),No(this,ho,e),No(this,po,`.${t}-toast`),No(this,bo,t+"-toast"),No(this,vo,t+"-active"),No(this,wo,n),No(this,go,!1),No(this,yo,t+"-toast-animation-in"),No(this,Eo,t+"-toast-animation-out")}show(e){return Oo(this,void 0,void 0,(function*(){if(ko(this,go))return!1;No(this,go,!0);let t=document.querySelector(ko(this,po));return Object(Er.w)(t)||(t=document.createElement("div"),t.classList.add(ko(this,bo)),document.body.appendChild(t),yield Object(Er.E)(10)),ko(this,ho).mutate(()=>{t.textContent=e,t.classList.add(Nr.a.animProgress),t.classList.add(ko(this,yo))},this),yield Object(Er.E)(ko(this,wo)),ko(this,ho).mutate(()=>{t.classList.remove(Nr.a.animProgress),t.classList.remove(ko(this,yo)),t.classList.add(ko(this,vo))},this),yield Object(Er.E)(3e3),ko(this,ho).mutate(()=>{t.classList.add(Nr.a.animProgress),t.classList.add(ko(this,Eo))},this),setTimeout(()=>{ko(this,ho).mutate(()=>{t.classList.remove(Nr.a.animProgress),t.classList.remove(ko(this,Eo)),t.classList.remove(ko(this,vo))},this),No(this,go,!1)},ko(this,wo)),!0}))}}ho=new WeakMap,po=new WeakMap,bo=new WeakMap,vo=new WeakMap,wo=new WeakMap,go=new WeakMap,yo=new WeakMap,Eo=new WeakMap;var So,xo,Ao,To,Co,Io=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},Po=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Do=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Mo{constructor(e){So.set(this,void 0),xo.set(this,void 0),Ao.set(this,void 0),To.set(this,void 0),Co.set(this,void 0),Po(this,Co,e),Po(this,xo,jr.a.get("CollectionManager")),Po(this,So,[]),Po(this,Ao,!1),Po(this,To,"")}setElements(e){Po(this,So,e)}setToggle(e){Po(this,To,e)}addAnimationClass(e,t,n,i){t.classList.add(Nr.a.animProgress),e.classList.add(i),t.classList.add(n)}setFinalClasses(e,t,n,i){t.classList.remove(Nr.a.animProgress),e.classList.remove(i),t.classList.remove(n),e.classList.remove(Do(this,To)),t.classList.add(Do(this,To))}verifyIndex(e,t,n){return e>=0&&e!==t&&e<n}setCurrent(e,t){return Io(this,void 0,void 0,(function*(){return this.lock(),Do(this,xo).debug(`Switching index from: ${t} to ${e}`),t>-1&&Do(this,So)[t].classList.remove(Do(this,To)),Do(this,So)[e].classList.add(Do(this,To)),this.unlock(),!0}))}setCurrentWithAnimation(e,t,n,i,r){return Io(this,void 0,void 0,(function*(){this.lock(),Do(this,xo).debug(`Switching index from: ${r} to ${e}`);const o=Do(this,So)[r],a=Do(this,So)[e];return Do(this,Co).mutate(this.addAnimationClass,this,o,a,t,n),setTimeout(()=>{Do(this,Co).mutate(this.setFinalClasses,this,o,a,t,n),this.unlock()},i),!0}))}getCurrentIndex(){if(!Object(Er.w)(Do(this,To)))return-1;let e=this.count();for(let t=0;t<e;t++)if(Do(this,So)[t].classList.contains(Do(this,To)))return t;return-1}elements(){return Do(this,So)}check(){return Do(this,Ao)?(Do(this,xo).warning("Object locked. Operation in progress","Check"),!1):Object(Er.w)(Do(this,To))?!(this.count()<=0)||(Do(this,xo).warning("Elements list is empty","Check"),!1):(Do(this,xo).warning("Toggle is not set. Call setToggleClass","Check"),!1)}count(){return Do(this,So)?Do(this,So).length:-1}lock(){Po(this,Ao,!0)}unlock(){Po(this,Ao,!1)}}So=new WeakMap,xo=new WeakMap,Ao=new WeakMap,To=new WeakMap,Co=new WeakMap;var _o,$o,Ro,Lo=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},Wo=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Fo=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class Uo{constructor(e,t){_o.set(this,void 0),$o.set(this,void 0),Ro.set(this,void 0),Wo(this,_o,jr.a.get("CollectionManager")),Wo(this,Ro,new Mo(t)),Fo(this,Ro).setElements(e),Wo(this,$o,Date.now())}setToggle(e){Fo(this,Ro).setToggle(e)}setElements(e){Fo(this,Ro).setElements(e)}click(e){Fo(this,Ro).elements().forEach((t,n)=>{t.addEventListener("click",()=>{this.set(n).then(()=>{e&&e(t,n)})})})}next(){return Lo(this,void 0,void 0,(function*(){if(!Fo(this,Ro).check())return!1;let e=Fo(this,Ro).getCurrentIndex()+1;return this.set(e>=this.length()?0:e)}))}previous(){return Lo(this,void 0,void 0,(function*(){if(!Fo(this,Ro).check())return!1;let e=Fo(this,Ro).getCurrentIndex()-1;return this.set(e<0?this.length()-1:e)}))}set(e){return Lo(this,void 0,void 0,(function*(){let t=Fo(this,Ro).getCurrentIndex();return!(!Fo(this,Ro).check()||!Fo(this,Ro).verifyIndex(e,t,this.length()))&&Fo(this,Ro).setCurrent(e,t)}))}setWithAnimation(e,t,n,i){return Lo(this,void 0,void 0,(function*(){let r=Fo(this,Ro).getCurrentIndex();return!(!Fo(this,Ro).check()||!Fo(this,Ro).verifyIndex(e,r,this.length()))&&Fo(this,Ro).setCurrentWithAnimation(e,t,n,i,r)}))}getCurrentIndex(){return Fo(this,Ro).getCurrentIndex()}length(){return Fo(this,Ro).count()}refresh(){return this.length()>0&&Date.now()-Fo(this,$o)>36e4}}_o=new WeakMap,$o=new WeakMap,Ro=new WeakMap;var Go,Bo,Yo,Vo=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},zo=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},Ho=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class qo{constructor(e){Go.set(this,void 0),Bo.set(this,void 0),Yo.set(this,void 0),zo(this,Go,null!=e?e:[]),zo(this,Yo,jr.a.get("CuiPluginManager")),zo(this,Bo,[])}init(e){Ho(this,Yo).debug("Plugins initialization started: "+Ho(this,Go).length),zo(this,Bo,Ho(this,Go).filter(e=>Object(Er.w)(e.mutation))),Ho(this,Go).forEach(t=>{t.init(e),e.setup.plugins[t.description]=t.setup}),Ho(this,Yo).debug("Plugins have been initialized")}get(e){if(Object(Er.w)(e))return Ho(this,Go).find(t=>t.name===e)}onMutation(e){return Vo(this,void 0,void 0,(function*(){let t=[];return Ho(this,Bo).forEach(n=>{t.push(n.mutation(e))}),!(yield Promise.all(t)).find(e=>{})}))}}Go=new WeakMap,Bo=new WeakMap,Yo=new WeakMap;var Qo,Ko,Xo,Jo,Zo,ea,ta,na,ia,ra=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},oa=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},aa=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class ca{constructor(e,t,n){Qo.set(this,void 0),Ko.set(this,void 0),Xo.set(this,void 0),Jo.set(this,void 0),Zo.set(this,void 0),ea.set(this,void 0),ta.set(this,void 0),na.set(this,void 0),ia.set(this,void 0),Nr.l.prefix=e.prefix,Nr.l.logLevel=e.logLevel,oa(this,Zo,new qo(t)),oa(this,ea,null!=n?n:[]),oa(this,Jo,new Sr.a(e)),oa(this,Qo,jr.a.get("CuiInstance")),oa(this,ta,e.root),oa(this,na,new mo(aa(this,Jo).bus)),oa(this,Ko,void 0),oa(this,Xo,void 0),oa(this,ia,[])}init(){var e;if(aa(this,Qo).debug("Instance started","init"),!Object(Er.w)(window.MutationObserver))throw new xr.e("Mutation observer does not exists");oa(this,Xo,new jo(aa(this,Jo).interactions,aa(this,Jo).setup.prefix,null!==(e=aa(this,Jo).setup.animationTimeLong)&&void 0!==e?e:0)),oa(this,ia,aa(this,ea).map(e=>e.attribute));const t=Object(Er.w)(aa(this,ia))?aa(this,ta).querySelectorAll(Object(Er.A)(aa(this,ia))):null;if(Object(Er.w)(t)){aa(this,Qo).debug(`Initiating ${t.length} elements`);try{t.forEach(e=>{Object(Er.C)(e,aa(this,ea),aa(this,ia),aa(this,Jo))})}catch(e){aa(this,Qo).exception(e)}}return aa(this,Qo).debug("Init plugins","init"),aa(this,Zo).init(aa(this,Jo)),Object(Er.b)(aa(this,ea),aa(this,ia))&&(aa(this,Qo).debug("Init mutation observer","init"),oa(this,Ko,new kr.b(aa(this,ta),aa(this,Jo))),aa(this,Ko).setComponents(aa(this,ea)).setAttributes(aa(this,ia)),aa(this,Ko).setPlugins(aa(this,Zo)),aa(this,Ko).start()),aa(this,Qo).debug("Setting CSS globals","init"),aa(this,Jo).interactions.mutate(()=>{aa(this,Jo).setProperty(Nr.g.animationTimeLong,aa(this,Jo).setup.animationTimeLong+"ms"),aa(this,Jo).setProperty(Nr.g.animationTime,aa(this,Jo).setup.animationTime+"ms"),aa(this,Jo).setProperty(Nr.g.animationTimeShort,aa(this,Jo).setup.animationTimeShort+"ms")},null),aa(this,na).attach(),aa(this,Jo).bus.emit(Nr.i.INSTANCE_INITIALIZED,null),this}finish(){aa(this,Ko)&&aa(this,Ko).stop(),aa(this,na).detach(),aa(this,Jo).bus.emit(Nr.i.INSTANCE_FINISHED,null)}get(e){const t=this.all(e);if(!t)return;return new Dr(t,aa(this,Jo))}collection(e){const t=this.all(e);if(!Object(Er.w)(t))return;return new Uo(t,aa(this,Jo).interactions)}toast(e){return ra(this,void 0,void 0,(function*(){return!!Object(Er.b)(e,aa(this,Xo))&&aa(this,Xo).show(e)}))}select(e){return document.querySelector(e)}all(e){const t=document.querySelectorAll(e);if(Object(Er.w)(t))return[...t]}getUtils(){return aa(this,Jo)}on(e,t,n){Object(Er.b)(e,t)||aa(this,Qo).error("Incorrect arguments","on"),aa(this,Jo).bus.on(e,t,n)}detach(e,t){Object(Er.b)(e,t)||aa(this,Qo).error("Incorrect arguments","detach"),aa(this,Jo).bus.detach(e,t)}detachAll(e){Object(Er.w)(e)||aa(this,Qo).error("Incorrect arguments","detachAll"),aa(this,Jo).bus.detachAll(e)}emit(e,t,...n){if(!Object(Er.b)(e,t))return void aa(this,Qo).warning("Not enough data to emit event","emit");let i=("string"==typeof t?document.querySelector(t):t).$cuid;Object(Er.w)(i)?aa(this,Jo).bus.emit(e,i,...n):aa(this,Qo).warning("Element is not a cUI element","emit")}alert(e,t,n){let i=class{static get(e,t,n,i){return"Info"===t?new no(i,e,n):"YesNoCancel"===t?new io(i,e,n):"OkCancel"===t?new to(i,e,n):void 0}}.get(e,t,n,aa(this,Jo));i?i.show(aa(this,ta)):aa(this,Qo).error("Possibly incorrect alert type")}getPlugin(e){return aa(this,Zo).get(e)}createCuiElement(e,t,n){return Object(Er.w)(t)&&aa(this,ia).includes(t)?!!Object(Er.a)(e,t,n)||(aa(this,Qo).error("Element cannot be created: Missing data"),!1):(aa(this,Qo).error("Element cannot be created: Unknown attribute"),!1)}}Qo=new WeakMap,Ko=new WeakMap,Xo=new WeakMap,Jo=new WeakMap,Zo=new WeakMap,ea=new WeakMap,ta=new WeakMap,na=new WeakMap,ia=new WeakMap;var sa,la=n(14),ua=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},da=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},fa=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class ma{constructor(){sa.set(this,void 0),da(this,sa,window)}init(e){var t,n;return ua(this,void 0,void 0,(function*(){let i=Object.assign(Object.assign({},new Or.b),e.setup);const r=i.app,o={result:!1};if(Object(Er.w)(fa(this,sa)[r]))return o.message="Instance is already initialized",o;if(Object(Er.w)(e.icons))for(let t in e.icons)Nr.j[t]=e.icons[t];if(Object(Er.w)(e.swipeAnimations))for(let t in e.swipeAnimations)la.a[t]=e.swipeAnimations[t];try{fa(this,sa)[r]=new ca(i,null!==(t=e.plugins)&&void 0!==t?t:[],null!==(n=e.components)&&void 0!==n?n:[]),fa(this,sa)[r].init()}catch(e){return console.error(e),o.message="An error occured during initialization",o}return o.result=!0,o}))}}sa=new WeakMap;var ha,pa=n(32),ba=n(33),va=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{s(i.next(e))}catch(e){o(e)}}function c(e){try{s(i.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((i=i.apply(e,t||[])).next())}))},wa=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},ga=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};class ya{constructor(){ha.set(this,void 0),wa(this,ha,!1)}init(e){var t,n;return va(this,void 0,void 0,(function*(){if(ga(this,ha))return console.log("Module is already initialized"),!1;const i=new ma,r=Object(ba.a)({autoLight:!0,autoPrint:!0}),o=Object(pa.a)({prefix:null===(t=e.setup)||void 0===t?void 0:t.prefix});let a=r;e.plugins&&(a=Object.assign(Object.assign({},r),e.plugins));let c=yield i.init({setup:e.setup,icons:e.icons,plugins:a,components:Object(Er.w)(e.components)?[...o,...e.components]:o,swipeAnimations:e.swipeAnimations});return c.result?(wa(this,ha,!0),!0):(console.error(`A cUI instance failed to initialize: [${null!==(n=c.message)&&void 0!==n?n:"#"}]`),console.log("Cui Light failed to init"),!1)}))}}function Ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(n),!0).forEach((function(t){Na(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ha=new WeakMap;var ka=document.getElementById("loading-indicator"),ja=document.getElementById("loading-screen");function Sa(e){window.requestAnimationFrame?window.requestAnimationFrame((function(){ka.textContent=e})):ka.textContent=e}Promise.all([fetch("/app_settings.json").then((function(e){return e.json()})),fetch("/static/icons/all.json").then((function(e){return e.json()}))]).then((function(e){!function(e,t){Sa("Application is initialing!");var n=document.getElementById("root"),o=new yr.a;o.logLevel="production"===(null==e?void 0:e.mode)?"error":"debug",o.root=n,o.busSetup=[{name:"MoveQueue",eventsDef:["global_move"],handler:"tasked",priority:0},{name:"InteractQueue",eventsDef:["open","close","switch"],handler:"tasked",priority:0},{name:"ResponsesQueue",eventsDef:["opened","closed","switched","resize","offset"],handler:"tasked",priority:1},{name:"GlobalSimple",eventsDef:["keydown","scroll","intersection","windowclick"],handler:"tasked",priority:2}];var a={setup:o,icons:Oa(Oa({},Hi.a),t)},c=new mr,s=new tn(c),l=new vr,u=new He(l),d=new gr,f=new Oi(d);window.$flow=qi.FlowFactory.create(s.getActions()),window.$actionsFlow=qi.FlowFactory.create(u.getActions()),window.$settingsFlow=qi.FlowFactory.create(f.getActions()),setTimeout((function(){(new ya).init(a).then((function(t){console.log(e.mode),r.render(i.createElement(Vi,{mode:e.mode}),n),ja.remove(),n.classList.remove("hidden")}))}),100)}(e[0],e[1])})).catch((function(){ka.classList.add("error"),Sa("Application cannot be loaded!")}))}});
//# sourceMappingURL=stopwatch.index.js.map