{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app/push/push.ts","webpack:///./src/ui/components/home/list.tsx","webpack:///./src/ui/components/home/home.tsx","webpack:///./src/ui/error.tsx","webpack:///./src/ui/components/common/NavbarLink.tsx","webpack:///./src/ui/components/navbar/navbar.tsx","webpack:///./src/ui/hooks/NavbarTitle.tsx","webpack:///./src/ui/components/offacanvas/offcanvas.tsx","webpack:///./src/ui/components/footer/Footer.tsx","webpack:///./src/ui/components/tutorial/TutorialDialog.tsx","webpack:///./src/ui/app.tsx","webpack:///./src/core/services/storage.tsx","webpack:///./src/core/services/push.ts","webpack:///./src/core/services/app.ts","webpack:///../cui-light-app/dist/esm/core/models/setup.js","webpack:///./src/index.tsx","webpack:///./src/ui/imports.tsx","webpack:///./src/ui/components/common/TriangleShadow.tsx","webpack:///./src/ui/routes.ts","webpack:///./src/api/routes/routes.ts","webpack:///./src/ui/components/common/Loading.tsx","webpack:///./src/core/validators.ts","webpack:///./src/core/models.ts","webpack:///./src/ui/components/common/BpdDialog.tsx","webpack:///./src/app/flow/trainings.ts","webpack:///./src/ui/hooks/AppSettings.ts","webpack:///./src/app/flow/actions.ts","webpack:///./src/core/statics.ts","webpack:///./src/app/flow/settings.ts","webpack:///./src/core/helpers.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","p","jsonpScriptSrc","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","PUSH_ACTIONS","SET_NAVBAR_TITLE","SET_NAVBAR_BG","PushServiceFlow","service","this","title","setNavbarTitle","bg","TrainingList","props","className","list","map","item","index","id","TrainingListItem","onDelete","training","duration","history","useHistory","React","deleteSubscription","$flow","subscribe","finish","perform","unsubscribe","onClick","MAPPIGNS","renderUrl","toUpperCase","rounds","reduce","current","actions","calculateDuration","getActionsDuration","getUserDisplayNotation","to","cui-icon","cui-tooltip","Home","state","updateList","onDeleteTrainingComplete","deleteTraining","setPageTitle","subscription","onDeleteSubscription","elementIdx","findIndex","$cui","alert","onYes","showMessage","flag","setState","TriangleShadow","NoTrainings","ErrorRoute","NavbarLink","shouldClose","emit","exact","activeClassName","url","isIcon","IconNavLabel","icon","RouteNavbarLink","route","class","Navbar","currentLocation","useLocation","currentSite","darkMode","soundEnabled","location","setLocation","init","setTitle","onUpdate","pushServiceTitleSub","$push","useNavbarTitle","split","pathname","toLocaleUpperCase","goBack","cui-open","getName","OffCanvas","cui-off-canvas","href","cui-close","getRoute","Footer","appSettings","useAppSettings","Date","getFullYear","AppRunningModes","DEVELOPMENT","getUrl","TutorialDialog","isLast","setIsLast","switchElement","onSwitched","is","ids","on","forEach","detach","BpdDialog","body","cui-switch","footer","cui-switcher","PerfromTraining","EditTraining","StopwatchActionsComponent","StopwatchSettings","About","DevTools","Help","AppBase","path","App","welcomeDialogHandle","onDarkMode","setDarkMode","onWelcomeScreen","welcomeDialogCloseEventIds","onWelcomeDialogClose","$settingsFlow","SETTINGS_FLOW_ACTIONS","SET_IS_WELCOME","darkModeSub","GET_DARK_MODE","welcomeScreenGetSub","GET_IS_WELCOME","fallback","Loading","modifiers","render","component","TrainingsStorageService","BpdStorage","TrainingValidator","getTrainings","validate","onAction","TrainingState","DRAFT","clearDraft","getNextIndex","PUBLISH","idx","addTraining","find","trainings","getAny","setAny","removeItem","getNumber","NaN","setNumber","status","callback","setTrainings","ActionStorageService","ActionValidator","getActionsFromStorage","action","existingIndex","getIndex","setActionsToStorage","log","includes","val","SettingsService","settings","getSettings","setSettings","isWelcome","DefaultSettings","PushService","AppSettingsService","CuiSetupInit","prefix","app","logLevel","interaction","animationTime","animationTimeShort","animationTimeLong","cacheSize","autoLightMode","scrollThreshold","resizeThreshold","root","busSetup","development","loadingIndicator","getElementById","loading","setText","text","requestAnimationFrame","textContent","fetch","then","response","json","icons","rootElement","setup","eventsDef","handler","priority","cuiSetup","components","CuiIconComponent","CuiTooltipComponent","CuiCircleComponent","CuiSpinnerComponent","CuiOpenComponent","CuiCloseComponent","CuiDialogComponent","CuiOffCanvasComponent","CuiAccordionComponent","CuiDropComponenet","CuiSwitchComponent","CuiSwitcherComponent","CuiSliderComponent","plugins","CuiAutoLightModePlugin","autoLight","CuiAutoPrintModePlugin","autoPrint","CuiToastPlugin","CuiAlertsPlugin","CuiIconsPack","traningsFlow","TrainingsFlow","actionsService","actionsFlow","ActionsFlow","settingsService","settingsFlow","SettingsFlow","pushService","$appSettings","FlowFactory","getActions","$actionsFlow","CuiInitializer","ReactDOM","remove","classList","onDataFetch","add","routes","attributes","uri","enumerateObject","prop","replace","description","classes","ValidatorBase","errors","performValidation","errorMsg","ERROR_CODES","e0100","e0101","e0102","RoundValidator","e0200","e0202","e0201","e0300","e0301","e0302","e0303","CompleteTrainingValidator","validateRounds","e0001","len","validateActions","StopwatchActionType","EXERCISE","BREAK","COOLDOWN","WARMUP","NEW","PRODUCTION","cui-dialog","ACTIONS","GET_ALL_TRAININGS","ADD_TRAINING","UPDATE_TRAINING","DELETE_TRAINING","GET_TRAINING","CLEAR_TRAININGS","GET_DRAFT","SET_DRAFT","CLEAR_DRAFT","GET_FOR_EDIT","getAllTrainings","updateTraining","getTraining","getDraft","setDraft","draft","clearTrainings","ACTIONS_FLOW_ACTIONS","GET_ALL","SET_ACTION","REMOVE_ACTION","CLEAR_ACTIONS","getAllActions","setAction","removeAction","clearActions","DefaultActions","removable","editable","e0000","getDefaultRoundName","simpleView","countdownView","APP_NAME","SET_DARK_MODE","GET_SOUND_ENABLED","SET_SOUND_ENABLED","SET_SETTINGS","GET_SETTINGS","GET_SIMPLE_VIEW","CLEAR_SETTINGS","isSoundEnabled","setSoundEnabled","isDarkMode","isWelcomeSet","setIsWelcome","clearSettings","showToast","toast","Number","parseInt","calcDisplayTimer","seconds","getFormattedDuration","getDisplayTimerValue","format","restSeconds","Math","floor","secondsLeft","getUtils","setLightMode","calculateProgress","max","getTotalDuration","getBgClassByType","getTextClassByActionType","insert","collection","move","from","size","amount","el","newLength","newTo","groupActionsByType","out","buildQuickRoundActions","exerciseCount","stopwatchActions","warmup","exercise","cooldown","createArray","Array","isArray"],"mappings":"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","file":"stopwatch.index.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"stopwatch.chunk.\" + ({}[chunkId]||chunkId) + \".\" + {\"2\":\"59b505dd89bc6f9e8754\",\"3\":\"57b8198c1db5cefee896\",\"4\":\"caf0ef9e6e29b34ad5f6\",\"5\":\"c1923a1178fbb7e4c98f\",\"6\":\"d3d48400919147de212e\",\"7\":\"8f6eb8665dc75ea4b883\",\"8\":\"f09265e3fe7bb8026382\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"2YZa\",1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { IPushService } from \"src/core/services/interfaces\";\r\n\r\nexport const PUSH_ACTIONS = {\r\n    SET_NAVBAR_TITLE: \"SET_NAVBAR_TITLE\",\r\n    SET_NAVBAR_BG: \"SET_NAVBAR_BG\",\r\n}\r\n\r\nexport type PushServiceInput = string;\r\nexport type PushServiceOutput = string;\r\n\r\n\r\nexport class PushServiceFlow {\r\n    #service: IPushService;\r\n    constructor(service: IPushService) {\r\n        this.#service = service;\r\n    }\r\n\r\n    getActions() {\r\n        return {\r\n            [PUSH_ACTIONS.SET_NAVBAR_TITLE]: (title: string) => {\r\n                return this.#service.setNavbarTitle(title);\r\n            },\r\n            [PUSH_ACTIONS.SET_NAVBAR_BG]: (bg: string) => {\r\n                return bg;\r\n            }\r\n        }\r\n    }\r\n}","import * as React from \"react\";\r\nimport { Round, Training } from \"../../../core/models\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { calculateDuration, getUserDisplayNotation } from \"../../../core/helpers\";\r\nimport { MAPPIGNS } from \"../../routes\";\r\n\r\nconst delays = [' delay-100', ' delay-200', ' delay-300', ' delay-400']\r\n\r\nexport interface TrainingListProps {\r\n    list: Training[];\r\n    onDelete: (id: string) => void;\r\n}\r\n\r\nexport interface TrainingListItemProps {\r\n    data: Training;\r\n    index: number;\r\n    onDelete: (id: string) => void;\r\n}\r\n\r\nexport function TrainingList(props: TrainingListProps) {\r\n    return <ul className=\"cui-list cui-hover\">\r\n        {props.list && props.list.map((item, index) => {\r\n            return <li key={item.id} className=\"stopwatch-content-width cui-corner-round\"><TrainingListItem data={item} onDelete={props.onDelete} index={index} /></li>\r\n        })}\r\n    </ul>\r\n}\r\n\r\nexport function TrainingListItem(props: TrainingListItemProps) {\r\n    const deleteTrainingAction = \"DELETE_TRAINING\";\r\n    let history = useHistory();\r\n\r\n    function getActionsDuration(training: Training) {\r\n        return training.rounds.reduce<[number, number]>((result: [number, number], current: Round) => {\r\n            return [result[0] + current.actions.length, result[1] + calculateDuration(current.actions)];\r\n        }, [0, 0]);\r\n    }\r\n\r\n    function getDetails(training: Training) {\r\n        const [actions, duration] = getActionsDuration(training);\r\n        return getUserDisplayNotation(duration);//`${duration} seconds`;\r\n    }\r\n\r\n    function onItemClick() {\r\n        history.push(MAPPIGNS.renderUrl(\"perform\", { id: props.data.id }))\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        const deleteSubscription = window.$flow.subscribe(deleteTrainingAction).finish((result) => {\r\n            window.$flow.perform(\"GET_TRAININGS\")\r\n        });\r\n\r\n        return () => {\r\n            window.$flow.unsubscribe(deleteTrainingAction, deleteSubscription.id)\r\n        }\r\n    })\r\n\r\n    return <div className={\"cui-flex cui-middle cui-animation-fade-in cui-padding-bottom cui-padding-top\"}>\r\n        <div className=\"cui-flex-grow\" onClick={onItemClick}>\r\n            <div className=\"cui-flex cui-middle cui-nowrap\">\r\n                <div className=\"training-list-item-icon\">\r\n                    <span className=\"cui-text-bold\">{props.data.name[0].toUpperCase()}</span>\r\n                </div>\r\n                <div className=\"cui-flex-grow cui-margin-left\">\r\n                    <span>{props.data.name}</span>\r\n                    <div className=\"cui-text-muted cui-text-truncate cui-overflow-hidden\">\r\n                        <span>{getDetails(props.data)}</span>\r\n                    </div></div>\r\n            </div>\r\n        </div>\r\n        <div className=\"cui-flex-shrink\">\r\n            <div>\r\n                <Link to={MAPPIGNS.renderUrl(\"editTraining\", { \"id\": props.data.id })} className=\"cui-icon-button\" cui-icon=\"edit\" cui-tooltip=\"Edit training\"></Link>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n","import * as React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { TrainingList } from \"./list\";\r\nimport { Training, WarmUp, CoolDown, Exercise } from \"../../../core/models\";\r\nimport { FlowTask } from \"../../../../node_modules/bpd-flow/dist/index\";\r\nimport { setPageTitle, showMessage } from \"../../../core/helpers\";\r\nimport { MAPPIGNS } from \"../../routes\";\r\nimport { TriangleShadow } from \"../common/TriangleShadow\";\r\n\r\nexport interface HomeProps {\r\n    site?: string;\r\n}\r\n\r\nexport interface HomeState {\r\n    list: Training[];\r\n}\r\n\r\nexport class Home extends React.Component<any, HomeState> {\r\n    list: Training[];\r\n    subscription: FlowTask<Training[]>\r\n    onDeleteSubscription: FlowTask<boolean>;\r\n    state: HomeState;\r\n    constructor(props: HomeProps) {\r\n        super(props);\r\n        this.state = {\r\n            list: []\r\n        }\r\n\r\n        this.updateList = this.updateList.bind(this);\r\n        this.onDeleteTrainingComplete = this.onDeleteTrainingComplete.bind(this);\r\n        this.deleteTraining = this.deleteTraining.bind(this);\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        setPageTitle(\"Home\");\r\n        this.subscription = window.$flow.subscribe(\"GET_ALL_TRAININGS\");\r\n        this.subscription.finish(this.updateList);\r\n        this.onDeleteSubscription = window.$flow.subscribe(\"DELETE_TRAINING\", { finish: this.onDeleteTrainingComplete })\r\n        window.$flow.perform(\"GET_ALL_TRAININGS\");\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.$flow.unsubscribe(\"GET_ALL_TRAININGS\", this.subscription.id);\r\n        window.$flow.unsubscribe(\"DELETE_TRAINING\", this.onDeleteSubscription.id);\r\n    }\r\n\r\n    deleteTraining(id: string) {\r\n        let list = [...this.state.list];\r\n        let elementIdx = list.findIndex(item => item.id === id);\r\n        if (elementIdx > -1) {\r\n            window.$cui.alert(\"delete-training-dialog\", \"YesNoCancel\", {\r\n                title: \"Delete training\",\r\n                message: \"Do you really want to delete training: \" + list[elementIdx].name + \"?\",\r\n                onYes: () => {\r\n                    window.$flow.perform(\"DELETE_TRAINING\", id)\r\n                }\r\n            })\r\n        } else {\r\n            showMessage(\"Delete training\", \"We cannot remove this training. Identified doesn't match.\")\r\n        }\r\n\r\n\r\n    }\r\n\r\n    onDeleteTrainingComplete(flag: boolean) {\r\n        if (flag) {\r\n            window.$flow.perform(\"GET_ALL_TRAININGS\");\r\n        } else {\r\n            showMessage(\"Delete training\", \"Service could not remove training\")\r\n        }\r\n    }\r\n\r\n    updateList(list: Training[]) {\r\n        this.setState({\r\n            ...this.state,\r\n            list: list\r\n        });\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return <div className=\"stopwatch-page-layout\" >\r\n            <div className=\"stopwatch-page-top \">\r\n                <div className=\"cui-container cui-center cui-background-default cui-padding-large-vertical\">\r\n                    <div>\r\n                        <span className=\"cui-icon stopwatch-icon\" cui-icon=\"stopwatch_7\"></span>\r\n                        <h1 className=\"cui-h1 cui-text-center cui-margin-small-top stopwatch-title\">Stopwatch</h1>\r\n                    </div>\r\n                </div>\r\n                <TriangleShadow />\r\n            </div>\r\n            <div className=\"stopwatch-page-bottom\">\r\n                <div className=\"stopwatch-home-list cui-overflow-y-auto\">\r\n                    {this.state.list.length > 0 ? <TrainingList list={this.state.list} onDelete={this.deleteTraining} /> : <NoTrainings />}\r\n                </div>\r\n            </div>\r\n            <div className=\"cui-position-float cui-position-bottom cui-position-center cui-margin-large-bottom app-float-bottom z-index-100\">\r\n                <Link to={MAPPIGNS.renderUrl(\"newTraining\")} className=\"cui-icon-button cui-large cui-background-default cui-box-shadow\" cui-icon=\"plus\"></Link>\r\n            </div>\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport function NoTrainings() {\r\n    return <div className=\"cui-container cui-center\">\r\n        <p className=\"cui-text-muted cui-text-center\">There are no trainings recorded. <Link className=\"cui-link cui-accent\" to={MAPPIGNS.renderUrl(\"newTraining\")}>Add new</Link> training to start your execises!</p>\r\n    </div>;\r\n}\r\n\r\n\r\n{/* <div className=\"stopwatch-page-layout\" >\r\n    <div className=\"stopwatch-page-top \">\r\n        <div className=\"cui-container cui-center cui-background-default\">\r\n            <div>\r\n                <span className=\"cui-icon stopwatch-icon\" cui-icon=\"stopwatch_7\"></span>\r\n                <h1 className=\"cui-h1 cui-text-center cui-margin-small-top stopwatch-title\">Stopwatch</h1>\r\n            </div>\r\n        </div>\r\n        <TriangleShadow />\r\n    </div>\r\n    <div className=\"stopwatch-page-bottom\">\r\n        <div className=\"stopwatch-home-list cui-overflow-y-auto\">\r\n            {this.state.list.length > 0 ? <TrainingList list={this.state.list} onDelete={this.deleteTraining} /> : <NoTrainings />}\r\n        </div>\r\n    </div>\r\n    <div className=\"cui-position-float cui-position-bottom cui-position-center cui-margin-large-bottom app-float-bottom z-index-100\">\r\n        <Link to={MAPPIGNS.renderUrl(\"newTraining\")} className=\"cui-icon-button cui-large cui-background-default cui-box-shadow\" cui-icon=\"plus\"></Link>\r\n    </div>\r\n</div>; */}","import * as React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport interface ErrorProps {\r\n}\r\n\r\n// 'HelloProps' describes the shape of props.\r\n// State is never set so we use the '{}' type.\r\nexport class ErrorRoute extends React.Component<ErrorProps, {}> {\r\n    constructor(props: ErrorProps) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        return <div className=\"cui-section cui-flex-center cui-height-viewport-1-2\">\r\n            <div className=\"cui-card cui-large\">\r\n                <div className=\"cui-card-header cui-text-error\">\r\n                    <span className=\"cui-card-title\">Error</span>\r\n                </div>\r\n                <div className=\"cui-card-body\">\r\n                    It appears that page you looking for does not exist.\r\n                    Try to look for it again or go back to our Home page\r\n                </div>\r\n                <div className=\"cui-card-footer cui-flex cui-right\">\r\n                    <Link to=\"/\" className=\"cui-link\">Go Home</Link>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    }\r\n}","import * as React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { RouteDetails } from \"src/api/routes/routes\";\r\n\r\nexport interface NavbarLinkProps {\r\n    url: string;\r\n    name: string;\r\n    icon?: string;\r\n}\r\n\r\nexport interface NavbarLinkBase {\r\n    isIcon?: boolean;\r\n    shouldClose?: boolean;\r\n    class?: string;\r\n}\r\n\r\nexport class NavbarLink extends React.Component<NavbarLinkProps & NavbarLinkBase, {}> {\r\n    constructor(props: NavbarLinkProps & NavbarLinkBase) {\r\n        super(props);\r\n        this.onClick = this.onClick.bind(this);\r\n    }\r\n\r\n    onClick() {\r\n        if (this.props.shouldClose) {\r\n            let offcanvas = window.$cui.get(\"#app-offcanvas\");\r\n            offcanvas.emit('close');\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <NavLink exact activeClassName=\"cui-active\" className={this.props.class} to={this.props.url} onClick={this.onClick}>{this.props.isIcon ? <IconNavLabel name={this.props.name} icon={this.props.icon} /> : this.props.name}</NavLink>;\r\n    }\r\n}\r\n\r\nexport interface RouteNavbarLinkProps {\r\n    route?: RouteDetails;\r\n    url?: string;\r\n}\r\n\r\nexport function RouteNavbarLink(props: RouteNavbarLinkProps & NavbarLinkBase) {\r\n    if (!props.route) {\r\n        return (<span className=\"cui-text-error\">Unknown</span>)\r\n    }\r\n    return (<NavbarLink class={props.class} isIcon={props.isIcon} shouldClose={props.shouldClose} icon={props.route.icon} name={props.route.name} url={props.url ?? props.route.url} />);\r\n}\r\n\r\n\r\nexport interface LinkLabelProps {\r\n    name: string;\r\n    icon: string;\r\n}\r\n\r\nexport function IconNavLabel(props: LinkLabelProps) {\r\n    return (<span className=\"cui-flex cui-middle\"><span cui-icon={props.icon}></span><span className=\"cui-margin-small-left\">{props.name}</span></span>)\r\n}\r\n\r\nexport function SimpleNavLabel(props: LinkLabelProps) {\r\n    return (<span>{props.name}</span>)\r\n}","import * as React from \"react\";\r\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\r\nimport { setNavbarTitle } from \"../../../core/helpers\";\r\nimport { PUSH_ACTIONS } from \"../../../app/push/push\";\r\nimport { MAPPIGNS } from \"../../routes\";\r\nimport { NavbarLink } from \"../common/NavbarLink\";\r\nimport { useNavbarTitle } from \"../../../ui/hooks/NavbarTitle\";\r\n\r\nexport interface NavbarState {\r\n    currentSite: string;\r\n    darkMode: boolean;\r\n    soundEnabled: boolean\r\n}\r\n\r\nexport interface NavbarProps {\r\n    site?: string;\r\n    location?: any;\r\n}\r\n\r\nexport function Navbar(props: NavbarProps) {\r\n    const currentLocation = useLocation();\r\n    const [state, setState] = React.useState<NavbarState>({\r\n        currentSite: \"\",\r\n        darkMode: false,\r\n        soundEnabled: false,\r\n    });\r\n    const [location, setLocation] = React.useState(\"\")\r\n    const title = useNavbarTitle(\"\");\r\n    const history = useHistory();\r\n\r\n    // function onTitleUpdate(value: string): void {\r\n    //     setState({\r\n    //         ...state,\r\n    //         currentSite: value\r\n    //     })\r\n    // }\r\n\r\n    React.useEffect(() => {\r\n        let split = currentLocation.pathname.split('/');\r\n        setLocation(split.length > 1 ? split[1].toLocaleUpperCase() : \"\")\r\n        // const pushServiceTitleSub = window.$push.subscribe(PUSH_ACTIONS.SET_NAVBAR_TITLE, { finish: onTitleUpdate })\r\n\r\n        return () => {\r\n            //window.$push.unsubscribe(PUSH_ACTIONS.SET_NAVBAR_TITLE, pushServiceTitleSub.id);\r\n        }\r\n    }, [currentLocation])\r\n    return <nav className={\"cui-navbar cui-sticky cui-box-shadow-remove stopwatch-layout-navigation\"}>\r\n        <div className=\"cui-navbar-left cui-width-1-1 cui-width-auto--m cui-flex cui-middle cui-between\" id=\"navbar-left\">\r\n            <ul>\r\n                {location && <><li><a cui-icon=\"chevron_small_left\" onClick={() => { history.goBack() }} ></a></li>\r\n                    <li><Link className=\"cui-icon\" to={MAPPIGNS.renderUrl(\"home\")} cui-icon=\"stopwatch_small_1\"></Link></li>\r\n                    <li><span>{title}</span></li>\r\n                </>}\r\n            </ul>\r\n            <a className=\"cui-icon cui-padding cui-button cui-hidden--m\" cui-icon=\"menu\" cui-open=\"target: #app-offcanvas\"></a>\r\n        </div>\r\n\r\n        <ul className=\"cui-navbar-right cui-unhidden--m\">\r\n            <li><NavbarLink class=\"cui-navbar-item\" url={MAPPIGNS.renderUrl(\"home\")} name={MAPPIGNS.getName(\"home\")} /></li>\r\n            <li><NavbarLink class=\"cui-navbar-item\" url={MAPPIGNS.renderUrl(\"actions\")} name={MAPPIGNS.getName(\"actions\")} /></li>\r\n            <li><NavbarLink class=\"cui-navbar-item\" url={MAPPIGNS.renderUrl(\"settings\")} name={MAPPIGNS.getName(\"settings\")} /></li>\r\n            <li><NavbarLink class=\"cui-navbar-item\" url={MAPPIGNS.renderUrl(\"help\")} name={MAPPIGNS.getName(\"help\")} /></li>\r\n            <li><NavbarLink class=\"cui-navbar-item\" url={MAPPIGNS.renderUrl(\"about\")} name={MAPPIGNS.getName(\"about\")} /></li>\r\n        </ul>\r\n    </nav>\r\n}","import * as React from \"react\";\r\nimport { PUSH_ACTIONS } from \"../../app/push/push\";\r\n\r\nexport function useNavbarTitle(init: string): string {\r\n    const [title, setTitle] = React.useState(init);\r\n\r\n    function onUpdate(value: string) {\r\n        setTitle(value);\r\n    }\r\n    React.useEffect(() => {\r\n        const pushServiceTitleSub = window.$push.subscribe(PUSH_ACTIONS.SET_NAVBAR_TITLE, { finish: onUpdate })\r\n        return () => {\r\n            window.$push.unsubscribe(PUSH_ACTIONS.SET_NAVBAR_TITLE, pushServiceTitleSub.id);\r\n        }\r\n    })\r\n    return title;\r\n}","import * as React from \"react\";\r\nimport { ElementManager } from \"../../../../node_modules/cui-light/dist/index\";\r\nimport { MAPPIGNS } from \"../../routes\";\r\nimport { NavbarLink, RouteNavbarLink } from \"../common/NavbarLink\";\r\n\r\nexport interface OffCanvasProps {\r\n}\r\n\r\n// 'HelloProps' describes the shape of props.\r\n// State is never set so we use the '{}' type.\r\nexport class OffCanvas extends React.Component<OffCanvasProps, {}> {\r\n    constructor(props: OffCanvasProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return <div className=\"cui-off-canvas\" id=\"app-offcanvas\" cui-off-canvas=\"escClose: y; outClose: y\">\r\n            <div className=\"cui-off-canvas-container cui-card off-canvas-layout cui-flex cui-flex-direction-column\">\r\n                <div className=\"cui-card-header cui-flex cui-middle cui-right cui-width-1-1\">\r\n                    <a href=\"#\" className=\"cui-icon\" cui-icon=\"close\" cui-close=\"\"></a>\r\n                </div>\r\n                <div className=\"off-canvas-content cui-card-body cui-flex-grow cui-flex cui-middle cui-width-1-1\">\r\n                    <div className=\"cui-width-1-1\">\r\n                        <h3 className=\"cui-h3 cui-text-center\">Menu</h3>\r\n                        <ul className=\"cui-list cui-highlight cui-accent cui-margin-top\">\r\n                            <li><RouteNavbarLink route={MAPPIGNS.getRoute(\"home\")} shouldClose={true} isIcon={true} /></li>\r\n                            <li><RouteNavbarLink route={MAPPIGNS.getRoute(\"actions\")} shouldClose={true} isIcon={true} /></li>\r\n                            <li><RouteNavbarLink route={MAPPIGNS.getRoute(\"settings\")} shouldClose={true} isIcon={true} /></li>\r\n                            <li><RouteNavbarLink route={MAPPIGNS.getRoute(\"help\")} shouldClose={true} isIcon={true} /></li>\r\n                            <li><RouteNavbarLink route={MAPPIGNS.getRoute(\"about\")} shouldClose={true} isIcon={true} /></li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n}","import * as React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { MAPPIGNS } from '../../../ui/routes';\r\nimport { AppRunningModes } from '../../../core/models';\r\nimport { useAppSettings } from '../../../ui/hooks/AppSettings';\r\n\r\nexport interface FooterProps {\r\n    mode: string;\r\n}\r\n\r\nexport function Footer(props: FooterProps) {\r\n    const appSettings = useAppSettings();\r\n    function currentYear(): string {\r\n        return new Date().getFullYear() + \"\";\r\n    }\r\n    return (\r\n        <div className=\"stopwatch-footer cui-flex cui-right cui-middle\">\r\n            <div className=\"cui-margin-horizontal\">\r\n                <span className=\"cui-margin-small-right\">Copyrights {currentYear()}</span>\r\n                <a href=\"https://github.com/bpd-d\" target=\"_blank\" className=\"cui-link cui-accent\">BPDDev</a>\r\n                {appSettings.mode === AppRunningModes.DEVELOPMENT && <Link to={MAPPIGNS.getUrl('devtools')} className=\"cui-link cui-secondary cui-margin-left cui-text-bold\">Dev</Link>}\r\n            </div>\r\n        </div>);\r\n}\r\n","import { is } from 'bpd-toolkit/dist/esm/index';\r\nimport * as React from 'react'\r\nimport { ElementManager } from 'cui-light/dist/esm/managers/element';\r\nimport { BpdDialog } from '../common/BpdDialog';\r\n\r\nexport function TutorialDialog() {\r\n    const [isLast, setIsLast] = React.useState(false);\r\n    const switchElement = React.useRef<ElementManager>(null);\r\n    function onSwitched(data: any) {\r\n        if (is(data) && is(data.index) && data.index === 2) {\r\n            setIsLast(true)\r\n            return\r\n        }\r\n        setIsLast(false)\r\n    }\r\n\r\n    function onNextClick() {\r\n        if (isLast) {\r\n            window.$cui.get(\"#welcome-dialog\").emit(\"close\");\r\n            return;\r\n        }\r\n        switchElement.current.emit(\"switch\", \"next\")\r\n\r\n    }\r\n\r\n    function getElement() { }\r\n\r\n    React.useEffect(() => {\r\n        switchElement.current = window.$cui.get(\"#welcome-switch\");\r\n        const ids: string[] = switchElement.current.on(\"switched\", onSwitched);\r\n        return () => {\r\n            if (is(ids)) {\r\n                ids.forEach(id => {\r\n                    switchElement.current.detach(\"switched\", id)\r\n                })\r\n\r\n            }\r\n\r\n        }\r\n    }, [isLast])\r\n    return (\r\n        <BpdDialog id=\"welcome-dialog\" title=\"Welcome\"\r\n            body={\r\n                <ul id=\"welcome-switch\" cui-switch=\"links: #welcome-step-indicator > li; height: 250px\">\r\n                    <li className=\"cui-active\"><div>Welcome to <span className=\"cui-text-bold cui-text-accent\">Bpd Stopwatch</span> app. It is simple, offline tool which will allow you to perform highly custimzed trainings that need stopwatch.</div></li>\r\n                    <li><div>Set up some <span className=\"cui-text-bold cui-text-accent\">Actions</span> to build your trainings from. You can define action name, type and it's duration. Action type has it's indications in <span className=\"cui-text-bold\">colors</span> and <span className=\"cui-text-bold\">sounds</span> later when your training is performed, so choose type accordingly to your action type.\r\n                    You can choose from <span className=\"cui-text-italic\">warmup</span>, <span className=\"cui-text-italic\">exercise</span>, <span className=\"cui-text-italic\">break</span> and <span className=\"cui-text-italic\">cooldown</span>. There are some actions already defined (they cannot be modified or deleted), which can help you to start with building your trainings.</div></li>\r\n                    <li><div>Give your <span className=\"cui-text-bold cui-text-accent\">training</span> a name and optionally  <span className=\"cui-text-bold cui-accent\">description</span>, then setup <span className=\"cui-text-bold cui-accent\">rounds</span>. You can define rounds from available actions.\r\n                        Once added they can be <span className=\"cui-text-italic\">re-positioned</span>, <span className=\"cui-text-italic\">cloned</span> or <span className=\"cui-text-italic\">deleted</span>.</div></li>\r\n                </ul>\r\n            }\r\n            footer={\r\n                <div className=\"cui-flex cui-middle\">\r\n                    <ul id=\"welcome-step-indicator\" className=\"cui-switcher-indicator cui-flex-grow\" cui-switcher=\"target: #welcome-switch\">\r\n                        <li><a></a></li>\r\n                        <li><a></a></li>\r\n                        <li><a></a></li>\r\n                    </ul>\r\n                    <div>\r\n                        <button className=\"cui-button\" onClick={onNextClick}>{isLast ? \"Close\" : \"Next\"}</button>\r\n                    </div>\r\n                </div>\r\n            }\r\n        />\r\n    );\r\n}\r\n","import * as React from \"react\";\r\nimport { Switch, Route, BrowserRouter, useLocation } from \"react-router-dom\";\r\nimport { Home } from \"./components/home/home\";\r\nimport { ErrorRoute } from \"./error\";\r\nimport { Navbar } from \"./components/navbar/navbar\";\r\nimport { OffCanvas } from \"./components/offacanvas/offcanvas\";\r\n// import { StopwatchActionsComponent } from \"./components/actions/StopwatchActionsComponent\";\r\n//import EditTraining from \"./components/trainings/EditTraining\";\r\n//import { PerfromTraining } from \"./components/perform/PerformTraining\";\r\n// import { StopwatchSettings } from \"./components/settings/StopwatchSettings\";\r\nimport { SETTINGS_FLOW_ACTIONS } from \"../app/flow/settings\";\r\nimport { setDarkMode } from \"../core/helpers\";\r\n// import { About } from \"./components/about/About\";\r\nimport { Footer } from \"./components/footer/Footer\";\r\nimport { MAPPIGNS } from \"./routes\";\r\nimport { ElementManager } from \"cui-light-app/dist/esm/app/managers/element\";\r\nimport { is } from \"bpd-toolkit/dist/esm/index\";\r\nimport { TutorialDialog } from \"./components/tutorial/TutorialDialog\";\r\n// import { Help } from \"./components/help/help\";\r\n// import { DevTools } from \"./components/devtools/DevTools\";\r\nimport { Loading } from \"./components/common/Loading\";\r\n\r\nconst PerfromTraining = React.lazy(() => import('./components/perform/PerformTraining'));\r\nconst EditTraining = React.lazy(() => import('./components/trainings/EditTraining'));\r\nconst StopwatchActionsComponent = React.lazy(() => import('./components/actions/StopwatchActionsComponent'));\r\nconst StopwatchSettings = React.lazy(() => import('./components/settings/StopwatchSettings'));\r\nconst About = React.lazy(() => import('./components/about/About'));\r\nconst DevTools = React.lazy(() => import('./components/devtools/DevTools'));\r\nconst Help = React.lazy(() => import('./components/help/help'));\r\n\r\n\r\nexport interface AppProps {\r\n    mode: string;\r\n}\r\nexport interface AppState {\r\n    currentSite?: string;\r\n}\r\n\r\nexport function AppBase(props: AppProps) {\r\n    return (<BrowserRouter>\r\n        <Route path=\"*\">\r\n            <App mode={props.mode} />\r\n        </Route>\r\n    </BrowserRouter>)\r\n}\r\n\r\nexport function App(props: AppProps) {\r\n\r\n    let welcomeDialogHandle: ElementManager;\r\n    let location = useLocation();\r\n\r\n    function onDarkMode(flag: boolean) {\r\n        setDarkMode(flag);\r\n    }\r\n\r\n    function onWelcomeScreen(flag: boolean) {\r\n        if (!flag) {\r\n            setTimeout(() => {\r\n                this.welcomeDialogHandle = window.$cui.get(\"#welcome-dialog\");\r\n                this.welcomeDialogCloseEventIds = this.welcomeDialogHandle.on(\"close\", this.onWelcomeDialogClose.bind(this));\r\n                window.$cui.get(\"#welcome-dialog\").emit(\"open\");\r\n            }, 100)\r\n\r\n        }\r\n    }\r\n\r\n    function onWelcomeDialogClose() {\r\n        window.$settingsFlow.perform(SETTINGS_FLOW_ACTIONS.SET_IS_WELCOME, true);\r\n    }\r\n\r\n\r\n    React.useEffect(() => {\r\n        const darkModeSub = window.$settingsFlow.subscribe(SETTINGS_FLOW_ACTIONS.GET_DARK_MODE, { finish: onDarkMode });\r\n        const welcomeScreenGetSub = window.$settingsFlow.subscribe(SETTINGS_FLOW_ACTIONS.GET_IS_WELCOME, { finish: onWelcomeScreen });\r\n        welcomeDialogHandle = window.$cui.get(\"#welcome-dialog\");\r\n        const welcomeDialogCloseEventIds = welcomeDialogHandle.on(\"close\", onWelcomeDialogClose);\r\n        window.$settingsFlow.perform(SETTINGS_FLOW_ACTIONS.GET_IS_WELCOME);\r\n        window.$settingsFlow.perform(SETTINGS_FLOW_ACTIONS.GET_DARK_MODE);\r\n\r\n        return () => {\r\n            window.$settingsFlow.unsubscribe(SETTINGS_FLOW_ACTIONS.GET_DARK_MODE, darkModeSub.id);\r\n            window.$settingsFlow.unsubscribe(SETTINGS_FLOW_ACTIONS.GET_IS_WELCOME, welcomeScreenGetSub.id);\r\n\r\n            if (is(welcomeDialogCloseEventIds)) {\r\n                welcomeDialogCloseEventIds.forEach((id: string) => {\r\n                    welcomeDialogHandle.detach(\"close\", id);\r\n                })\r\n            }\r\n        }\r\n    })\r\n    return (\r\n        <div className=\"stopwatch-layout-main\">\r\n            <Navbar />\r\n            <div className=\"stopwatch-layout-content cui-overflow-y-auto\">\r\n                <React.Suspense fallback={<Loading modifiers=\"cui-height-viewport-1-1\" />}>\r\n                    <Switch location={location}>\r\n                        <Route path={MAPPIGNS.getUrl(\"perform\")} render={() => <PerfromTraining />}></Route>\r\n                        <Route path={MAPPIGNS.getUrl(\"newTraining\")} render={() => <EditTraining />}></Route>\r\n                        <Route path={MAPPIGNS.getUrl(\"editTraining\")} render={() => <EditTraining />}></Route>\r\n                        <Route path={MAPPIGNS.getUrl(\"actions\")} render={() => <StopwatchActionsComponent />}></Route>\r\n                        <Route path={MAPPIGNS.getUrl(\"settings\")} render={() => <StopwatchSettings />}></Route>\r\n                        <Route path={MAPPIGNS.getUrl(\"about\")} render={() => <About />}></Route>\r\n                        <Route path={MAPPIGNS.getUrl(\"devtools\")} render={() => <DevTools />}></Route>\r\n                        <Route path={MAPPIGNS.getUrl(\"help\")} render={() => <Help />}></Route>\r\n                        <Route path={MAPPIGNS.getUrl(\"home\")} component={Home}></Route>\r\n                        <Route>\r\n                            <ErrorRoute />\r\n                        </Route>\r\n                    </Switch>\r\n                </React.Suspense>\r\n            </div>\r\n            <Footer mode={props.mode} />\r\n            <OffCanvas />\r\n            <TutorialDialog />\r\n        </div >);\r\n}","import { ITrainingsService, IActionsService, ISettingsService } from \"./interfaces\";\r\nimport { Training, StopwatchAction, Settings, TrainingState } from \"../models\";\r\nimport { BpdStorage } from \"../../../node_modules/bpd-storage/dist/index\";\r\nimport { ActionValidator, TrainingValidator } from \"../validators\";\r\nimport { is } from \"bpd-toolkit/dist/esm/index\";\r\nimport { DefaultSettings } from \"../statics\";\r\n\r\nconst TRAININGS_STORAGE = \"Trainings\";\r\nconst DRAFT_STORAGE = \"DRAFT_TRAINING\";\r\n\r\nexport class TrainingsStorageService implements ITrainingsService {\r\n    #storage: BpdStorage;\r\n    // #trainings: Training[];\r\n    #validator: TrainingValidator;\r\n    constructor() {\r\n        this.#storage = new BpdStorage(\"local\", \"BPD_TRAININGS\");\r\n        // this.#trainings = [];\r\n        this.#validator = new TrainingValidator();\r\n    }\r\n\r\n\r\n    getAllTrainings(): Training[] {\r\n        return this.getTrainings();\r\n    }\r\n\r\n    addTraining(training: Training): boolean {\r\n        let result = false;\r\n\r\n        if (this.validate(training)) {\r\n            this.onAction((t: Training[]) => {\r\n                if (!is(training.id)) {\r\n                    if (training.state === TrainingState.DRAFT) {\r\n                        this.clearDraft();\r\n                    }\r\n                    training.id = \"00\" + this.getNextIndex();\r\n                    training.state = TrainingState.PUBLISH;\r\n                    t.push(training)\r\n                    result = true;\r\n                    return t;\r\n                }\r\n                return null;\r\n            })\r\n        }\r\n        return result;\r\n    }\r\n\r\n    updateTraining(training: Training): boolean {\r\n        let result = false;\r\n\r\n        if (this.validate(training)) {\r\n            if (!is(training.id)) {\r\n                result = this.addTraining(training)\r\n            } else {\r\n                this.onAction((t: Training[]) => {\r\n                    let idx = t.findIndex(item => item.id === training.id);\r\n                    if (idx > -1) {\r\n                        if (training.state === TrainingState.DRAFT) {\r\n                            this.clearDraft();\r\n                        }\r\n                        training.state = TrainingState.PUBLISH;\r\n                        t[idx] = training;\r\n                        result = true;\r\n                        return t;\r\n                    }\r\n                    return null;\r\n                })\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Removes training from storage\r\n     * @param id Id of training\r\n     */\r\n    deleteTraining(id: string): boolean {\r\n        let result = false;\r\n        if (!is(id)) {\r\n            return false;\r\n        }\r\n        this.onAction((t: Training[]) => {\r\n            let idx = t.findIndex(item => item.id === id);\r\n            if (idx > -1) {\r\n                t.splice(idx, 1);\r\n                result = true;\r\n                return t;\r\n            }\r\n            return null;\r\n        })\r\n        return result;\r\n    }\r\n\r\n    getTraining(id: string): Training {\r\n        let training = undefined;\r\n        this.onAction((t) => {\r\n            training = t.find(item => { return item.id === id });\r\n            return null;\r\n        })\r\n        return training;\r\n    }\r\n\r\n    /**\r\n     * Removes all trainings from storage\r\n     */\r\n    clearTrainings(): void {\r\n        this.onAction((trainings: Training[]) => {\r\n            return [];\r\n        })\r\n    }\r\n\r\n    isDraft(): boolean {\r\n        throw is(this.#storage.getAny(DRAFT_STORAGE));\r\n    }\r\n\r\n    getDraft(): Training {\r\n        return this.#storage.getAny(DRAFT_STORAGE) ?? undefined;\r\n    }\r\n\r\n    setDraft(training: Training): boolean {\r\n        if (!is(training)) {\r\n            return;\r\n        }\r\n        training.state = TrainingState.DRAFT;\r\n        this.#storage.setAny(DRAFT_STORAGE, training);\r\n    }\r\n\r\n    clearDraft(): void {\r\n        this.#storage.removeItem(DRAFT_STORAGE);\r\n    }\r\n\r\n    getCurrentTraining(): Training {\r\n        throw new Error(\"Method not implemented.\");\r\n    }\r\n\r\n    setCurrentTraining(training: Training): void {\r\n        throw new Error(\"Method not implemented.\");\r\n    }\r\n\r\n    private getTrainings(): Training[] {\r\n        return this.#storage.getAny(TRAININGS_STORAGE) ?? [];\r\n    }\r\n\r\n    private setTrainings(t: Training[]): void {\r\n        this.#storage.setAny(TRAININGS_STORAGE, t);\r\n    }\r\n\r\n    private getNextIndex(): number {\r\n        let idx = this.#storage.getNumber(\"TRAININGS_INDEX\");\r\n        if (!idx || idx === NaN) {\r\n            idx = 1;\r\n        } else {\r\n            idx += 1;\r\n        }\r\n        this.#storage.setNumber(\"TRAININGS_INDEX\", idx);\r\n        return idx;\r\n    }\r\n\r\n    private validate(training: Training): boolean {\r\n        return this.#validator.validate(training).status;\r\n    }\r\n\r\n    private onAction(callback: (t: Training[]) => Training[] | null) {\r\n        let t = this.getTrainings();\r\n        let result = callback(t)\r\n        if (result !== null) {\r\n            this.setTrainings(result);\r\n        }\r\n    }\r\n}\r\n\r\nexport class ActionStorageService implements IActionsService {\r\n    #storage: BpdStorage;\r\n    #actions: StopwatchAction[];\r\n    #validator: ActionValidator;\r\n    constructor() {\r\n        this.#storage = new BpdStorage(\"local\", \"BPD_TRAININGS\");\r\n        this.#actions = [];\r\n        this.#validator = new ActionValidator();\r\n        this.getActionsFromStorage();\r\n    }\r\n\r\n    getAllActions(): StopwatchAction[] {\r\n        return [...this.#actions];\r\n    }\r\n\r\n    setAction(action: StopwatchAction): boolean {\r\n        if (!this.#validator.validate(action).status) {\r\n            return false;\r\n        }\r\n        if (!is(action.id)) {\r\n            action.id = \"000\" + this.getNextIndex();\r\n            this.#actions.push(action);\r\n        }\r\n        let existingIndex = this.getIndex(action);\r\n        if (existingIndex > -1) {\r\n            this.#actions[existingIndex] = action;\r\n            this.setActionsToStorage();\r\n            return true;\r\n        }\r\n        console.log(\"Unknown action id: \" + action.id);\r\n        return false;\r\n    }\r\n\r\n    removeAction(action: StopwatchAction): boolean {\r\n        if (!this.#validator.validate(action).status) {\r\n            return false;\r\n        }\r\n        let existingIndex = this.getIndex(action);\r\n        if (existingIndex < 0) {\r\n            console.log(\"Unknown action id: \" + action.id);\r\n            return false;\r\n        }\r\n        this.#actions.splice(existingIndex, 1);\r\n        this.setActionsToStorage();\r\n        return true;\r\n    }\r\n\r\n    clearActions(): void {\r\n        this.#actions = [];\r\n        this.setActionsToStorage();\r\n    }\r\n\r\n    getActionsById(...id: string[]): StopwatchAction[] | undefined {\r\n        if (!is(id)) {\r\n            return undefined;\r\n        }\r\n        return this.#actions.reduce((result: StopwatchAction[], action: StopwatchAction, index: number) => {\r\n            if (id.includes(action.id)) {\r\n                result.push(action);\r\n            }\r\n            return result;\r\n        }, []);\r\n    }\r\n\r\n    private getIndex(action: StopwatchAction): number {\r\n        return this.#actions.findIndex(item => item.id === action.id);\r\n    }\r\n\r\n    private getActionsFromStorage() {\r\n        let val = this.#storage.getAny(\"ACTIONS\");\r\n        this.#actions = val ?? [];\r\n    }\r\n\r\n    private setActionsToStorage() {\r\n        this.#storage.setAny(\"ACTIONS\", this.#actions);\r\n    }\r\n\r\n    private getNextIndex() {\r\n        let item = this.#storage.getNumber(\"ACTION_INDEX\");\r\n        if (!item) {\r\n            item = 5;\r\n        } else {\r\n            item = item + 1;\r\n        }\r\n        this.#storage.setNumber(\"ACTION_INDEX\", item);\r\n        return item;\r\n    }\r\n\r\n}\r\n\r\nexport class SettingsService implements ISettingsService {\r\n    #storage: BpdStorage;\r\n    constructor() {\r\n        this.#storage = new BpdStorage(\"local\", \"BPD_SETTINGS\");\r\n    }\r\n\r\n\r\n    setSettings(value: Settings): boolean {\r\n        this.#storage.setAny(\"SETTINGS\", value);\r\n        return true;\r\n    }\r\n\r\n    getSettings(): Settings {\r\n        return this.#storage.getAny(\"SETTINGS\") || {\r\n            darkMode: false,\r\n            soundEnabled: false\r\n        };\r\n    }\r\n\r\n    setSoundEnabled(flag: boolean): void {\r\n        let settings = this.getSettings();\r\n        if (flag !== settings.soundEnabled) {\r\n            settings.soundEnabled = flag;\r\n            this.setSettings(settings)\r\n        }\r\n    }\r\n\r\n    isSoundEnabled(): boolean {\r\n        return this.getSettings()?.soundEnabled;\r\n    }\r\n\r\n    setDarkMode(flag: boolean): void {\r\n        let settings = this.getSettings();\r\n        if (flag !== settings.darkMode) {\r\n            settings.darkMode = flag;\r\n            this.setSettings(settings)\r\n        }\r\n    }\r\n\r\n    isDarkMode(): boolean {\r\n        return this.getSettings()?.darkMode;\r\n    }\r\n\r\n    isWelcomeSet(): boolean {\r\n        return this.getSettings()?.isWelcome;\r\n    }\r\n\r\n    setIsWelcome(flag: boolean) {\r\n        let settings = this.getSettings();\r\n        if (flag !== settings.isWelcome) {\r\n            settings.isWelcome = flag;\r\n            this.setSettings(settings)\r\n        }\r\n    }\r\n\r\n    clearSettings(): void {\r\n        this.setSettings({\r\n            ...DefaultSettings\r\n        })\r\n    }\r\n}","import { IPushService } from \"./interfaces\";\r\n\r\nexport class PushService implements IPushService {\r\n    constructor() {\r\n\r\n    }\r\n\r\n    setNavbarTitle(title: string): string {\r\n        return title ?? \"\";\r\n    }\r\n}","import { AppSettings } from \"../models\";\r\nimport { IAppSettingsService } from \"./interfaces\";\r\n\r\nexport class AppSettingsService implements IAppSettingsService {\r\n    #settings: AppSettings;\r\n    constructor(settings: AppSettings) {\r\n        this.#settings = settings;\r\n    }\r\n    \r\n    getSettings(): AppSettings {\r\n        return this.#settings;\r\n    }\r\n\r\n}","export class CuiSetup {\r\n    constructor() {\r\n        this.autoLightMode = false;\r\n        this.scrollThreshold = 20;\r\n        this.resizeThreshold = 20;\r\n        this.prefix = \"cui\";\r\n        this.plugins = {};\r\n        this.root = document.body;\r\n    }\r\n    fromInit(init) {\r\n        var _a;\r\n        this.prefix = (_a = init.prefix) !== null && _a !== void 0 ? _a : \"cui\";\r\n        this.logLevel = init.logLevel;\r\n        this.cacheSize = init.cacheSize;\r\n        this.autoLightMode = init.autoLightMode;\r\n        this.animationTime = init.animationTime;\r\n        this.animationTimeShort = init.animationTimeShort;\r\n        this.animationTimeLong = init.animationTimeLong;\r\n        this.scrollThreshold = init.scrollThreshold;\r\n        this.resizeThreshold = init.resizeThreshold;\r\n        this.root = init.root;\r\n        return this;\r\n    }\r\n}\r\nexport class CuiSetupInit {\r\n    constructor() {\r\n        this.prefix = 'cui';\r\n        this.app = '$cui';\r\n        this.logLevel = 'warning';\r\n        this.interaction = 'async';\r\n        this.animationTime = 300;\r\n        this.animationTimeShort = 150;\r\n        this.animationTimeLong = 500;\r\n        this.cacheSize = 500;\r\n        this.autoLightMode = false;\r\n        this.scrollThreshold = 20;\r\n        this.resizeThreshold = 20;\r\n        this.root = document.body;\r\n        this.busSetup = undefined;\r\n        this.development = undefined;\r\n    }\r\n}\r\n","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport '../styles/styles.scss';\r\nimport { AppBase } from \"./ui/app\";\r\nimport { CuiIconsPack } from 'bpd-cui-icons/esm/index';\r\nimport { Flow, FlowFactory } from '../node_modules/bpd-flow/dist/index';\r\nimport { TrainingsStorageService, ActionStorageService, SettingsService } from './core/services/storage';\r\nimport { TrainingsFlow, TrainingsFlowInput, TrainingsFlowOutput } from \"./app/flow/trainings\";\r\nimport { ActionsFlowInput, ActionsFlowOutput, ActionsFlow } from \"./app/flow/actions\";\r\nimport { SettingsFlow, SettingsFlowInput, SettingsFlowOutput } from \"./app/flow/settings\";\r\nimport { CuiInstance } from \"cui-light-app/dist/esm/index\";\r\nimport { CuiInitData, CuiInitializer } from \"cui-light-app/dist/esm/app/initializer\";\r\nimport { PushServiceFlow, PushServiceInput, PushServiceOutput } from \"./app/push/push\";\r\nimport { PushService } from \"./core/services/push\";\r\nimport { AppSettingsService } from \"./core/services/app\";\r\nimport { IAppSettingsService } from \"./core/services/interfaces\";\r\nimport { CuiSetupInit } from \"../../cui-light-app/dist/esm/core/models/setup\";\r\nimport { getUsedCuiComponents, getUsedPlugins } from \"./ui/imports\";\r\n\r\n\r\ndeclare global {\r\n    interface Window {\r\n        // cuiInit: CuiInit;\r\n        $cui: CuiInstance;\r\n        $flow: Flow<any, any>;\r\n        $actionsFlow: Flow<ActionsFlowInput, ActionsFlowOutput>;\r\n        $settingsFlow: Flow<SettingsFlowInput, SettingsFlowOutput>;\r\n        $push: Flow<PushServiceInput, PushServiceOutput>;\r\n        $appSettings: IAppSettingsService;\r\n    }\r\n}\r\n\r\nconst loadingIndicator = document.getElementById(\"loading-indicator\");\r\nconst loading = document.getElementById(\"loading-screen\");\r\n\r\nfunction setText(text: string) {\r\n    if (window.requestAnimationFrame) {\r\n        window.requestAnimationFrame(() => {\r\n            loadingIndicator.textContent = text;\r\n        })\r\n    } else {\r\n        loadingIndicator.textContent = text;\r\n    }\r\n}\r\n\r\nPromise.all([\r\n    fetch('/app_settings.json').then(response => response.json()),\r\n    fetch('/static/icons/all.json').then(response => response.json())\r\n]).then((result) => {\r\n    onDataFetch(result[0], result[1])\r\n}).catch(() => {\r\n    loadingIndicator.classList.add(\"error\");\r\n    setText(\"Application cannot be loaded!\")\r\n})\r\n\r\nfunction onDataFetch(settings: any, icons: any) {\r\n    setText(\"Initializing...\")\r\n    const rootElement = document.getElementById('root');\r\n    const setup = new CuiSetupInit();\r\n    setup.logLevel = settings?.mode === \"production\" ? 'error' : \"debug\";\r\n    setup.root = rootElement;\r\n    setup.busSetup = [\r\n        {\r\n            name: \"MoveQueue\",\r\n            eventsDef: [\"global_move\"],\r\n            handler: 'tasked',\r\n            priority: 0\r\n        },\r\n        {\r\n            name: \"InteractQueue\",\r\n            eventsDef: [\"open\", \"close\", \"switch\"],\r\n            handler: 'tasked',\r\n            priority: 0\r\n        },\r\n        {\r\n            name: \"ResponsesQueue\",\r\n            eventsDef: [\"opened\", \"closed\", \"switched\", \"resize\", \"offset\"],\r\n            handler: 'tasked',\r\n            priority: 1\r\n        },\r\n        {\r\n            name: \"GlobalSimple\",\r\n            eventsDef: [\"keydown\", \"scroll\", \"intersection\", \"windowclick\"],\r\n            handler: 'tasked',\r\n            priority: 2\r\n        },\r\n    ]\r\n\r\n    const cuiSetup: CuiInitData = {\r\n        setup: setup,\r\n        components: getUsedCuiComponents(),\r\n        plugins: getUsedPlugins(),\r\n        icons: {\r\n            ...CuiIconsPack,\r\n            ...icons\r\n        }\r\n    };\r\n\r\n    const service = new TrainingsStorageService();\r\n    const traningsFlow = new TrainingsFlow(service);\r\n    const actionsService = new ActionStorageService();\r\n    const actionsFlow = new ActionsFlow(actionsService);\r\n    const settingsService = new SettingsService();\r\n    const settingsFlow = new SettingsFlow(settingsService);\r\n    const pushService = new PushServiceFlow(new PushService());\r\n\r\n    window.$appSettings = new AppSettingsService(settings);\r\n\r\n    window.$flow = FlowFactory.create<TrainingsFlowInput, TrainingsFlowOutput>(traningsFlow.getActions());\r\n    window.$actionsFlow = FlowFactory.create<ActionsFlowInput, ActionsFlowOutput>(actionsFlow.getActions());\r\n    window.$settingsFlow = FlowFactory.create<SettingsFlowInput, SettingsFlowOutput>(settingsFlow.getActions());\r\n    window.$push = FlowFactory.create<PushServiceInput, PushServiceOutput>(pushService.getActions());\r\n\r\n    setTimeout(() => {\r\n        new CuiInitializer().init(cuiSetup).then((result) => {\r\n            ReactDOM.render(<AppBase mode={settings.mode} />, rootElement);\r\n            loading.remove();\r\n            rootElement.classList.remove(\"hidden\");\r\n        });\r\n    }, 0)\r\n\r\n}\r\n\r\n\r\n\r\n","import { ICuiComponent, ICuiPlugin } from \"cui-light-app/dist/esm/core/models/interfaces\";\r\nimport { CuiAccordionComponent } from \"cui-light-app/dist/esm/components/accordion/accordion\";\r\nimport { CuiCircleComponent } from \"cui-light-app/dist/esm/components/circle/circle\";\r\nimport { CuiCloseComponent } from \"cui-light-app/dist/esm/components/close/close\";\r\nimport { CuiDialogComponent } from \"cui-light-app/dist/esm/components/dialog/dialog\";\r\nimport { CuiDropComponenet } from \"cui-light-app/dist/esm/components/drop/drop\";\r\nimport { CuiIconComponent } from \"cui-light-app/dist/esm/components/icon/icon\";\r\nimport { CuiOffCanvasComponent } from \"cui-light-app/dist/esm/components/offcanvas/offcanvas\";\r\nimport { CuiOpenComponent } from \"cui-light-app/dist/esm/components/open/open\";\r\nimport { CuiSpinnerComponent } from \"cui-light-app/dist/esm/components/spinner/spinner\";\r\nimport { CuiSliderComponent } from \"cui-light-app/dist/esm/components/switch/slider\";\r\nimport { CuiSwitchComponent } from \"cui-light-app/dist/esm/components/switch/switch\";\r\nimport { CuiSwitcherComponent } from \"cui-light-app/dist/esm/components/switch/switcher\";\r\nimport { CuiTooltipComponent } from \"cui-light-app/dist/esm/components/tooltip/tooltip\";\r\n\r\nimport { CuiAutoLightModePlugin } from \"cui-light-app/dist/esm/plugins/light/light\";\r\nimport { CuiAutoPrintModePlugin } from \"cui-light-app/dist/esm/plugins/print/print\";\r\nimport { CuiToastPlugin } from \"cui-light-app/dist/esm/plugins/toast/toast\";\r\nimport { CuiAlertsPlugin } from \"cui-light-app/dist/esm/plugins/alert/alert\";\r\n\r\nexport function getUsedCuiComponents(): ICuiComponent[] {\r\n    let prefix = 'cui'\r\n    return [\r\n        new CuiIconComponent(prefix),\r\n        new CuiTooltipComponent(prefix),\r\n        new CuiCircleComponent(prefix),\r\n        new CuiSpinnerComponent(prefix),\r\n        new CuiOpenComponent(prefix),\r\n        new CuiCloseComponent(prefix),\r\n        new CuiDialogComponent(prefix),\r\n        new CuiOffCanvasComponent(prefix),\r\n        new CuiAccordionComponent(prefix),\r\n        new CuiDropComponenet(prefix),\r\n        new CuiSwitchComponent(prefix),\r\n        new CuiSwitcherComponent(prefix),\r\n        new CuiSliderComponent(prefix),\r\n    ]\r\n}\r\n\r\nexport function getUsedPlugins(): ICuiPlugin[] {\r\n    return [\r\n        new CuiAutoLightModePlugin({ autoLight: true }),\r\n        new CuiAutoPrintModePlugin({ autoPrint: false }),\r\n        new CuiToastPlugin({}),\r\n        new CuiAlertsPlugin()\r\n    ]\r\n}","import * as React from 'react'\r\n\r\nexport function TriangleShadow() {\r\n    return (<div className=\"triangle-wrap\">\r\n        <div className=\"triangle cui-background-default\"> </div>\r\n    </div>);\r\n}\r\n","import { AppMapping } from \"../api/routes/routes\";\r\n\r\nexport const MAPPIGNS = new AppMapping({\r\n    \"home\": { url: \"/\", name: \"Home\", icon: \"home\", description: \"Home page\" },\r\n    \"about\": { url: \"/about\", name: \"About\", icon: \"info\", description: \"Information about the project\" },\r\n    \"settings\": { url: \"/settings\", name: \"Settings\", icon: \"settings\", description: \"User options to change\" },\r\n    \"actions\": { url: \"/actions\", name: \"Actions\", icon: \"dumbbell\", description: \"Define activies to be used in trainings\" },\r\n    \"help\": {\r\n        url: \"/help\", name: \"Help\", icon: \"emoji_smile\", description: \"Get information about app features\"\r\n    },\r\n    \"devtools\": { url: \"/dev\", name: \"Dev Tools\", icon: \"wrench\", description: \"Developer settings\" },\r\n    \"newTraining\": { url: \"/trainings/edit/new\", name: \"New Training\" },\r\n    \"editTraining\": { url: \"/trainings/edit/:id\", name: \"Edit Training\" },\r\n    \"perform\": { url: \"/trainings/perform/:id\", name: \"Perform Training\" }\r\n});","import { enumerateObject, is } from \"../../../node_modules/bpd-toolkit/dist/esm/index\";\r\n\r\n\r\nexport interface RouteDetails {\r\n    url: string,\r\n    name: string,\r\n    icon?: string,\r\n    description?: string;\r\n}\r\nexport interface RoutesMapping {\r\n    [id: string]: RouteDetails;\r\n}\r\n\r\nexport interface AppRouteAttributes {\r\n    [id: string]: string | number;\r\n}\r\n\r\nexport class AppMapping {\r\n    #mapping: RoutesMapping\r\n    constructor(routes: RoutesMapping) {\r\n        this.#mapping = routes;\r\n    }\r\n\r\n    getRoute(id: string) {\r\n        return is(id) ? this.#mapping[id] : undefined;\r\n    }\r\n\r\n    getUrl(id: string) {\r\n        let route = this.getRoute(id);\r\n        return is(route) ? route.url : undefined;\r\n    }\r\n\r\n    getIcon(id: string) {\r\n        let route = this.getRoute(id);\r\n        return is(route) ? route.icon : undefined;\r\n    }\r\n\r\n    getName(id: string) {\r\n        let route = this.getRoute(id);\r\n        return is(route) ? route.name : undefined;\r\n    }\r\n\r\n    renderUrl(id: string, attributes?: AppRouteAttributes): string {\r\n        let uri = this.getUrl(id)\r\n        if (!is(attributes)) {\r\n            return uri;\r\n        }\r\n        enumerateObject(attributes, (prop: string, value: string) => {\r\n            uri = uri.replace(\":\" + prop, value);\r\n        })\r\n        return uri;\r\n    }\r\n}","import * as React from 'react'\r\n\r\nexport interface LoadingProps {\r\n    text?: string;\r\n    modifiers?: string;\r\n}\r\n\r\nexport function Loading(props: LoadingProps) {\r\n    let classes = \"cui-container cui-flex-center\";\r\n    const text = \"Loading...\"\r\n    if (props.modifiers) {\r\n        classes += \" \" + props.modifiers;\r\n    }\r\n    return (<div className={classes}>\r\n        <span>{props.text ?? text}</span>\r\n    </div>);\r\n}\r\n","import { Round, StopwatchAction, Training } from \"./models\";\r\nimport { ERROR_CODES } from \"./statics\";\r\nimport { is } from '../../node_modules/bpd-toolkit/dist/esm/index';\r\nimport { Footer } from \"src/ui/components/footer/Footer\";\r\n\r\nexport interface ValidationResult {\r\n    status: boolean;\r\n    errors?: string[];\r\n}\r\n\r\nexport interface IValidator<T> {\r\n    validate(t: T): ValidationResult\r\n}\r\n\r\nexport abstract class ValidatorBase<T> implements IValidator<T> {\r\n    validate(t: T): ValidationResult {\r\n        const result: ValidationResult = { status: true }\r\n        try {\r\n            let errors = this.performValidation(t);\r\n            if (errors && errors.length > 0) {\r\n                result.status = false;\r\n                result.errors = errors;\r\n            }\r\n        } catch (e) {\r\n            let errorMsg = \"An error occured during validation\";\r\n            console.error(errorMsg)\r\n            console.error(e)\r\n            result.status = false;\r\n            result.errors = [errorMsg + \": \" + e.message]\r\n        }\r\n        return result;\r\n    }\r\n\r\n    protected abstract performValidation(t: T): string[];\r\n}\r\n\r\nexport class TrainingValidator extends ValidatorBase<Training> {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    protected performValidation(t: Training): string[] {\r\n        if (!is(t)) {\r\n            return ([ERROR_CODES.e0100]);\r\n        }\r\n        let errors = []\r\n        if (!is(t.name)) {\r\n            errors.push(ERROR_CODES.e0101)\r\n        }\r\n        if (!is(t.rounds)) {\r\n            errors.push(ERROR_CODES.e0102)\r\n        }\r\n        return errors;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class RoundValidator extends ValidatorBase<Round> {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    protected performValidation(t: Round): string[] {\r\n        if (!is(t)) {\r\n            return ([ERROR_CODES.e0200]);\r\n        }\r\n        let errors = []\r\n        if (!is(t.name))\r\n            errors.push(ERROR_CODES.e0202);\r\n        if (!is(t.actions))\r\n            errors.push(ERROR_CODES.e0201)\r\n        return errors;\r\n    }\r\n}\r\n\r\nexport class ActionValidator extends ValidatorBase<StopwatchAction> {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    protected performValidation(t: StopwatchAction): string[] {\r\n        if (!is(t)) {\r\n            return ([ERROR_CODES.e0300]);\r\n        }\r\n        let errors = []\r\n        if (!is(t.name)) {\r\n            errors.push(ERROR_CODES.e0301)\r\n        }\r\n        if (!is(t.type)) {\r\n            errors.push(ERROR_CODES.e0302)\r\n        }\r\n        if (!is(t.duration)) {\r\n            errors.push(ERROR_CODES.e0303)\r\n        }\r\n        return errors;\r\n    }\r\n}\r\n\r\nexport class CompleteTrainingValidator extends ValidatorBase<Training> {\r\n    #trainingValidator: TrainingValidator;\r\n    #actionValidator: ActionValidator;\r\n    #roundValidator: RoundValidator;\r\n    constructor() {\r\n        super();\r\n        this.#trainingValidator = new TrainingValidator();\r\n        this.#roundValidator = new RoundValidator();\r\n        this.#actionValidator = new ActionValidator();\r\n    }\r\n    protected performValidation(t: Training): string[] {\r\n        let err = this.#trainingValidator.validate(t);\r\n        if (err.status) {\r\n            try {\r\n                err = this.validateRounds(t.rounds);\r\n            } catch (e) {\r\n                return [ERROR_CODES.e0001]\r\n            }\r\n        }\r\n        return err.errors;\r\n    }\r\n\r\n    private validateRounds(rounds: Round[]): ValidationResult {\r\n        let err: ValidationResult = null;\r\n        let len = rounds.length;\r\n        for (let i = 0; i < len; i++) {\r\n            err = this.#roundValidator.validate(rounds[i]);\r\n            if (err.status) {\r\n                err = this.validateActions(rounds[i].actions)\r\n                if (!err.status) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return err;\r\n    }\r\n\r\n    private validateActions(actions: StopwatchAction[]): ValidationResult {\r\n        let err: ValidationResult = null;\r\n        let len = actions.length;\r\n        for (let i = 0; i < len; i++) {\r\n            err = this.#actionValidator.validate(actions[i]);\r\n            if (!err.status) {\r\n                return;\r\n            }\r\n        }\r\n        return err;\r\n    }\r\n\r\n}","export const StopwatchActionType = {\r\n    EXERCISE: 'exercise',\r\n    BREAK: 'break',\r\n    COOLDOWN: \"cooldown\",\r\n    WARMUP: \"warmup\"\r\n}\r\n\r\nexport const TrainingState = {\r\n    DRAFT: 'draft',\r\n    PUBLISH: 'publish',\r\n    NEW: \"new\",\r\n}\r\n\r\nexport type AppRunningMode = \"production\" | 'development';\r\nexport const AppRunningModes = {\r\n    DEVELOPMENT: \"development\",\r\n    PRODUCTION: \"production\"\r\n};\r\nexport interface Settings {\r\n    darkMode: boolean;\r\n    soundEnabled: boolean;\r\n    isWelcome: boolean;\r\n    simpleView: boolean; // deprecated\r\n    countdownView: string;\r\n}\r\n\r\nexport interface AppSettings {\r\n    version: string;\r\n    mode: AppRunningMode;\r\n}\r\n\r\nexport interface StopwatchAction {\r\n    id: string;\r\n    name: string;\r\n    duration: string;\r\n    type?: string;\r\n    color?: string;\r\n    removable?: boolean;\r\n    editable?: boolean;\r\n}\r\n\r\nexport interface Round {\r\n    actions: StopwatchAction[];\r\n    break?: number;\r\n    name?: string;\r\n}\r\n\r\nexport interface Training {\r\n    name: string;\r\n    description?: string;\r\n    id?: string;\r\n    rounds: Round[];\r\n    state: string;\r\n}\r\n\r\nexport class Exercise implements StopwatchAction {\r\n    id: string;\r\n    name: string;\r\n    duration: string;\r\n    type: string = StopwatchActionType.EXERCISE;\r\n    removable: false;\r\n    constructor(duration: number, name?: string) {\r\n        this.id = \"00001\";\r\n        this.duration = \"\" + duration;\r\n        this.name = name ? name : 'Exercise';\r\n    }\r\n}\r\n\r\nexport class WarmUp implements StopwatchAction {\r\n    id: string;\r\n    name: string;\r\n    duration: string;\r\n    type: string = StopwatchActionType.WARMUP;\r\n    removable: boolean = false;\r\n\r\n    constructor(duration: number) {\r\n        this.id = \"00002\";\r\n        this.duration = \"\" + duration;\r\n        this.name = \"Warm Up\"\r\n    }\r\n}\r\n\r\nexport class CoolDown implements StopwatchAction {\r\n    id: string;\r\n    name: string;\r\n    duration: string;\r\n    type: string = StopwatchActionType.COOLDOWN;\r\n    removable: false;\r\n    constructor(duration: number, name?: string) {\r\n        this.id = \"00003\";\r\n        this.duration = \"\" + duration;\r\n        this.name = name ? name : \"Cooldown\";\r\n    }\r\n}\r\n\r\nexport interface ActionsGroup {\r\n    [id: string]: StopwatchAction[];\r\n}\r\n\r\nexport interface RoundActions {\r\n    warmup: StopwatchAction;\r\n    exercise: StopwatchAction;\r\n    break: StopwatchAction;\r\n    cooldown: StopwatchAction;\r\n}","import * as React from 'react'\r\n\r\nexport interface BpdDialogProps {\r\n    title: string;\r\n    id: string;\r\n    body?: JSX.Element;\r\n    footer?: JSX.Element;\r\n    className?: string;\r\n}\r\n\r\nexport function BpdDialog(props: BpdDialogProps) {\r\n    React.useEffect(() => {\r\n    }, [props])\r\n    return (<div className={`cui-dialog ${props.className ?? \"\"}`} cui-dialog=\"escClose: Y\" id={props.id}>\r\n        <div className=\"cui-dialog-container\">\r\n            <div className=\"cui-dialog-header\">\r\n                <span className=\"cui-dialog-title\">{props.title}</span>\r\n                <a className=\"cui-icon\" cui-icon=\"close\" cui-close=\"\"></a>\r\n            </div>\r\n            <div className=\"cui-dialog-body\">\r\n                {props.body}\r\n            </div>\r\n\r\n            {props.footer && (<div className=\"cui-dialog-footer\">\r\n                {props.footer}\r\n            </div>)}\r\n\r\n        </div>\r\n    </div>)\r\n}\r\n","import { is } from \"bpd-toolkit/dist/esm/index\";\r\nimport { Training } from \"../../core/models\";\r\nimport { ITrainingsService } from \"../../core/services/interfaces\";\r\n\r\nexport const ACTIONS = {\r\n    GET_ALL_TRAININGS: \"GET_ALL_TRAININGS\",\r\n    ADD_TRAINING: \"ADD_TRAINING\",\r\n    UPDATE_TRAINING: \"UPDATE_TRAINING\",\r\n    DELETE_TRAINING: \"DELETE_TRAINING\",\r\n    GET_TRAINING: \"GET_TRAINING\",\r\n    CLEAR_TRAININGS: \"CLEAR_TRAININGS\",\r\n    GET_DRAFT: \"GET_DRAFT\",\r\n    SET_DRAFT: \"SET_DRAFT\",\r\n    CLEAR_DRAFT: \"CLEAR_DRAFT\",\r\n    GET_FOR_EDIT: \"GET_FOR_EDIT\"\r\n}\r\n\r\nexport type TrainingsFlowInput = void | Training | number;\r\nexport type TrainingsFlowOutput = Training[] | Training | boolean;\r\n\r\nexport class TrainingsFlow {\r\n    #service: ITrainingsService;\r\n    constructor(service: ITrainingsService) {\r\n        this.#service = service;\r\n    }\r\n\r\n    getActions() {\r\n        return {\r\n            [ACTIONS.GET_ALL_TRAININGS]: () => {\r\n                return this.#service.getAllTrainings();\r\n            },\r\n            [ACTIONS.ADD_TRAINING]: (t: Training) => {\r\n                return this.#service.addTraining(t);\r\n            },\r\n            [ACTIONS.UPDATE_TRAINING]: (t: Training) => {\r\n                return this.#service.updateTraining(t);\r\n            },\r\n            [ACTIONS.DELETE_TRAINING]: (id: string) => {\r\n                return this.#service.deleteTraining(id);\r\n            },\r\n            [ACTIONS.GET_TRAINING]: (id: string) => {\r\n                return this.#service.getTraining(id);\r\n            },\r\n            [ACTIONS.GET_DRAFT]: () => {\r\n                return this.#service.getDraft();\r\n            },\r\n            [ACTIONS.SET_DRAFT]: (training: Training) => {\r\n                return this.#service.setDraft(training);\r\n            },\r\n            [ACTIONS.CLEAR_DRAFT]: () => {\r\n                return this.#service.clearDraft();\r\n            },\r\n            [ACTIONS.GET_FOR_EDIT]: (id: string) => {\r\n                let draft = this.#service.getDraft();\r\n                if (is(draft) && draft.id === id) {\r\n                    return draft;\r\n                }\r\n                if (!is(id) && is(draft.id)) {\r\n                    return undefined;\r\n                }\r\n                return this.#service.getTraining(id);\r\n            },\r\n            [ACTIONS.CLEAR_TRAININGS]: () => {\r\n                this.#service.clearTrainings();\r\n                return true;\r\n            },\r\n        }\r\n    }\r\n}","import { AppSettings } from \"src/core/models\";\r\n\r\nexport function useAppSettings(): AppSettings {\r\n    return window.$appSettings.getSettings();\r\n}","import { IActionsService } from \"../../core/services/interfaces\"\r\nimport { StopwatchAction } from \"../../core/models\";\r\n\r\nexport const ACTIONS_FLOW_ACTIONS = {\r\n    GET_ALL: \"GET_ALL\",\r\n    SET_ACTION: \"SET_ACTION\",\r\n    REMOVE_ACTION: \"REMOVE_ACTION\",\r\n    CLEAR_ACTIONS: \"CLEAR_ACTIONS\"\r\n}\r\n\r\nexport type ActionsFlowInput = StopwatchAction;\r\nexport type ActionsFlowOutput = boolean | StopwatchAction[];\r\n\r\nexport class ActionsFlow {\r\n    #service: IActionsService;\r\n    constructor(service: IActionsService) {\r\n        this.#service = service;\r\n    }\r\n    getActions() {\r\n        return {\r\n            [ACTIONS_FLOW_ACTIONS.GET_ALL]: () => {\r\n                return this.#service.getAllActions();\r\n            },\r\n            [ACTIONS_FLOW_ACTIONS.SET_ACTION]: (action: StopwatchAction) => {\r\n                return this.#service.setAction(action);\r\n            },\r\n            [ACTIONS_FLOW_ACTIONS.REMOVE_ACTION]: (action: StopwatchAction) => {\r\n                return this.#service.removeAction(action);\r\n            },\r\n            [ACTIONS_FLOW_ACTIONS.CLEAR_ACTIONS]: () => {\r\n                this.#service.clearActions();\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n}","import { Settings, StopwatchAction, StopwatchActionType } from \"./models\";\r\n\r\nexport const DefaultActions: StopwatchAction[] = [{\r\n    id: \"9996\",\r\n    name: \"Warmup\",\r\n    duration: \"5\",\r\n    type: StopwatchActionType.WARMUP,\r\n    removable: false,\r\n    editable: false\r\n},\r\n{\r\n    id: \"9997\",\r\n    name: \"Exercise\",\r\n    duration: \"30\",\r\n    type: StopwatchActionType.EXERCISE,\r\n    removable: false,\r\n    editable: false\r\n},\r\n{\r\n    id: \"9998\",\r\n    name: \"Break\",\r\n    duration: \"60\",\r\n    type: StopwatchActionType.BREAK,\r\n    removable: false,\r\n    editable: false\r\n},\r\n{\r\n    id: \"9999\",\r\n    name: \"Cooldown\",\r\n    duration: \"90\",\r\n    type: StopwatchActionType.COOLDOWN,\r\n    removable: false,\r\n    editable: false\r\n}]\r\n\r\nexport const ERROR_CODES = {\r\n    e0000: \"OK\",\r\n    e0001: \"An error occured\",\r\n    e0100: \"Training is empty\",\r\n    e0101: \"Training name is not provided\",\r\n    e0102: \"Training has no rounds\",\r\n    e0200: \"Round is empty\",\r\n    e0201: \"Round has no actions\",\r\n    e0202: \"Round name is missing\",\r\n    e0300: \"Action is empty\",\r\n    e0301: \"Action name is not provided\",\r\n    e0302: \"Action type is not provided\",\r\n    e0303: \"Action duration is not correct\"\r\n\r\n}\r\n\r\nexport function getDefaultRoundName(index: number) {\r\n    return \"Round \" + index;\r\n}\r\n\r\nexport const DefaultSettings: Settings = {\r\n    darkMode: false,\r\n    soundEnabled: false,\r\n    isWelcome: false,\r\n    simpleView: false,\r\n    countdownView: \"simple\"\r\n}\r\n\r\nexport const APP_NAME = \"bpd Stopwatch\"","import { Settings } from \"../../core/models\";\r\nimport { ISettingsService } from \"../../core/services/interfaces\";\r\n\r\n\r\nexport const SETTINGS_FLOW_ACTIONS = {\r\n    GET_DARK_MODE: \"GET_DARK_MODE\",\r\n    SET_DARK_MODE: \"SET_DARK_MODE\",\r\n    GET_SOUND_ENABLED: \"GET_SOUND_ENABLED\",\r\n    SET_SOUND_ENABLED: \"SET_SOUND_ENABLED\",\r\n    SET_SETTINGS: \"SET_SETTINGS\",\r\n    GET_SETTINGS: \"GET_SETTINGS\",\r\n    GET_IS_WELCOME: \"GET_IS_WELCOME\",\r\n    SET_IS_WELCOME: \"SET_IS_WELCOME\",\r\n    GET_SIMPLE_VIEW: \"GET_SIMPLE_VIEW\",\r\n    CLEAR_SETTINGS: \"CLEAR_SETTINGS\"\r\n}\r\n\r\nexport type SettingsFlowInput = Settings | boolean;\r\nexport type SettingsFlowOutput = boolean | void | Settings;\r\n\r\nexport class SettingsFlow {\r\n    #service: ISettingsService;\r\n    constructor(service: ISettingsService) {\r\n        this.#service = service;\r\n    }\r\n    getActions() {\r\n        return {\r\n            [SETTINGS_FLOW_ACTIONS.GET_SOUND_ENABLED]: () => {\r\n                return this.#service.isSoundEnabled();\r\n            },\r\n            [SETTINGS_FLOW_ACTIONS.SET_SOUND_ENABLED]: (flag: boolean) => {\r\n                this.#service.setSoundEnabled(flag);\r\n            },\r\n            [SETTINGS_FLOW_ACTIONS.GET_DARK_MODE]: () => {\r\n                return this.#service.isDarkMode();\r\n            },\r\n            [SETTINGS_FLOW_ACTIONS.SET_DARK_MODE]: (flag: boolean) => {\r\n                this.#service.setDarkMode(flag);\r\n            },\r\n            [SETTINGS_FLOW_ACTIONS.SET_SETTINGS]: (value: Settings) => {\r\n                this.#service.setSettings(value);\r\n            },\r\n            [SETTINGS_FLOW_ACTIONS.GET_SETTINGS]: () => {\r\n                return this.#service.getSettings();\r\n            },\r\n            [SETTINGS_FLOW_ACTIONS.GET_IS_WELCOME]: () => {\r\n                return this.#service.isWelcomeSet();\r\n            },\r\n            [SETTINGS_FLOW_ACTIONS.GET_SIMPLE_VIEW]: () => {\r\n                let sett = this.#service.getSettings();\r\n                return sett.simpleView;\r\n            },\r\n            [SETTINGS_FLOW_ACTIONS.SET_IS_WELCOME]: (flag: boolean) => {\r\n                this.#service.setIsWelcome(flag);\r\n            },\r\n            [SETTINGS_FLOW_ACTIONS.CLEAR_SETTINGS]: () => {\r\n                this.#service.clearSettings();\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n}","import { is } from \"bpd-toolkit/dist/esm/index\";\r\nimport { PUSH_ACTIONS } from \"../app/push/push\";\r\nimport { ActionsGroup, Round, RoundActions, StopwatchAction, Training } from \"./models\";\r\nimport { APP_NAME } from \"./statics\";\r\n\r\nexport function showMessage(title: string, message: string) {\r\n    window.$cui.alert(\"common-info-dialog\", \"Info\", {\r\n        title: title,\r\n        message: message\r\n    })\r\n}\r\n\r\nexport function showToast(message: string) {\r\n    window.$cui.toast(message);\r\n}\r\n\r\nexport function calculateDuration(actions: StopwatchAction[]) {\r\n    return is(actions) ? actions.reduce<number>((result: number, value: StopwatchAction) => {\r\n        return result + Number.parseInt(value.duration);\r\n    }, 0) : 0\r\n}\r\n\r\nexport function calcDisplayTimer(seconds: number): string {\r\n    if (seconds < 0) {\r\n        return \"Error\"\r\n    }\r\n    return getFormattedDuration(seconds, (value: number, type: string) => {\r\n        switch (type) {\r\n            case \"hour\":\r\n                return getDisplayTimerValue(value) + \":\";\r\n            case \"minute\":\r\n                return getDisplayTimerValue(value) + \":\";\r\n            default:\r\n                return getDisplayTimerValue(value);\r\n        }\r\n    })\r\n}\r\n\r\nexport function getUserDisplayNotation(seconds: number) {\r\n    return getFormattedDuration(seconds, (value: number, type: string) => {\r\n        switch (type) {\r\n            case \"hour\":\r\n                return `${value}h`\r\n            case \"minute\":\r\n                return `${value}m`\r\n            default:\r\n                return `${value}s`\r\n        }\r\n    })\r\n}\r\n\r\nexport function getSimplifiedDuration(seconds: number, format: (value: number, type: string) => string): string {\r\n\r\n    if (seconds < 60) {\r\n        return format(seconds, \"second\");\r\n    } else if (seconds < 3600) {\r\n        let minutes = Math.floor(seconds / 60);\r\n        let restSeconds = seconds % 60;\r\n        return format(minutes, 'minute') + getSimplifiedDuration(restSeconds, format);\r\n    } else {\r\n        let hours = Math.floor(seconds / 3600);\r\n        let secondsLeft = seconds % 3600;\r\n        return format(hours, 'hour') + getSimplifiedDuration(secondsLeft, format);\r\n    }\r\n\r\n}\r\n\r\nexport function getFormattedDuration(seconds: number, format: (value: number, type: string) => string): string {\r\n    if (seconds < 3600) {\r\n        let minutes = Math.floor(seconds / 60);\r\n        let restSeconds = seconds % 60;\r\n        return format(minutes, 'minute') + format(restSeconds, 'second');\r\n    } else {\r\n        let hours = Math.floor(seconds / 3600);\r\n        let secondsLeft = seconds % 3600;\r\n        return format(hours, 'hour') + getFormattedDuration(secondsLeft, format);\r\n    }\r\n}\r\n\r\nexport function getDisplayTimerValue(value: number): string {\r\n    if (value < 0 || value > 59) {\r\n        return \"Error\";\r\n    }\r\n    return value < 10 ? \"0\" + value : \"\" + value;\r\n}\r\n\r\n\r\n\r\nexport function setDarkMode(darkMode: boolean) {\r\n    if (window.$cui) {\r\n        let utils = window.$cui.getUtils();\r\n        utils.setLightMode(darkMode ? \"dark\" : \"light\");\r\n    }\r\n}\r\n\r\nexport function calculateProgress(current: number, max: number) {\r\n    return Math.floor((current * 100) / max);\r\n}\r\n\r\n/**\r\n * Calculates total actions count and total duration of the training\r\n * @param training \r\n * @returns total actions count and total duration\r\n */\r\nexport function getTotalDuration(training: Training) {\r\n    return training.rounds.reduce<[number, number]>((result: [number, number], current: Round) => {\r\n        return [result[0] + current.actions.length, result[1] + calculateDuration(current.actions)];\r\n    }, [0, 0]);\r\n}\r\n\r\nexport function getBgClassByType(type: string) {\r\n    return \"action-background-\" + type;\r\n}\r\n\r\nexport function getTextClassByActionType(type: string) {\r\n    switch (type) {\r\n        case 'warmup':\r\n            return \"cui-text-success\";\r\n        case 'break':\r\n            return \"cui-text-error\";\r\n        case 'exercise':\r\n            return \"cui-text-accent\";\r\n        case 'cooldown':\r\n            return \"cui-text-secondar\";\r\n        default:\r\n            return \"\";\r\n    }\r\n}\r\n\r\n/**\r\n * Inserts new item to the collection at specific index. If index is lower than 0 then item is added at position 0, if index is bigger than collection size then item is added at the end\r\n * @param collection Collection of items\r\n * @param index position which new item should be added to - if undefined or null provided item will be inserted at last position\r\n * @param t new items to add\r\n * @returns Copy of the collection with new item inserted at specific position\r\n */\r\nexport function insert<T>(collection: T[], index: number, ...t: T[]): T[] {\r\n    if (!collection || collection === null || !t || t === null || t.length === 0) {\r\n        return collection;\r\n    }\r\n    let length = collection.length;\r\n    // If not provided then add then treat it like last\r\n    if (!index || index === 0 || index >= length) {\r\n        return [...collection, ...t];\r\n    }\r\n    if (index <= 0) {\r\n        return [...t, ...collection];\r\n    }\r\n    collection.splice(index, 0, ...t);\r\n    return [...collection]\r\n}\r\n\r\nexport function move<T>(collection: T[], from: number, to: number, size?: number): T[] {\r\n    if (!collection || collection === null || from < 0) {\r\n        return collection;\r\n    }\r\n    let amount = size ?? 1;\r\n    let length = collection.length;\r\n    if (length < 2 || from >= length) {\r\n        return [...collection];\r\n    }\r\n    const el = collection.splice(from, amount);\r\n    const newLength = length - amount;\r\n    const newTo = to;\r\n    //let newIdx = newTo < 0 ? 0 : newTo > length - amount ? length - amount : newTo;\r\n    if (newTo <= 0) {\r\n        return [...el, ...collection];\r\n    }\r\n    if (newTo >= newLength) {\r\n        return [...collection, ...el];\r\n    }\r\n    collection.splice(newTo, 0, ...el)\r\n    return [...collection];\r\n\r\n}\r\n\r\nexport function groupActionsByType(actions: StopwatchAction[]): ActionsGroup {\r\n    return actions.reduce<ActionsGroup>((out: ActionsGroup, item: StopwatchAction) => {\r\n        const type = item.type ?? \"Unknown\";\r\n        if (!out[type]) {\r\n            out[type] = [item];\r\n        } else {\r\n            out[type].push(item);\r\n        }\r\n        return out;\r\n    }, {})\r\n}\r\n\r\nexport function buildQuickRoundActions(actions: RoundActions, exerciseCount: number): StopwatchAction[] {\r\n    const stopwatchActions: StopwatchAction[] = [];\r\n    if (actions.warmup) {\r\n        stopwatchActions.push(actions.warmup);\r\n    }\r\n    if (actions.exercise) {\r\n        for (let i = 0; i < exerciseCount; i++) {\r\n            stopwatchActions.push(actions.exercise);\r\n            if (actions.break && i < exerciseCount - 1) {\r\n                stopwatchActions.push(actions.break);\r\n            }\r\n        }\r\n    }\r\n    if (actions.cooldown) {\r\n        stopwatchActions.push(actions.cooldown)\r\n    }\r\n    return stopwatchActions;\r\n}\r\n\r\nexport function setPageTitle(text: string): void {\r\n    if (is(text)) {\r\n        document.title = `${APP_NAME} - ${text}`;\r\n        return;\r\n    }\r\n    document.title = APP_NAME;\r\n}\r\n\r\nexport function setNavbarTitle(text: string): void {\r\n    window.$push.perform(PUSH_ACTIONS.SET_NAVBAR_TITLE, text);\r\n}\r\n\r\nexport function createArray<T>(t: T | T[] | undefined): T[] {\r\n    if (!t) {\r\n        return []\r\n    }\r\n    if (Array.isArray(t)) {\r\n        return t;\r\n    }\r\n    return [t];\r\n}"],"sourceRoot":""}